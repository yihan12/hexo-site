{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/oranges/source/css/base.css","path":"css/base.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/comments.css","path":"css/comments.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/color-scheme.css","path":"css/color-scheme.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/highlight.css","path":"css/highlight.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/main.styl","path":"css/main.styl","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/github-markdown.css","path":"css/github-markdown.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/images/favicon.jpeg","path":"images/favicon.jpeg","modified":1,"renderable":1},{"_id":"themes/oranges/source/images/favicon1.png","path":"images/favicon1.png","modified":1,"renderable":1},{"_id":"themes/oranges/source/images/avatar1.png","path":"images/avatar1.png","modified":1,"renderable":1},{"_id":"themes/oranges/source/images/avatar.jpeg","path":"images/avatar.jpeg","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/activeNav.js","path":"js/activeNav.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/backtotop.js","path":"js/backtotop.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/catalog.js","path":"js/catalog.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/codeCopy.js","path":"js/codeCopy.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/colorscheme.js","path":"js/colorscheme.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/fancybox.js","path":"js/fancybox.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/js/shares.js","path":"js/shares.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/gitalk.min.js","path":"plugins/gitalk.min.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/gitalk.css","path":"plugins/gitalk.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/jquery.fancybox.min.js","path":"plugins/jquery.fancybox.min.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/jquery.fancybox.min.css","path":"plugins/jquery.fancybox.min.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/clipboard.min.js","path":"plugins/clipboard.min.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/jquery.min.js","path":"plugins/jquery.min.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/valine.min.js","path":"plugins/valine.min.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/waline.js","path":"plugins/waline.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/waline.mjs","path":"plugins/waline.mjs","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/waline.css","path":"plugins/waline.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/css/figcaption/mac-block.css","path":"css/figcaption/mac-block.css","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/mathjax/tex-chtml.js","path":"plugins/mathjax/tex-chtml.js","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff","path":"plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff","path":"plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff","path":"plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff","modified":1,"renderable":1},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff","path":"plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff","modified":1,"renderable":1}],"Cache":[{"_id":"source/_posts/.DS_Store","hash":"eec8b21ad60e658dddfca710726ea58e8bad61eb","modified":1691985967986},{"_id":"source/categories/index.md","hash":"604a635fd603df744a2adcfc7253e2876bab4727","modified":1691893909242},{"_id":"source/_posts/jså»é™¤ä¸­æ‹¬å·.md","hash":"0affbf8474f798d07c216bcdac928627abe12470","modified":1691908985380},{"_id":"source/about/index.md","hash":"6d25a1f5a28c87fc6a071e5e24a8789bc1fdec9e","modified":1691912831319},{"_id":"source/friends/index.md","hash":"b48eb357e54258e2cc4bd7d2eaac6462de1c8bdc","modified":1691895646518},{"_id":"source/tags/index.md","hash":"e5efda02833ca720ce647161b6edb9326b8e8035","modified":1691891512600},{"_id":"source/_posts/Echarts/echarts--xyè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†éš”çº¿.md","hash":"d662514623227a14cb5e79500c3228626f81569c","modified":1691928034710},{"_id":"source/_posts/Echarts/echarts--ä¸Šä¸‹å·¦å³çš„è·ç¦»ï¼ˆgridï¼‰.md","hash":"94fafa749fd44c42abd87614466bb0a747aeda57","modified":1691927977355},{"_id":"source/_posts/Echarts/echartsåœ†æŸ±--è®¾ç½®æŸ±å­çš„borderRadius.md","hash":"da8d10ece90a0b5c19d8d5362610c545d09d7aea","modified":1691928168399},{"_id":"source/_posts/Echarts/echarts--åŸºå‡†çº¿markLine.md","hash":"0c66482d620e34e7978e7a59911c3ace29ea24f4","modified":1691927943620},{"_id":"source/_posts/Echarts/echartså›¾ä¾‹--é€‰ä¸­çŠ¶æ€ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºç½®ç°ï¼‰.md","hash":"ca943c8e0072921ed155c2c9253f2961712deb7f","modified":1691928118162},{"_id":"source/_posts/Echarts/echartsè®¾ç½®ä»åŸç‚¹å¼€å§‹.md","hash":"626ac6aaace9b50e1aa65895e670e871362d110e","modified":1691928074812},{"_id":"source/_posts/Echarts/echartsæŠ˜çº¿--æ— æ•°æ®æ—¶è¿çº¿ä¸å¦.md","hash":"7a5c97668fe2191c31b333499930611de715b1d1","modified":1691928199214},{"_id":"source/_posts/Echarts/echartsæŸ±å½¢--è®¾ç½®æŸ±å­å¤šä¸ªé¢œè‰²ï¼ˆæ¸è¿›è‰²ï¼‰.md","hash":"5902d94421783149ab8eddb8a495023fe48f8591","modified":1691928251419},{"_id":"source/_posts/Echarts/echartsæŠ˜çº¿å›¾--æ— æ‹ç‚¹ï¼ŒæŠ˜çº¿æ ·å¼.md","hash":"120a52bb22b03d6daa4e7c124c3b432da8269074","modified":1691928219460},{"_id":"source/_posts/Echarts/echatsæŠ˜çº¿--æ‹ç‚¹åœ†çš„æ ·å¼ï¼ˆå†…åœ†å¤–åœ†ï¼‰.md","hash":"5d70fcdbc36350ce13dbed80e0fb0704c4bafdd5","modified":1691928301261},{"_id":"source/_posts/JavaScript/.DS_Store","hash":"6f0fa3152b188737d45f0ec14d5730366a91d58d","modified":1691985967982},{"_id":"source/_posts/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡.md","hash":"f91b838a858d162dc86cfdee1dbf20a94251a855","modified":1691986023400},{"_id":"source/_posts/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹è§£æ„èµ‹å€¼.md","hash":"9563b61ced6112b269912b5e94091771f5efd564","modified":1691986086280},{"_id":"source/_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰.md","hash":"705dcb021d443419cce284eecaa27b6a2c98f8a7","modified":1691986270682},{"_id":"source/_posts/æµè§ˆå™¨/ ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥.md","hash":"fe4b9908989392d203d25a62970097f2849efbf9","modified":1691911038346},{"_id":"source/_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/.DS_Store","hash":"f10cf3669afa41a916e983c7530e3c246ec258d6","modified":1691985992833},{"_id":"source/_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ.md","hash":"f11edbbcbcfeead0100562f7c397da44201fb102","modified":1691986318700},{"_id":"source/_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶.md","hash":"233b3d8ef60c9c28b8a175491bd923b60ebb3c61","modified":1691986232378},{"_id":"source/_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–.md","hash":"e820078e0404049683810c54fe864dce87c8d2db","modified":1691986351242},{"_id":"themes/oranges/source/css/_common/layout/header.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1691857808217},{"_id":"themes/oranges/.gitignore","hash":"986003ff5239d03749d3d3b570671bbb7ffadba6","modified":1691857808214},{"_id":"themes/oranges/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1691985437966},{"_id":"themes/oranges/LICENSE","hash":"f811cebccc40c019ffd2156f1f15e226e1b86f79","modified":1691857808214},{"_id":"themes/oranges/README-zh.md","hash":"93f142c18fa3ede208610f9e4a37a5e281293a22","modified":1691857808214},{"_id":"themes/oranges/README.md","hash":"3c8682895cf49ac9c0570140477561ec52594f71","modified":1691857808214},{"_id":"themes/oranges/layout/archive.ejs","hash":"9c314d52ecb3ea491eb49a27adce76bb0b817ef2","modified":1691857808216},{"_id":"themes/oranges/_config.yml","hash":"a1ab4ffa1c0ffbabab54d4b9252f967395b01fb9","modified":1691911362536},{"_id":"themes/oranges/layout/category.ejs","hash":"ad8ef3de7066f2f7a4d8e603c9ee9ed3e5aa237e","modified":1691857808216},{"_id":"themes/oranges/layout/post.ejs","hash":"5d46348e1fdeaceb227b2882e933c121e5c67e9a","modified":1691857808216},{"_id":"themes/oranges/layout/index.ejs","hash":"492bd5d33bf4a5d8baec1028dd54180d4caec3ef","modified":1691857808216},{"_id":"themes/oranges/layout/layout.ejs","hash":"6fda0898d5b68f624cc1aea5ea0af6cd8570b5e7","modified":1691857808216},{"_id":"themes/oranges/layout/tag.ejs","hash":"2969bf8ba785fa9f592162e3b6fb3e7ae98eba64","modified":1691857808217},{"_id":"themes/oranges/languages/es.yml","hash":"29cf37178f7596fe408cd3234d3addb880608287","modified":1691857808215},{"_id":"themes/oranges/languages/de.yml","hash":"72cc121b4a9e18c55623cf8035d288e415841851","modified":1691857808214},{"_id":"themes/oranges/languages/fr.yml","hash":"ac102613f8a7f10b32b6e38d99d5511034733a0d","modified":1691857808215},{"_id":"themes/oranges/languages/default.yml","hash":"c8740c9a9faafd28d8ba8eb60d28e0160e5f9839","modified":1691857808214},{"_id":"themes/oranges/languages/nl.yml","hash":"e6f86d1bc16c916089057e8c8d354983ee839d21","modified":1691857808215},{"_id":"themes/oranges/languages/ja.yml","hash":"08c64794618945b5da0edcc5065e46577fbd5ff3","modified":1691857808215},{"_id":"themes/oranges/languages/ko.yml","hash":"98f150835d5b039cdfe1cf8b32df815d8d763231","modified":1691857808215},{"_id":"themes/oranges/languages/no.yml","hash":"1c6fd53c378fdd00c2f84ef0af4f61c1f8ea4f8b","modified":1691857808215},{"_id":"themes/oranges/languages/zh-CN.yml","hash":"3a3b4ade3ffcf5ef330e31d3ce0d69804cfa7c26","modified":1691857808215},{"_id":"themes/oranges/languages/pt.yml","hash":"0719f13aa9f5211400b129d310f517750f4a6e0b","modified":1691857808215},{"_id":"themes/oranges/languages/ru.yml","hash":"ada59b0713fef0e6617a12b20065ce9b24234521","modified":1691857808215},{"_id":"themes/oranges/languages/zh-TW.yml","hash":"3d26316a125ea18c64658d4e028351e395e45756","modified":1691857808215},{"_id":"themes/oranges/layout/_partial/backtotop.ejs","hash":"e735b296b20f6d33ee42b307541b3ce1cd83fea7","modified":1691857808215},{"_id":"themes/oranges/layout/_partial/catalog.ejs","hash":"7ecb4ec83b999b583aa5ae53b559ac4dd3d29de3","modified":1691857808215},{"_id":"themes/oranges/layout/_partial/clipboard.ejs","hash":"1ff3bf121081a39fea3ed430e26a458539721548","modified":1691857808215},{"_id":"themes/oranges/layout/_partial/colorscheme.ejs","hash":"0cead620bac1effa5a972ee7e94ac83495cb6a9d","modified":1691857808215},{"_id":"themes/oranges/layout/_partial/footer.ejs","hash":"b80cea1138c6c4c958b5535df153790ad49f7305","modified":1691857808216},{"_id":"themes/oranges/layout/_partial/header.ejs","hash":"254db440d03dbf8d1994ec24e6f1ee443b8ccdc8","modified":1691857808216},{"_id":"themes/oranges/layout/_partial/search.ejs","hash":"ecd4bdf9f964e6cede204e71695a28f12b799a26","modified":1691857808216},{"_id":"themes/oranges/layout/_partial/comments.ejs","hash":"8ece1ea9c8afc70e2d643c7189b4511269942807","modified":1691857808216},{"_id":"themes/oranges/layout/_partial/mathjax.ejs","hash":"5e8d2451afd75f1a37148325b9d6a5ecd5140bad","modified":1691857808216},{"_id":"themes/oranges/source/css/base.css","hash":"6fc8a265777c40336678c9b5cc033f7399b55459","modified":1691857808218},{"_id":"themes/oranges/source/css/comments.css","hash":"0bf6e453cd42da1dc96b4f90b5023e437d1454e0","modified":1691857808218},{"_id":"themes/oranges/layout/_partial/shares.ejs","hash":"7d162af78648d83149397c2a7e24939cc29a6725","modified":1691857808216},{"_id":"themes/oranges/layout/_partial/navigation.ejs","hash":"b345ef52f0211b259a051940db044ba33567717d","modified":1691857808216},{"_id":"themes/oranges/source/css/color-scheme.css","hash":"ec1e624f750e8caf5d463437b06bd1f705173467","modified":1691857808218},{"_id":"themes/oranges/source/css/highlight.css","hash":"7ebfcbb58e87dd0436ab9538641eb6577fa7a8f8","modified":1691857808218},{"_id":"themes/oranges/source/css/main.styl","hash":"cd4729f50c22948103d8fa513412822f32c7ba5c","modified":1691857808219},{"_id":"themes/oranges/source/images/avatar1.png","hash":"642ef58c0781d0f1885775ddd349ca7af65f24b0","modified":1691857808219},{"_id":"themes/oranges/source/css/github-markdown.css","hash":"0dc8e66ad2121924445150eb59a5f6091662f6f7","modified":1691857808218},{"_id":"themes/oranges/source/images/favicon1.png","hash":"21cf9c2e9c36c244a6542a3b6c220f13fa1a67cc","modified":1691857808219},{"_id":"themes/oranges/source/js/activeNav.js","hash":"06aa9a2985f1d328f0b7fe69a28bee31f16ebb1a","modified":1691857808219},{"_id":"themes/oranges/source/js/backtotop.js","hash":"0be1bd072a7a34ce50d72376cad722023e772e6d","modified":1691857808219},{"_id":"themes/oranges/source/images/favicon.jpeg","hash":"4111590cb829b7159c29d8f4f2356547a9d0e094","modified":1691906631799},{"_id":"themes/oranges/source/js/catalog.js","hash":"3f895778af2029bff0cd588eeca0a8b64845065d","modified":1691857808219},{"_id":"themes/oranges/source/js/colorscheme.js","hash":"1290f902b5651bf4d66187b5695ec90dc3ec70a8","modified":1691857808219},{"_id":"themes/oranges/source/js/fancybox.js","hash":"b217d56f8db94498d7e272d164abac6ab1c07ddd","modified":1691857808219},{"_id":"themes/oranges/source/js/search.js","hash":"374efc788268330edd7ca0c91a43e75f7ec4149c","modified":1691857808219},{"_id":"themes/oranges/source/js/codeCopy.js","hash":"3fab7bf3e0d22326440af1963e83448f8b8b4ab6","modified":1691857808219},{"_id":"themes/oranges/source/images/avatar.jpeg","hash":"4111590cb829b7159c29d8f4f2356547a9d0e094","modified":1691905890175},{"_id":"themes/oranges/source/js/shares.js","hash":"aa0a3dd5c24efe7945351f7ac22d0f84a93e350c","modified":1691857808219},{"_id":"themes/oranges/source/plugins/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1691857808220},{"_id":"themes/oranges/source/plugins/clipboard.min.js","hash":"9a7cb405f9beed005891587d41f76a0720893ffc","modified":1691857808220},{"_id":"themes/oranges/source/plugins/jquery.fancybox.min.css","hash":"2e6a66987dbc7a57bbfd2655bce166739b4ba426","modified":1691857808222},{"_id":"themes/oranges/source/css/figcaption/mac-block.css","hash":"d923323312d78ecb40cb60c093dba36b0127db68","modified":1691857808218},{"_id":"themes/oranges/source/css/_common/comments/index.styl","hash":"51debb54c93bdb79e19329e5f14c77efcc5d36d6","modified":1691857808217},{"_id":"themes/oranges/source/plugins/waline.css","hash":"ba52d91d4685f8e07423a5651fea8a8f5151f457","modified":1691857808228},{"_id":"themes/oranges/source/css/_common/components/fancybox.styl","hash":"e0902e4aa71a99ac0db79f8f248f81e91265aebd","modified":1691857808217},{"_id":"themes/oranges/source/css/_common/layout/footer.styl","hash":"d9c4019615db0cacb0ff139c3e44a8f97fda3ffb","modified":1691857808217},{"_id":"themes/oranges/source/css/_common/components/index.styl","hash":"37b7b72bf95709fa8e8f85800812530b69e685dd","modified":1691857808217},{"_id":"themes/oranges/source/css/_common/comments/valine.styl","hash":"d15fba0d2fa4712da96d44763a94b420d7419835","modified":1691857808217},{"_id":"themes/oranges/source/css/_common/layout/index.styl","hash":"40b9c3aa77b9b9fa3d9c6207c42fbd85b541960f","modified":1691857808217},{"_id":"themes/oranges/source/css/_common/utils/index.styl","hash":"6abd3b97a6e742c18382bd10c6c5e8d696f428b2","modified":1691857808217},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff","hash":"89d2c8d274693c5a6e250e96e2a2e26e25619079","modified":1691857808223},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff","hash":"6712cf0aa5c12edc1cbbca8a1732a9cde0854c48","modified":1691857808224},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff","hash":"9c98f9f022647eb802434947e062b569ccedd5f0","modified":1691857808224},{"_id":"themes/oranges/source/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff","hash":"91a4025dd3b18ca6bda63a215869773705435041","modified":1691857808224},{"_id":"themes/oranges/source/plugins/jquery.min.js","hash":"0dc32db4aa9c5f03f3b38c47d883dbd4fed13aae","modified":1691857808223},{"_id":"themes/oranges/source/plugins/jquery.fancybox.min.js","hash":"b2b093d8f5ffeee250c8d0d3a2285a213318e4ea","modified":1691857808223},{"_id":"themes/oranges/source/plugins/valine.min.js","hash":"d081a412c63411a75a3a880ddece65335d1c3ee8","modified":1691857808228},{"_id":"themes/oranges/source/plugins/waline.js","hash":"c26a8b22924813d883fb23e232063dce9b4e01c3","modified":1691857808229},{"_id":"themes/oranges/source/plugins/waline.mjs","hash":"758addf5769f9c1537a7b7ec6fcfb52a93e49ef5","modified":1691857808229},{"_id":"themes/oranges/source/plugins/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1691857808222},{"_id":"themes/oranges/source/plugins/mathjax/tex-chtml.js","hash":"bef586271c8246d003509a68b8f11181d967847d","modified":1691857808227},{"_id":"public/about/index.html","hash":"9a9f1b24853b187dfefe2162d821d29f2ee54ce9","modified":1691986510259},{"_id":"public/friends/index.html","hash":"67ddb1e39d130cb09a0fb05dbcae1a806f69911d","modified":1691986510259},{"_id":"public/tags/index.html","hash":"397402a4122f28307e4f56b081e009848fe55052","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/index.html","hash":"2eafdc333844eb2421187a012f38f283775cc167","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/page/2/index.html","hash":"13353d18d9513915aba29b1c0416193ea4721a9d","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/index.html","hash":"7bdf8fa96ec4555bbd98af73b262552c71034775","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/æ­£åˆ™/index.html","hash":"0e9fd08ce087f1f755f0979e3907baa1ff5655de","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/markLine/index.html","hash":"e77d2681a2a92791feac5a1813a6c05c0b9b710d","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/boundaryGap/index.html","hash":"ffe2d64f47ec73925611d9003fc0651cd1431d51","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/symbol/index.html","hash":"9cb032a946119ca9de8d1b75fdc137f1404a4ddf","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/æµè§ˆå™¨/index.html","hash":"1a01f7df8163d2caa3ce762660b96b6946e16f26","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/xAxis/index.html","hash":"e033962d65edc75d7badc167fc609b15105dbb2c","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/legend/index.html","hash":"479cd5cbedc4f4e102bb399d64cee48f402cafc2","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/index.html","hash":"8de834f6051d45c1fb5b4cb048d3ef195c6c1b7e","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/borderRadius/index.html","hash":"d18e92f7e8c9883f312e698265226c9bba2203b9","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/connectNulls/index.html","hash":"cb55235b1e2b662a0914d06f04c74ff512485e3c","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/symbolSize/index.html","hash":"d801e081b7c81087beafbe5192f0a9066ca2a862","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/grid/index.html","hash":"b22527f7a265d126fdd5b66d20b0ad043a73936c","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/Echarts/itemStyle/index.html","hash":"ce00d767574062991a414640d6f86a650ae14cb4","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/æµè§ˆå™¨/åŒæºç­–ç•¥/index.html","hash":"9b2bef3b435254668c74ec3ac950fa54866275eb","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/ES6/index.html","hash":"2d302f067e39331f1e38c874c69098b8011dcd1e","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/JavaScriptæ·±å…¥ç†è§£/index.html","hash":"bd8c9d3e5a99fc007af92e1f9edc0f00a6631375","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/ES6/è§£æ„/index.html","hash":"ac6b8cb11ca86fffc9a9e9c2ea1dc5a73a926111","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/ES6/å˜é‡/index.html","hash":"df70e0591d42ded19aa776b2a0a01053e5ee477f","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/JavaScriptæ·±å…¥ç†è§£/æ•°ç»„å»é‡/index.html","hash":"56dd99df40a47a0dd852af412341d0560fddc4ff","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/JavaScriptæ·±å…¥ç†è§£/èŠ‚æµ/index.html","hash":"c5a2011f1da72a50dfd89ec9e0e32f663ae65269","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/JavaScriptæ·±å…¥ç†è§£/é˜²æŠ–/index.html","hash":"6f99aa50d1aadb85594c386e0f3c43a146abbe8a","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/lodashæºç åˆ†æ/index.html","hash":"c9d41730bcb0d3331c39c8834ed7d7a308477607","modified":1691986510259},{"_id":"public/categories/å‰ç«¯/JavaScript/lodashæºç åˆ†æ/é˜²æŠ–èŠ‚æµ/index.html","hash":"af5955fbd9c5f1b3dfef8b20018673f96533bfd7","modified":1691986510259},{"_id":"public/page/2/index.html","hash":"34fca20950190bac28e87768f5cd69249a75ba47","modified":1691986510259},{"_id":"public/tags/å‰ç«¯/index.html","hash":"5fb39d08f08e98ba426e80a2789046b6897e6814","modified":1691986510259},{"_id":"public/tags/Echarts/index.html","hash":"8a88506f37618a271824e784b9c62734df54591e","modified":1691986510259},{"_id":"public/tags/js/index.html","hash":"dde6974f799cf8ac22a9053a6248f126923e0586","modified":1691986510259},{"_id":"public/tags/æ­£åˆ™/index.html","hash":"4c119a6588790573fb1876d81c352ee2326cf51f","modified":1691986510259},{"_id":"public/tags/æµè§ˆå™¨/index.html","hash":"5df4d89598f2b40faf6746835f31dc4472830a82","modified":1691986510259},{"_id":"public/tags/ES6/index.html","hash":"dc2572615edb5b069cd0eb874269c96ade5f5143","modified":1691986510259},{"_id":"public/tags/JavaScript/index.html","hash":"a48eb222ae27a4f8a50a3536d66d0aa33d9556ba","modified":1691986510259},{"_id":"public/tags/lodash/index.html","hash":"b08b97110c8b29e0d97054bc3502a11877d36697","modified":1691986510259},{"_id":"public/categories/index.html","hash":"402bdabe8b870a4f9e82840bc79ce3869df78436","modified":1691986510259},{"_id":"public/2023/08/13/æµè§ˆå™¨/ ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥/index.html","hash":"8a8540aff31513e546cb9beca359968625f7675a","modified":1691986510259},{"_id":"public/2023/08/13/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡/index.html","hash":"89126af0bbfe413f683f2edb7f9d4c9c7d4651ce","modified":1691986510259},{"_id":"public/2023/08/13/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹è§£æ„èµ‹å€¼/index.html","hash":"5caf86167c649bb422d10b141e76b08855f2d5b8","modified":1691986510259},{"_id":"public/2023/08/13/jså»é™¤ä¸­æ‹¬å·/index.html","hash":"07ad2c3dc7f0919acd810d7ad91dda455665d26c","modified":1691986510259},{"_id":"public/2022/07/20/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰/index.html","hash":"32aeaa20783bdf49e188eb473140e304a11252c9","modified":1691986510259},{"_id":"public/2022/07/10/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶/index.html","hash":"cd4a7692142a83a4fe806ec62caed3c0c5031325","modified":1691986510259},{"_id":"public/2022/07/09/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ/index.html","hash":"5bd00d3cf1366ce19f193b04939061ede540ac4b","modified":1691986510259},{"_id":"public/2022/07/08/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–/index.html","hash":"a3f4ae33e1aa130ff7004b24195204b78e4e3725","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echatsæŠ˜çº¿--æ‹ç‚¹åœ†çš„æ ·å¼ï¼ˆå†…åœ†å¤–åœ†ï¼‰/index.html","hash":"48d490148508f7f01284cec5597e42bc15a57361","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartsæŸ±å½¢--è®¾ç½®æŸ±å­å¤šä¸ªé¢œè‰²ï¼ˆæ¸è¿›è‰²ï¼‰/index.html","hash":"ca0811e6730de8a3dc5bb9496681eaca855391b6","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartsæŠ˜çº¿å›¾--æ— æ‹ç‚¹ï¼ŒæŠ˜çº¿æ ·å¼/index.html","hash":"b75108cb0a43c81bba77792a89409eb6773fe065","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartsæŠ˜çº¿--æ— æ•°æ®æ—¶è¿çº¿ä¸å¦/index.html","hash":"ae55a292563345f80f0a42acc7315b66559e698b","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartsåœ†æŸ±--è®¾ç½®æŸ±å­çš„borderRadius/index.html","hash":"95028cf2392de6da41545467a0e505628dce9b04","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartså›¾ä¾‹--é€‰ä¸­çŠ¶æ€ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºç½®ç°ï¼‰/index.html","hash":"5159f469e329a803cc1e17a764ec3b0b26dc5db5","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echartsè®¾ç½®ä»åŸç‚¹å¼€å§‹/index.html","hash":"a4c09925eeb5cc9c5235fea2b495e25d3818cced","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echarts--ä¸Šä¸‹å·¦å³çš„è·ç¦»ï¼ˆgridï¼‰/index.html","hash":"dd512e62949400747eb086f9a34c9100a7120674","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echarts--åŸºå‡†çº¿markLine/index.html","hash":"838b57d232269c78c8af28b97febc01570dfb092","modified":1691986510259},{"_id":"public/2022/03/10/Echarts/echarts--xyè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†éš”çº¿/index.html","hash":"56e6b570d87fd4f0a7158a9ac1a780b6da3a50d5","modified":1691986510259},{"_id":"public/archives/index.html","hash":"b3d4f412e4fffd51fc5a8664e272c915b6686d2a","modified":1691986510259},{"_id":"public/archives/page/2/index.html","hash":"b3d4f412e4fffd51fc5a8664e272c915b6686d2a","modified":1691986510259},{"_id":"public/archives/2022/index.html","hash":"6d03397e9d0841b7c41b779bc4f3a3023dfec62c","modified":1691986510259},{"_id":"public/archives/2022/page/2/index.html","hash":"6d03397e9d0841b7c41b779bc4f3a3023dfec62c","modified":1691986510259},{"_id":"public/archives/2022/03/index.html","hash":"f728784b66ee6acf03fda2152e362eb8e0c006fc","modified":1691986510259},{"_id":"public/archives/2022/07/index.html","hash":"6b723c651a4387d5553f9e25b35c75104207a4d6","modified":1691986510259},{"_id":"public/archives/2023/index.html","hash":"2cda083bc6249dab449d5bae385adbd00d56137d","modified":1691986510259},{"_id":"public/archives/2023/08/index.html","hash":"d92b0553dfa325441fd190a19663186cbc5af76d","modified":1691986510259},{"_id":"public/index.html","hash":"f36b029e53ba98701f3027b7fe1c344d358a3865","modified":1691986510259},{"_id":"public/images/favicon1.png","hash":"21cf9c2e9c36c244a6542a3b6c220f13fa1a67cc","modified":1691986510259},{"_id":"public/images/avatar1.png","hash":"642ef58c0781d0f1885775ddd349ca7af65f24b0","modified":1691986510259},{"_id":"public/images/avatar.jpeg","hash":"4111590cb829b7159c29d8f4f2356547a9d0e094","modified":1691986510259},{"_id":"public/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Zero.woff","hash":"6712cf0aa5c12edc1cbbca8a1732a9cde0854c48","modified":1691986510259},{"_id":"public/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff","hash":"91a4025dd3b18ca6bda63a215869773705435041","modified":1691986510259},{"_id":"public/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff","hash":"9c98f9f022647eb802434947e062b569ccedd5f0","modified":1691986510259},{"_id":"public/plugins/mathjax/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff","hash":"89d2c8d274693c5a6e250e96e2a2e26e25619079","modified":1691986510259},{"_id":"public/images/favicon.jpeg","hash":"4111590cb829b7159c29d8f4f2356547a9d0e094","modified":1691986510259},{"_id":"public/plugins/waline.mjs","hash":"758addf5769f9c1537a7b7ec6fcfb52a93e49ef5","modified":1691986510259},{"_id":"public/css/base.css","hash":"6fc8a265777c40336678c9b5cc033f7399b55459","modified":1691986510259},{"_id":"public/css/color-scheme.css","hash":"ec1e624f750e8caf5d463437b06bd1f705173467","modified":1691986510259},{"_id":"public/css/highlight.css","hash":"7ebfcbb58e87dd0436ab9538641eb6577fa7a8f8","modified":1691986510259},{"_id":"public/css/comments.css","hash":"0bf6e453cd42da1dc96b4f90b5023e437d1454e0","modified":1691986510259},{"_id":"public/css/github-markdown.css","hash":"0dc8e66ad2121924445150eb59a5f6091662f6f7","modified":1691986510259},{"_id":"public/js/catalog.js","hash":"3f895778af2029bff0cd588eeca0a8b64845065d","modified":1691986510259},{"_id":"public/js/fancybox.js","hash":"b217d56f8db94498d7e272d164abac6ab1c07ddd","modified":1691986510259},{"_id":"public/js/codeCopy.js","hash":"3fab7bf3e0d22326440af1963e83448f8b8b4ab6","modified":1691986510259},{"_id":"public/js/colorscheme.js","hash":"1290f902b5651bf4d66187b5695ec90dc3ec70a8","modified":1691986510259},{"_id":"public/js/shares.js","hash":"aa0a3dd5c24efe7945351f7ac22d0f84a93e350c","modified":1691986510259},{"_id":"public/js/search.js","hash":"374efc788268330edd7ca0c91a43e75f7ec4149c","modified":1691986510259},{"_id":"public/js/activeNav.js","hash":"06aa9a2985f1d328f0b7fe69a28bee31f16ebb1a","modified":1691986510259},{"_id":"public/js/backtotop.js","hash":"0be1bd072a7a34ce50d72376cad722023e772e6d","modified":1691986510259},{"_id":"public/plugins/jquery.fancybox.min.css","hash":"2e6a66987dbc7a57bbfd2655bce166739b4ba426","modified":1691986510259},{"_id":"public/plugins/clipboard.min.js","hash":"9a7cb405f9beed005891587d41f76a0720893ffc","modified":1691986510259},{"_id":"public/css/figcaption/mac-block.css","hash":"d923323312d78ecb40cb60c093dba36b0127db68","modified":1691986510259},{"_id":"public/css/main.css","hash":"55ebc953b7cdf77bbb55238d42367d36fde25418","modified":1691986510259},{"_id":"public/plugins/gitalk.css","hash":"61d71cb30f5f34cbb1f2b5bc469784d6cb908c22","modified":1691986510259},{"_id":"public/plugins/waline.css","hash":"ba52d91d4685f8e07423a5651fea8a8f5151f457","modified":1691986510259},{"_id":"public/plugins/jquery.fancybox.min.js","hash":"b2b093d8f5ffeee250c8d0d3a2285a213318e4ea","modified":1691986510259},{"_id":"public/plugins/jquery.min.js","hash":"0dc32db4aa9c5f03f3b38c47d883dbd4fed13aae","modified":1691986510259},{"_id":"public/plugins/waline.js","hash":"c26a8b22924813d883fb23e232063dce9b4e01c3","modified":1691986510259},{"_id":"public/plugins/valine.min.js","hash":"d081a412c63411a75a3a880ddece65335d1c3ee8","modified":1691986510259},{"_id":"public/plugins/gitalk.min.js","hash":"564fc7c731d05fa70d71ef853a2c8cc7725739e2","modified":1691986510259},{"_id":"public/plugins/mathjax/tex-chtml.js","hash":"bef586271c8246d003509a68b8f11181d967847d","modified":1691986510259}],"Category":[{"name":"å‰ç«¯","_id":"cllad2ywe0004q42v3wllebmy"},{"name":"Echarts","parent":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywj000lq42vdkuy0ho6"},{"name":"æ­£åˆ™","parent":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywo0019q42v3d7m0etr"},{"name":"boundaryGap","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywq001vq42vgnwwh756"},{"name":"markLine","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywq0020q42vcdfw3d2g"},{"name":"symbol","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yws0025q42v5gbnanaa"},{"name":"æµè§ˆå™¨","parent":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywt002bq42v3au1e2ux"},{"name":"xAxis","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywu002hq42vesya8nqr"},{"name":"JavaScript","parent":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywu002lq42v0x2k0a4u"},{"name":"legend","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywu002sq42v0igb6zdy"},{"name":"borderRadius","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywv002xq42vc3xcc09t"},{"name":"connectNulls","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywv0030q42vcfaq39kg"},{"name":"symbolSize","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww0034q42v8qvz2r6x"},{"name":"grid","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww0036q42vhhu9f7mf"},{"name":"itemStyle","parent":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww0039q42v33gw9mwk"},{"name":"åŒæºç­–ç•¥","parent":"cllad2ywt002bq42v3au1e2ux","_id":"cllad2ywx003cq42v6pdgcj8g"},{"name":"ES6","parent":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2ywx003fq42vgzzbcaeq"},{"name":"JavaScriptæ·±å…¥ç†è§£","parent":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2ywx003mq42v05bvhbgh"},{"name":"è§£æ„","parent":"cllad2ywx003fq42vgzzbcaeq","_id":"cllad2ywy003sq42va5gafqr1"},{"name":"å˜é‡","parent":"cllad2ywx003fq42vgzzbcaeq","_id":"cllad2ywy003tq42vdgv33640"},{"name":"æ•°ç»„å»é‡","parent":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2ywz003vq42v9uwu1cfj"},{"name":"èŠ‚æµ","parent":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2yx0003yq42v491hcumc"},{"name":"é˜²æŠ–","parent":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2yx00041q42vd2901ko5"},{"name":"lodashæºç åˆ†æ","parent":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx2004jq42v57sw8uvt"},{"name":"é˜²æŠ–èŠ‚æµ","parent":"cllad2yx2004jq42v57sw8uvt","_id":"cllad2yx3004lq42vchdgb27i"}],"Data":[],"Page":[{"title":"about","date":"2023-08-13T07:47:11.319Z","type":"about","categories":null,"tags":null,"_content":"\n### Hi there, I'm yihan123 ğŸ‘‹\n\nğŸ‘¯ I'm Peng Yao hui, a web frontend developer from ChangSha, China.\n\n- ğŸŒ± : JavaScript/Css3/Html5/Vue/React\n- ğŸ”­ : Work in shenzhen\n- ğŸ˜„ : CSDN:[æ˜“å‡½ 123](https://blog.csdn.net/qq_43485006)/æ€å¦:[æ˜“å‡½ 123](https://segmentfault.com/u/yihan123)/æ˜é‡‘:[æ˜“å‡½ 123](https://juejin.cn/user/3016715638158381)/åšå®¢å›­ï¼š[æ˜“å‡½ 123](https://www.cnblogs.com/yihan123/)\n- ğŸ’¬ : Email: 1245501816@qq.com\n- âš¡ : Live and learn\n","source":"about/index.md","raw":"---\ntitle: about\ndate:\ntype: 'about'\ncategories:\ntags:\n---\n\n### Hi there, I'm yihan123 ğŸ‘‹\n\nğŸ‘¯ I'm Peng Yao hui, a web frontend developer from ChangSha, China.\n\n- ğŸŒ± : JavaScript/Css3/Html5/Vue/React\n- ğŸ”­ : Work in shenzhen\n- ğŸ˜„ : CSDN:[æ˜“å‡½ 123](https://blog.csdn.net/qq_43485006)/æ€å¦:[æ˜“å‡½ 123](https://segmentfault.com/u/yihan123)/æ˜é‡‘:[æ˜“å‡½ 123](https://juejin.cn/user/3016715638158381)/åšå®¢å›­ï¼š[æ˜“å‡½ 123](https://www.cnblogs.com/yihan123/)\n- ğŸ’¬ : Email: 1245501816@qq.com\n- âš¡ : Live and learn\n","updated":"2023-08-13T07:47:11.319Z","path":"about/index.html","comments":1,"layout":"page","_id":"cllad2ywa0000q42v8zez510m","content":"<h3 id=\"Hi-there-Iâ€™m-yihan123-ğŸ‘‹\"><a href=\"#Hi-there-Iâ€™m-yihan123-ğŸ‘‹\" class=\"headerlink\" title=\"Hi there, Iâ€™m yihan123 ğŸ‘‹\"></a>Hi there, Iâ€™m yihan123 ğŸ‘‹</h3><p>ğŸ‘¯ Iâ€™m Peng Yao hui, a web frontend developer from ChangSha, China.</p>\n<ul>\n<li>ğŸŒ± : JavaScript&#x2F;Css3&#x2F;Html5&#x2F;Vue&#x2F;React</li>\n<li>ğŸ”­ : Work in shenzhen</li>\n<li>ğŸ˜„ : CSDN:<a href=\"https://blog.csdn.net/qq_43485006\">æ˜“å‡½ 123</a>&#x2F;æ€å¦:<a href=\"https://segmentfault.com/u/yihan123\">æ˜“å‡½ 123</a>&#x2F;æ˜é‡‘:<a href=\"https://juejin.cn/user/3016715638158381\">æ˜“å‡½ 123</a>&#x2F;åšå®¢å›­ï¼š<a href=\"https://www.cnblogs.com/yihan123/\">æ˜“å‡½ 123</a></li>\n<li>ğŸ’¬ : Email: <a href=\"mailto:&#x31;&#50;&#x34;&#53;&#53;&#x30;&#x31;&#x38;&#49;&#x36;&#x40;&#113;&#113;&#x2e;&#x63;&#111;&#109;\">&#x31;&#50;&#x34;&#53;&#53;&#x30;&#x31;&#x38;&#49;&#x36;&#x40;&#113;&#113;&#x2e;&#x63;&#111;&#109;</a></li>\n<li>âš¡ : Live and learn</li>\n</ul>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"Hi-there-Iâ€™m-yihan123-ğŸ‘‹\"><a href=\"#Hi-there-Iâ€™m-yihan123-ğŸ‘‹\" class=\"headerlink\" title=\"Hi there, Iâ€™m yihan123 ğŸ‘‹\"></a>Hi there, Iâ€™m yihan123 ğŸ‘‹</h3><p>ğŸ‘¯ Iâ€™m Peng Yao hui, a web frontend developer from ChangSha, China.</p>\n<ul>\n<li>ğŸŒ± : JavaScript&#x2F;Css3&#x2F;Html5&#x2F;Vue&#x2F;React</li>\n<li>ğŸ”­ : Work in shenzhen</li>\n<li>ğŸ˜„ : CSDN:<a href=\"https://blog.csdn.net/qq_43485006\">æ˜“å‡½ 123</a>&#x2F;æ€å¦:<a href=\"https://segmentfault.com/u/yihan123\">æ˜“å‡½ 123</a>&#x2F;æ˜é‡‘:<a href=\"https://juejin.cn/user/3016715638158381\">æ˜“å‡½ 123</a>&#x2F;åšå®¢å›­ï¼š<a href=\"https://www.cnblogs.com/yihan123/\">æ˜“å‡½ 123</a></li>\n<li>ğŸ’¬ : Email: <a href=\"mailto:&#x31;&#50;&#x34;&#53;&#53;&#x30;&#x31;&#x38;&#49;&#x36;&#x40;&#113;&#113;&#x2e;&#x63;&#111;&#109;\">&#x31;&#50;&#x34;&#53;&#53;&#x30;&#x31;&#x38;&#49;&#x36;&#x40;&#113;&#113;&#x2e;&#x63;&#111;&#109;</a></li>\n<li>âš¡ : Live and learn</li>\n</ul>\n"},{"title":"friends","date":"2023-08-13T03:00:46.518Z","type":"friends","categories":null,"tags":null,"_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate:\ntype: 'friends'\ncategories:\ntags:\n---\n","updated":"2023-08-13T03:00:46.518Z","path":"friends/index.html","comments":1,"layout":"page","_id":"cllad2ywd0002q42vdobjgpbr","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"categories","date":"2023-08-13T02:31:49.242Z","type":"categories","categories":null,"tags":null,"_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate:\ntype: 'categories'\ncategories:\ntags:\n---\n","updated":"2023-08-13T02:31:49.242Z","path":"categories/index.html","comments":1,"layout":"page","_id":"cllad2ywf0006q42v9aflckv8","content":"","site":{"data":{}},"excerpt":"","more":""},{"title":"tags","date":"2023-08-13T01:51:52.600Z","type":"tags","categories":null,"tags":null,"_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate:\ntype: 'tags'\ncategories:\ntags:\n---\n","updated":"2023-08-13T01:51:52.600Z","path":"tags/index.html","comments":1,"layout":"page","_id":"cllad2ywf0008q42v1gts9z8r","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ x/yè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†å‰²çº¿","date":"2022-03-10T03:38:24.514Z","_content":"\n### éšè— x/y è½´åˆ»åº¦\n\n```\n// xè½´\nxAxis: {\n    type: 'category',\n    splitLine: { show: false },\n    data: ['11/25', '11/26', '11/27', '11/28', '11/29', '11/30', '12/1'],\n    axisTick: {\n        show: false //éšè—xè½´åˆ»åº¦\n    },\n},\n// yè½´\nyAxis: {\n    type: 'category',\n    splitLine: { show: false },\n    data: ['11/25', '11/26', '11/27', '11/28', '11/29', '11/30', '12/1'],\n    axisTick: {\n        show: false //éšè—yè½´åˆ»åº¦\n    },\n},\n```\n\n### æ›´æ”¹ x/y è½´æ–‡å­—\n\n```\n//xè½´\nxAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLabel: {\n        show: true,\n        textStyle: {\n            color: '#6B6E7F',  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²\n            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°\n        }\n    }\n},\n//yè½´\nyAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLabel: {\n        show: true,\n        textStyle: {\n            color: '#6B6E7F',  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²\n            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°\n        }\n    }\n},\n```\n\n### æ›´æ”¹ x/y è½´çº¿æ ·å¼\n\n```\n// xè½´\nxAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //0 è½´çº¿è®¾ç½®æ ·å¼\n},\n// yè½´\nyAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //0 è½´çº¿è®¾ç½®æ ·å¼\n},\n```\n\n### x/y è½´åˆ†éš”çº¿\n\n```\n// xè½´\nxAxis: {\n    type: 'value',\n    axisLabel: {\n        show: false,\n        interval: 'auto',\n        formatter: '{value} AM'\n    },\n    axisTick: {\n        show: false\n    },\n    splitLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼\n},\n// yè½´\nyAxis: {\n    type: 'value',\n    axisLabel: {\n        show: false,\n        interval: 'auto',\n        formatter: '{value} AM'\n    },\n    min: 20,\n    max: 33, // yè½´çš„å±•ç¤ºèŒƒå›´\n    axisTick: {\n        show: false\n    },\n    splitLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼\n},\n```\n","source":"_posts/Echarts/echarts--xyè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†éš”çº¿.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ x/yè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†å‰²çº¿\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, xAxis]\n---\n\n### éšè— x/y è½´åˆ»åº¦\n\n```\n// xè½´\nxAxis: {\n    type: 'category',\n    splitLine: { show: false },\n    data: ['11/25', '11/26', '11/27', '11/28', '11/29', '11/30', '12/1'],\n    axisTick: {\n        show: false //éšè—xè½´åˆ»åº¦\n    },\n},\n// yè½´\nyAxis: {\n    type: 'category',\n    splitLine: { show: false },\n    data: ['11/25', '11/26', '11/27', '11/28', '11/29', '11/30', '12/1'],\n    axisTick: {\n        show: false //éšè—yè½´åˆ»åº¦\n    },\n},\n```\n\n### æ›´æ”¹ x/y è½´æ–‡å­—\n\n```\n//xè½´\nxAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLabel: {\n        show: true,\n        textStyle: {\n            color: '#6B6E7F',  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²\n            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°\n        }\n    }\n},\n//yè½´\nyAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLabel: {\n        show: true,\n        textStyle: {\n            color: '#6B6E7F',  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²\n            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°\n        }\n    }\n},\n```\n\n### æ›´æ”¹ x/y è½´çº¿æ ·å¼\n\n```\n// xè½´\nxAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //0 è½´çº¿è®¾ç½®æ ·å¼\n},\n// yè½´\nyAxis: {\n    type: 'category',\n    // offset: 40,\n    splitLine: { show: false },\n    data: [],\n    axisLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //0 è½´çº¿è®¾ç½®æ ·å¼\n},\n```\n\n### x/y è½´åˆ†éš”çº¿\n\n```\n// xè½´\nxAxis: {\n    type: 'value',\n    axisLabel: {\n        show: false,\n        interval: 'auto',\n        formatter: '{value} AM'\n    },\n    axisTick: {\n        show: false\n    },\n    splitLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼\n},\n// yè½´\nyAxis: {\n    type: 'value',\n    axisLabel: {\n        show: false,\n        interval: 'auto',\n        formatter: '{value} AM'\n    },\n    min: 20,\n    max: 33, // yè½´çš„å±•ç¤ºèŒƒå›´\n    axisTick: {\n        show: false\n    },\n    splitLine: {\n        show: false,\n        lineStyle: {\n            type: 'dashed',\n            color: '#86899D'\n        }\n    } //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼\n},\n```\n","slug":"Echarts/echarts--xyè½´åˆ»åº¦ã€æ–‡å­—ã€è½´çº¿æ ·å¼ã€åˆ†éš”çº¿","published":1,"updated":"2023-08-13T12:00:34.710Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywb0001q42vfqwth6ui","content":"<h3 id=\"éšè—-x-y-è½´åˆ»åº¦\"><a href=\"#éšè—-x-y-è½´åˆ»åº¦\" class=\"headerlink\" title=\"éšè— x&#x2F;y è½´åˆ»åº¦\"></a>éšè— x&#x2F;y è½´åˆ»åº¦</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [&#x27;11/25&#x27;, &#x27;11/26&#x27;, &#x27;11/27&#x27;, &#x27;11/28&#x27;, &#x27;11/29&#x27;, &#x27;11/30&#x27;, &#x27;12/1&#x27;],</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false //éšè—xè½´åˆ»åº¦</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [&#x27;11/25&#x27;, &#x27;11/26&#x27;, &#x27;11/27&#x27;, &#x27;11/28&#x27;, &#x27;11/29&#x27;, &#x27;11/30&#x27;, &#x27;12/1&#x27;],</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false //éšè—yè½´åˆ»åº¦</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ”¹-x-y-è½´æ–‡å­—\"><a href=\"#æ›´æ”¹-x-y-è½´æ–‡å­—\" class=\"headerlink\" title=\"æ›´æ”¹ x&#x2F;y è½´æ–‡å­—\"></a>æ›´æ”¹ x&#x2F;y è½´æ–‡å­—</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: true,</span><br><span class=\"line\">        textStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#6B6E7F&#x27;,  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²</span><br><span class=\"line\">            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">//yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: true,</span><br><span class=\"line\">        textStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#6B6E7F&#x27;,  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²</span><br><span class=\"line\">            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ”¹-x-y-è½´çº¿æ ·å¼\"><a href=\"#æ›´æ”¹-x-y-è½´çº¿æ ·å¼\" class=\"headerlink\" title=\"æ›´æ”¹ x&#x2F;y è½´çº¿æ ·å¼\"></a>æ›´æ”¹ x&#x2F;y è½´çº¿æ ·å¼</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //0 è½´çº¿è®¾ç½®æ ·å¼</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //0 è½´çº¿è®¾ç½®æ ·å¼</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"x-y-è½´åˆ†éš”çº¿\"><a href=\"#x-y-è½´åˆ†éš”çº¿\" class=\"headerlink\" title=\"x&#x2F;y è½´åˆ†éš”çº¿\"></a>x&#x2F;y è½´åˆ†éš”çº¿</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;value&#x27;,</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        interval: &#x27;auto&#x27;,</span><br><span class=\"line\">        formatter: &#x27;&#123;value&#125; AM&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    splitLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;value&#x27;,</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        interval: &#x27;auto&#x27;,</span><br><span class=\"line\">        formatter: &#x27;&#123;value&#125; AM&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    min: 20,</span><br><span class=\"line\">    max: 33, // yè½´çš„å±•ç¤ºèŒƒå›´</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    splitLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"éšè—-x-y-è½´åˆ»åº¦\"><a href=\"#éšè—-x-y-è½´åˆ»åº¦\" class=\"headerlink\" title=\"éšè— x&#x2F;y è½´åˆ»åº¦\"></a>éšè— x&#x2F;y è½´åˆ»åº¦</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [&#x27;11/25&#x27;, &#x27;11/26&#x27;, &#x27;11/27&#x27;, &#x27;11/28&#x27;, &#x27;11/29&#x27;, &#x27;11/30&#x27;, &#x27;12/1&#x27;],</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false //éšè—xè½´åˆ»åº¦</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [&#x27;11/25&#x27;, &#x27;11/26&#x27;, &#x27;11/27&#x27;, &#x27;11/28&#x27;, &#x27;11/29&#x27;, &#x27;11/30&#x27;, &#x27;12/1&#x27;],</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false //éšè—yè½´åˆ»åº¦</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ”¹-x-y-è½´æ–‡å­—\"><a href=\"#æ›´æ”¹-x-y-è½´æ–‡å­—\" class=\"headerlink\" title=\"æ›´æ”¹ x&#x2F;y è½´æ–‡å­—\"></a>æ›´æ”¹ x&#x2F;y è½´æ–‡å­—</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: true,</span><br><span class=\"line\">        textStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#6B6E7F&#x27;,  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²</span><br><span class=\"line\">            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">//yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: true,</span><br><span class=\"line\">        textStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#6B6E7F&#x27;,  //æ›´æ”¹åæ ‡è½´æ–‡å­—é¢œè‰²</span><br><span class=\"line\">            fontSize: 9      //æ›´æ”¹åæ ‡è½´æ–‡å­—å¤§å°</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æ›´æ”¹-x-y-è½´çº¿æ ·å¼\"><a href=\"#æ›´æ”¹-x-y-è½´çº¿æ ·å¼\" class=\"headerlink\" title=\"æ›´æ”¹ x&#x2F;y è½´çº¿æ ·å¼\"></a>æ›´æ”¹ x&#x2F;y è½´çº¿æ ·å¼</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //0 è½´çº¿è®¾ç½®æ ·å¼</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;category&#x27;,</span><br><span class=\"line\">    // offset: 40,</span><br><span class=\"line\">    splitLine: &#123; show: false &#125;,</span><br><span class=\"line\">    data: [],</span><br><span class=\"line\">    axisLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //0 è½´çº¿è®¾ç½®æ ·å¼</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"x-y-è½´åˆ†éš”çº¿\"><a href=\"#x-y-è½´åˆ†éš”çº¿\" class=\"headerlink\" title=\"x&#x2F;y è½´åˆ†éš”çº¿\"></a>x&#x2F;y è½´åˆ†éš”çº¿</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// xè½´</span><br><span class=\"line\">xAxis: &#123;</span><br><span class=\"line\">    type: &#x27;value&#x27;,</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        interval: &#x27;auto&#x27;,</span><br><span class=\"line\">        formatter: &#x27;&#123;value&#125; AM&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    splitLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">// yè½´</span><br><span class=\"line\">yAxis: &#123;</span><br><span class=\"line\">    type: &#x27;value&#x27;,</span><br><span class=\"line\">    axisLabel: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        interval: &#x27;auto&#x27;,</span><br><span class=\"line\">        formatter: &#x27;&#123;value&#125; AM&#x27;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    min: 20,</span><br><span class=\"line\">    max: 33, // yè½´çš„å±•ç¤ºèŒƒå›´</span><br><span class=\"line\">    axisTick: &#123;</span><br><span class=\"line\">        show: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    splitLine: &#123;</span><br><span class=\"line\">        show: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &#x27;dashed&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125; //è®¾ç½®yè½´åˆ†å‰²çº¿æ ·å¼</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n"},{"title":"jså»é™¤ä¸­æ‹¬å·","date":"2023-08-13T01:44:43.677Z","_content":"\n```javascript\nvar str = 'è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²[html]è¯­å¥;[html]å­—ç¬¦ä¸²å¾ˆå¸¸è§';<br>\nalert(str.replace(/\\[|]/g,''));//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆä¸åŒ…æ‹¬å…¶å†…å®¹ï¼‰\n//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²htmlè¯­å¥;htmlå­—ç¬¦ä¸²å¾ˆå¸¸è§<br>\nalert(str.replace(/\\[.*?\\]/g,''));//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆåŒ…æ‹¬å…¶å†…å®¹ï¼‰\n//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¯­å¥;å­—ç¬¦ä¸²å¾ˆå¸¸è§\n```\n\n### ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹\n\n```javascript\nlet str = '[1,2,3,4,5,6,7,8]'\nlet newStr = str.replace(/\\[|]/g, '')\nconsole.log(newStr) //1,2,3,4,5,6,7,8\n```\n\n### ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹\n\n```javascript\nlet str = '[1,2,3,4,5,6,7,8]'\nlet newStr = str.replace(/\\[.*?\\]/g, '')\nconsole.log(newStr) //''\n```\n\n<!--more-->\n\n### æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\n\n- \"\\\"ï¼šå°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\\\\â€åŒ¹é…â€œ\\â€è€Œâ€œ\\(â€åˆ™åŒ¹é…â€œ(â€ï¼›\n\n- \"|\"ï¼šæˆ–çš„æ„æ€ï¼›\n\n- \"/g\"ï¼šå…¨å±€æœç´¢ã€‚ç”±äºæ­¤å¤„è¦å»é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸­æ‹¬å·ï¼Œå› æ­¤æ­£åˆ™ä¸­è¦å¼€å¯å…¨å±€æœç´¢ï¼›\n\n- \".\"ï¼šè¡¨ç¤ºé™¤æ¢è¡Œç¬¦å’Œå…¶ä»– Unicode è¡Œç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼›\n\n- \"*\"ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo*èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚\\*ç­‰ä»·äº{0,}ï¼›\n\n- \"?\"ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€å¯ä»¥åŒ¹é…â€œdoesâ€æˆ–â€œdoesâ€ä¸­çš„â€œdoâ€ã€‚?ç­‰ä»·äº{0,1}ã€‚ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰\n","source":"_posts/jså»é™¤ä¸­æ‹¬å·.md","raw":"---\ntitle: jså»é™¤ä¸­æ‹¬å·\ndate:\ntags: [js, æ­£åˆ™]\ncategories: [å‰ç«¯, æ­£åˆ™]\n---\n\n```javascript\nvar str = 'è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²[html]è¯­å¥;[html]å­—ç¬¦ä¸²å¾ˆå¸¸è§';<br>\nalert(str.replace(/\\[|]/g,''));//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆä¸åŒ…æ‹¬å…¶å†…å®¹ï¼‰\n//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²htmlè¯­å¥;htmlå­—ç¬¦ä¸²å¾ˆå¸¸è§<br>\nalert(str.replace(/\\[.*?\\]/g,''));//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆåŒ…æ‹¬å…¶å†…å®¹ï¼‰\n//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¯­å¥;å­—ç¬¦ä¸²å¾ˆå¸¸è§\n```\n\n### ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹\n\n```javascript\nlet str = '[1,2,3,4,5,6,7,8]'\nlet newStr = str.replace(/\\[|]/g, '')\nconsole.log(newStr) //1,2,3,4,5,6,7,8\n```\n\n### ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹\n\n```javascript\nlet str = '[1,2,3,4,5,6,7,8]'\nlet newStr = str.replace(/\\[.*?\\]/g, '')\nconsole.log(newStr) //''\n```\n\n<!--more-->\n\n### æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\n\n- \"\\\"ï¼šå°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\\\\â€åŒ¹é…â€œ\\â€è€Œâ€œ\\(â€åˆ™åŒ¹é…â€œ(â€ï¼›\n\n- \"|\"ï¼šæˆ–çš„æ„æ€ï¼›\n\n- \"/g\"ï¼šå…¨å±€æœç´¢ã€‚ç”±äºæ­¤å¤„è¦å»é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸­æ‹¬å·ï¼Œå› æ­¤æ­£åˆ™ä¸­è¦å¼€å¯å…¨å±€æœç´¢ï¼›\n\n- \".\"ï¼šè¡¨ç¤ºé™¤æ¢è¡Œç¬¦å’Œå…¶ä»– Unicode è¡Œç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼›\n\n- \"*\"ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo*èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚\\*ç­‰ä»·äº{0,}ï¼›\n\n- \"?\"ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€å¯ä»¥åŒ¹é…â€œdoesâ€æˆ–â€œdoesâ€ä¸­çš„â€œdoâ€ã€‚?ç­‰ä»·äº{0,1}ã€‚ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰\n","slug":"jså»é™¤ä¸­æ‹¬å·","published":1,"updated":"2023-08-13T06:43:05.380Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywd0003q42v2bih0qi1","content":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²[html]è¯­å¥;[html]å­—ç¬¦ä¸²å¾ˆå¸¸è§&#x27;</span>;&lt;br&gt;</span><br><span class=\"line\"><span class=\"title function_\">alert</span>(str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[|]/g</span>,<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆä¸åŒ…æ‹¬å…¶å†…å®¹ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²htmlè¯­å¥;htmlå­—ç¬¦ä¸²å¾ˆå¸¸è§&lt;br&gt;</span></span><br><span class=\"line\"><span class=\"title function_\">alert</span>(str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[.*?\\]/g</span>,<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆåŒ…æ‹¬å…¶å†…å®¹ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¯­å¥;å­—ç¬¦ä¸²å¾ˆå¸¸è§</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-ä¸åŒ…æ‹¬å…¶å†…å®¹\"><a href=\"#ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-ä¸åŒ…æ‹¬å…¶å†…å®¹\" class=\"headerlink\" title=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹\"></a>ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&#x27;[1,2,3,4,5,6,7,8]&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> newStr = str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[|]/g</span>, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newStr) <span class=\"comment\">//1,2,3,4,5,6,7,8</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-åŒ…æ‹¬å…¶å†…å®¹\"><a href=\"#ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-åŒ…æ‹¬å…¶å†…å®¹\" class=\"headerlink\" title=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹\"></a>ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&#x27;[1,2,3,4,5,6,7,8]&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> newStr = str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[.*?\\]/g</span>, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newStr) <span class=\"comment\">//&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<h3 id=\"æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\"><a href=\"#æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\" class=\"headerlink\" title=\"æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\"></a>æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰</h3><ul>\n<li><p>â€œ&quot;ï¼šå°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\\â€åŒ¹é…â€œ\\â€è€Œâ€œ(â€åˆ™åŒ¹é…â€œ(â€ï¼›</p>\n</li>\n<li><p>â€œ|â€ï¼šæˆ–çš„æ„æ€ï¼›</p>\n</li>\n<li><p>â€œ&#x2F;gâ€ï¼šå…¨å±€æœç´¢ã€‚ç”±äºæ­¤å¤„è¦å»é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸­æ‹¬å·ï¼Œå› æ­¤æ­£åˆ™ä¸­è¦å¼€å¯å…¨å±€æœç´¢ï¼›</p>\n</li>\n<li><p>â€œ.â€ï¼šè¡¨ç¤ºé™¤æ¢è¡Œç¬¦å’Œå…¶ä»– Unicode è¡Œç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼›</p>\n</li>\n<li><p>â€œ<em>â€œï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo</em>èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚*ç­‰ä»·äº{0,}ï¼›</p>\n</li>\n<li><p>â€œ?â€ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€å¯ä»¥åŒ¹é…â€œdoesâ€æˆ–â€œdoesâ€ä¸­çš„â€œdoâ€ã€‚?ç­‰ä»·äº{0,1}ã€‚ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰</p>\n</li>\n</ul>\n","site":{"data":{}},"excerpt":"<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> str = <span class=\"string\">&#x27;è¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²[html]è¯­å¥;[html]å­—ç¬¦ä¸²å¾ˆå¸¸è§&#x27;</span>;&lt;br&gt;</span><br><span class=\"line\"><span class=\"title function_\">alert</span>(str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[|]/g</span>,<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆä¸åŒ…æ‹¬å…¶å†…å®¹ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²htmlè¯­å¥;htmlå­—ç¬¦ä¸²å¾ˆå¸¸è§&lt;br&gt;</span></span><br><span class=\"line\"><span class=\"title function_\">alert</span>(str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[.*?\\]/g</span>,<span class=\"string\">&#x27;&#x27;</span>));<span class=\"comment\">//ç§»é™¤å­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰[]æ‹¬å·ï¼ˆåŒ…æ‹¬å…¶å†…å®¹ï¼‰</span></span><br><span class=\"line\"><span class=\"comment\">//è¾“å‡ºï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è¯­å¥;å­—ç¬¦ä¸²å¾ˆå¸¸è§</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-ä¸åŒ…æ‹¬å…¶å†…å®¹\"><a href=\"#ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-ä¸åŒ…æ‹¬å…¶å†…å®¹\" class=\"headerlink\" title=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹\"></a>ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,ä¸åŒ…æ‹¬å…¶å†…å®¹</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&#x27;[1,2,3,4,5,6,7,8]&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> newStr = str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[|]/g</span>, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newStr) <span class=\"comment\">//1,2,3,4,5,6,7,8</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-åŒ…æ‹¬å…¶å†…å®¹\"><a href=\"#ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·-åŒ…æ‹¬å…¶å†…å®¹\" class=\"headerlink\" title=\"ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹\"></a>ç§»é™¤æ‰€æœ‰ä¸­æ‹¬å·,åŒ…æ‹¬å…¶å†…å®¹</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> str = <span class=\"string\">&#x27;[1,2,3,4,5,6,7,8]&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> newStr = str.<span class=\"title function_\">replace</span>(<span class=\"regexp\">/\\[.*?\\]/g</span>, <span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(newStr) <span class=\"comment\">//&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>","more":"<h3 id=\"æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\"><a href=\"#æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\" class=\"headerlink\" title=\"æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰\"></a>æ­£åˆ™è¡¨è¾¾å¼ç¬¦å·é‡Šä¹‰</h3><ul>\n<li><p>â€œ&quot;ï¼šå°†ä¸‹ä¸€ä¸ªå­—ç¬¦æ ‡è®°ä¸ºä¸€ä¸ªç‰¹æ®Šå­—ç¬¦ã€æˆ–ä¸€ä¸ªåŸä¹‰å­—ç¬¦ã€æˆ–ä¸€ä¸ªå‘åå¼•ç”¨ã€æˆ–ä¸€ä¸ªå…«è¿›åˆ¶è½¬ä¹‰ç¬¦ã€‚ä¾‹å¦‚ï¼Œâ€œnâ€åŒ¹é…å­—ç¬¦â€œnâ€ã€‚â€œ\\nâ€åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ã€‚ä¸²è¡Œâ€œ\\â€åŒ¹é…â€œ\\â€è€Œâ€œ(â€åˆ™åŒ¹é…â€œ(â€ï¼›</p>\n</li>\n<li><p>â€œ|â€ï¼šæˆ–çš„æ„æ€ï¼›</p>\n</li>\n<li><p>â€œ&#x2F;gâ€ï¼šå…¨å±€æœç´¢ã€‚ç”±äºæ­¤å¤„è¦å»é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä¸­æ‹¬å·ï¼Œå› æ­¤æ­£åˆ™ä¸­è¦å¼€å¯å…¨å±€æœç´¢ï¼›</p>\n</li>\n<li><p>â€œ.â€ï¼šè¡¨ç¤ºé™¤æ¢è¡Œç¬¦å’Œå…¶ä»– Unicode è¡Œç»ˆæ­¢ç¬¦ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ï¼›</p>\n</li>\n<li><p>â€œ<em>â€œï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–å¤šæ¬¡ã€‚ä¾‹å¦‚ï¼Œzo</em>èƒ½åŒ¹é…â€œzâ€ä»¥åŠâ€œzooâ€ã€‚*ç­‰ä»·äº{0,}ï¼›</p>\n</li>\n<li><p>â€œ?â€ï¼šåŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ã€‚ä¾‹å¦‚ï¼Œâ€œdo(es)?â€å¯ä»¥åŒ¹é…â€œdoesâ€æˆ–â€œdoesâ€ä¸­çš„â€œdoâ€ã€‚?ç­‰ä»·äº{0,1}ã€‚ï¼ˆè´ªå©ªæ¨¡å¼ï¼‰</p>\n</li>\n</ul>"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ grid","date":"2022-03-10T03:38:39.986Z","_content":"\n### ç¤ºä¾‹\n\n```\ngrid: {\n    top: '3%',\n    left: '12%',\n    right: '0%',\n    bottom: '3%',\n    containLabel: true\n},\n```\n\necharts ç»„ä»¶ç¦»å®¹å™¨å·¦ä¾§çš„è·ç¦»ã€‚\n\n> `containLabel`:\n> containLabel ä¸º false çš„æ—¶å€™ï¼š  \n> grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯ç”±åæ ‡è½´å½¢æˆçš„çŸ©å½¢çš„å°ºå¯¸å’Œä½ç½®ã€‚\n> è¿™æ¯”è¾ƒé€‚ç”¨äºå¤šä¸ª grid è¿›è¡Œå¯¹é½çš„åœºæ™¯ï¼Œå› ä¸ºå¾€å¾€å¤šä¸ª grid å¯¹é½çš„æ—¶å€™ï¼Œæ˜¯ä¾æ®åæ ‡è½´æ¥å¯¹é½çš„ã€‚\n>\n> containLabel ä¸º true çš„æ—¶å€™ï¼š  \n> grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯åŒ…æ‹¬äº†åæ ‡è½´æ ‡ç­¾åœ¨å†…çš„æ‰€æœ‰å†…å®¹æ‰€å½¢æˆçš„çŸ©å½¢çš„ä½ç½®ã€‚\n> è¿™å¸¸ç”¨äºã€é˜²æ­¢æ ‡ç­¾æº¢å‡ºã€çš„åœºæ™¯ï¼Œæ ‡ç­¾æº¢å‡ºæŒ‡çš„æ˜¯ï¼Œæ ‡ç­¾é•¿åº¦åŠ¨æ€å˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šæº¢å‡ºå®¹å™¨æˆ–è€…è¦†ç›–å…¶ä»–ç»„ä»¶ã€‚\n","source":"_posts/Echarts/echarts--ä¸Šä¸‹å·¦å³çš„è·ç¦»ï¼ˆgridï¼‰.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ grid\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, grid]\n---\n\n### ç¤ºä¾‹\n\n```\ngrid: {\n    top: '3%',\n    left: '12%',\n    right: '0%',\n    bottom: '3%',\n    containLabel: true\n},\n```\n\necharts ç»„ä»¶ç¦»å®¹å™¨å·¦ä¾§çš„è·ç¦»ã€‚\n\n> `containLabel`:\n> containLabel ä¸º false çš„æ—¶å€™ï¼š  \n> grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯ç”±åæ ‡è½´å½¢æˆçš„çŸ©å½¢çš„å°ºå¯¸å’Œä½ç½®ã€‚\n> è¿™æ¯”è¾ƒé€‚ç”¨äºå¤šä¸ª grid è¿›è¡Œå¯¹é½çš„åœºæ™¯ï¼Œå› ä¸ºå¾€å¾€å¤šä¸ª grid å¯¹é½çš„æ—¶å€™ï¼Œæ˜¯ä¾æ®åæ ‡è½´æ¥å¯¹é½çš„ã€‚\n>\n> containLabel ä¸º true çš„æ—¶å€™ï¼š  \n> grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯åŒ…æ‹¬äº†åæ ‡è½´æ ‡ç­¾åœ¨å†…çš„æ‰€æœ‰å†…å®¹æ‰€å½¢æˆçš„çŸ©å½¢çš„ä½ç½®ã€‚\n> è¿™å¸¸ç”¨äºã€é˜²æ­¢æ ‡ç­¾æº¢å‡ºã€çš„åœºæ™¯ï¼Œæ ‡ç­¾æº¢å‡ºæŒ‡çš„æ˜¯ï¼Œæ ‡ç­¾é•¿åº¦åŠ¨æ€å˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šæº¢å‡ºå®¹å™¨æˆ–è€…è¦†ç›–å…¶ä»–ç»„ä»¶ã€‚\n","slug":"Echarts/echarts--ä¸Šä¸‹å·¦å³çš„è·ç¦»ï¼ˆgridï¼‰","published":1,"updated":"2023-08-13T11:59:37.355Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywf0007q42v4greburz","content":"<h3 id=\"ç¤ºä¾‹\"><a href=\"#ç¤ºä¾‹\" class=\"headerlink\" title=\"ç¤ºä¾‹\"></a>ç¤ºä¾‹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grid: &#123;</span><br><span class=\"line\">    top: &#x27;3%&#x27;,</span><br><span class=\"line\">    left: &#x27;12%&#x27;,</span><br><span class=\"line\">    right: &#x27;0%&#x27;,</span><br><span class=\"line\">    bottom: &#x27;3%&#x27;,</span><br><span class=\"line\">    containLabel: true</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>echarts ç»„ä»¶ç¦»å®¹å™¨å·¦ä¾§çš„è·ç¦»ã€‚</p>\n<blockquote>\n<p><code>containLabel</code>:<br>containLabel ä¸º false çš„æ—¶å€™ï¼š<br>grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯ç”±åæ ‡è½´å½¢æˆçš„çŸ©å½¢çš„å°ºå¯¸å’Œä½ç½®ã€‚<br>è¿™æ¯”è¾ƒé€‚ç”¨äºå¤šä¸ª grid è¿›è¡Œå¯¹é½çš„åœºæ™¯ï¼Œå› ä¸ºå¾€å¾€å¤šä¸ª grid å¯¹é½çš„æ—¶å€™ï¼Œæ˜¯ä¾æ®åæ ‡è½´æ¥å¯¹é½çš„ã€‚</p>\n<p>containLabel ä¸º true çš„æ—¶å€™ï¼š<br>grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯åŒ…æ‹¬äº†åæ ‡è½´æ ‡ç­¾åœ¨å†…çš„æ‰€æœ‰å†…å®¹æ‰€å½¢æˆçš„çŸ©å½¢çš„ä½ç½®ã€‚<br>è¿™å¸¸ç”¨äºã€é˜²æ­¢æ ‡ç­¾æº¢å‡ºã€çš„åœºæ™¯ï¼Œæ ‡ç­¾æº¢å‡ºæŒ‡çš„æ˜¯ï¼Œæ ‡ç­¾é•¿åº¦åŠ¨æ€å˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šæº¢å‡ºå®¹å™¨æˆ–è€…è¦†ç›–å…¶ä»–ç»„ä»¶ã€‚</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"ç¤ºä¾‹\"><a href=\"#ç¤ºä¾‹\" class=\"headerlink\" title=\"ç¤ºä¾‹\"></a>ç¤ºä¾‹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">grid: &#123;</span><br><span class=\"line\">    top: &#x27;3%&#x27;,</span><br><span class=\"line\">    left: &#x27;12%&#x27;,</span><br><span class=\"line\">    right: &#x27;0%&#x27;,</span><br><span class=\"line\">    bottom: &#x27;3%&#x27;,</span><br><span class=\"line\">    containLabel: true</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<p>echarts ç»„ä»¶ç¦»å®¹å™¨å·¦ä¾§çš„è·ç¦»ã€‚</p>\n<blockquote>\n<p><code>containLabel</code>:<br>containLabel ä¸º false çš„æ—¶å€™ï¼š<br>grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯ç”±åæ ‡è½´å½¢æˆçš„çŸ©å½¢çš„å°ºå¯¸å’Œä½ç½®ã€‚<br>è¿™æ¯”è¾ƒé€‚ç”¨äºå¤šä¸ª grid è¿›è¡Œå¯¹é½çš„åœºæ™¯ï¼Œå› ä¸ºå¾€å¾€å¤šä¸ª grid å¯¹é½çš„æ—¶å€™ï¼Œæ˜¯ä¾æ®åæ ‡è½´æ¥å¯¹é½çš„ã€‚</p>\n<p>containLabel ä¸º true çš„æ—¶å€™ï¼š<br>grid.left grid.right grid.top grid.bottom grid.width grid.height å†³å®šçš„æ˜¯åŒ…æ‹¬äº†åæ ‡è½´æ ‡ç­¾åœ¨å†…çš„æ‰€æœ‰å†…å®¹æ‰€å½¢æˆçš„çŸ©å½¢çš„ä½ç½®ã€‚<br>è¿™å¸¸ç”¨äºã€é˜²æ­¢æ ‡ç­¾æº¢å‡ºã€çš„åœºæ™¯ï¼Œæ ‡ç­¾æº¢å‡ºæŒ‡çš„æ˜¯ï¼Œæ ‡ç­¾é•¿åº¦åŠ¨æ€å˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šæº¢å‡ºå®¹å™¨æˆ–è€…è¦†ç›–å…¶ä»–ç»„ä»¶ã€‚</p>\n</blockquote>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹åŸºå‡†çº¿markLine","date":"2022-03-10T03:38:35.048Z","_content":"\n### è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\n\n```\nmarkLine: {\n    symbol: \"none\",\n    data: [{\n        label: {\n            width: \"30\",\n            position: 'start',\n            formatter: t('sleepManage_cycle.sameChart.rs'),\n            fontSize: '10',\n            color: '#86899D',\n            overflow: 'break',\n        },\n        silent: false,\n        lineStyle: {\n            type: \"dashed\",\n            color: \"#714EB3\"\n        },\n        yAxis: 10\n    },\n    {\n        label: {\n            width: \"30\",\n            position: 'start',\n            formatter: t('sleepManage_cycle.sameChart.qc'),\n            fontSize: '10',\n            color: '#86899D',\n            overflow: 'break',\n        },\n        silent: false,\n        lineStyle: {\n            type: \"dashed\",\n            color: \"#3F6293\"\n        },\n        yAxis: 1\n    }]\n},\n```\n\n### å…³é”®å‚æ•°\n\n> `yAxis`:åŸºå‡†çº¿çš„åæ ‡\n\n> `overflow`:  \n> 'truncate' æˆªæ–­ï¼Œå¹¶åœ¨æœ«å°¾æ˜¾ç¤º ellipsis é…ç½®çš„æ–‡æœ¬ï¼Œé»˜è®¤ä¸º...  \n> 'break' æ¢è¡Œ  \n> 'breakAll' æ¢è¡Œï¼Œè·Ÿ'break'ä¸åŒçš„æ˜¯ï¼Œåœ¨è‹±è¯­ç­‰æ‹‰ä¸æ–‡ä¸­ï¼Œ'breakAll'è¿˜ä¼šå¼ºåˆ¶å•è¯å†…æ¢è¡Œ\n\n> `ellipsis`:åœ¨ overflow é…ç½®ä¸º'truncate'çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§é…ç½®æœ«å°¾æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚\n","source":"_posts/Echarts/echarts--åŸºå‡†çº¿markLine.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹åŸºå‡†çº¿markLine\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, markLine]\n---\n\n### è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\n\n```\nmarkLine: {\n    symbol: \"none\",\n    data: [{\n        label: {\n            width: \"30\",\n            position: 'start',\n            formatter: t('sleepManage_cycle.sameChart.rs'),\n            fontSize: '10',\n            color: '#86899D',\n            overflow: 'break',\n        },\n        silent: false,\n        lineStyle: {\n            type: \"dashed\",\n            color: \"#714EB3\"\n        },\n        yAxis: 10\n    },\n    {\n        label: {\n            width: \"30\",\n            position: 'start',\n            formatter: t('sleepManage_cycle.sameChart.qc'),\n            fontSize: '10',\n            color: '#86899D',\n            overflow: 'break',\n        },\n        silent: false,\n        lineStyle: {\n            type: \"dashed\",\n            color: \"#3F6293\"\n        },\n        yAxis: 1\n    }]\n},\n```\n\n### å…³é”®å‚æ•°\n\n> `yAxis`:åŸºå‡†çº¿çš„åæ ‡\n\n> `overflow`:  \n> 'truncate' æˆªæ–­ï¼Œå¹¶åœ¨æœ«å°¾æ˜¾ç¤º ellipsis é…ç½®çš„æ–‡æœ¬ï¼Œé»˜è®¤ä¸º...  \n> 'break' æ¢è¡Œ  \n> 'breakAll' æ¢è¡Œï¼Œè·Ÿ'break'ä¸åŒçš„æ˜¯ï¼Œåœ¨è‹±è¯­ç­‰æ‹‰ä¸æ–‡ä¸­ï¼Œ'breakAll'è¿˜ä¼šå¼ºåˆ¶å•è¯å†…æ¢è¡Œ\n\n> `ellipsis`:åœ¨ overflow é…ç½®ä¸º'truncate'çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§é…ç½®æœ«å°¾æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚\n","slug":"Echarts/echarts--åŸºå‡†çº¿markLine","published":1,"updated":"2023-08-13T11:59:03.620Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywg0009q42vb3661j7p","content":"<h3 id=\"è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\"><a href=\"#è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\" class=\"headerlink\" title=\"è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\"></a>è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">markLine: &#123;</span><br><span class=\"line\">    symbol: &quot;none&quot;,</span><br><span class=\"line\">    data: [&#123;</span><br><span class=\"line\">        label: &#123;</span><br><span class=\"line\">            width: &quot;30&quot;,</span><br><span class=\"line\">            position: &#x27;start&#x27;,</span><br><span class=\"line\">            formatter: t(&#x27;sleepManage_cycle.sameChart.rs&#x27;),</span><br><span class=\"line\">            fontSize: &#x27;10&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;,</span><br><span class=\"line\">            overflow: &#x27;break&#x27;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        silent: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &quot;dashed&quot;,</span><br><span class=\"line\">            color: &quot;#714EB3&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        yAxis: 10</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        label: &#123;</span><br><span class=\"line\">            width: &quot;30&quot;,</span><br><span class=\"line\">            position: &#x27;start&#x27;,</span><br><span class=\"line\">            formatter: t(&#x27;sleepManage_cycle.sameChart.qc&#x27;),</span><br><span class=\"line\">            fontSize: &#x27;10&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;,</span><br><span class=\"line\">            overflow: &#x27;break&#x27;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        silent: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &quot;dashed&quot;,</span><br><span class=\"line\">            color: &quot;#3F6293&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        yAxis: 1</span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å…³é”®å‚æ•°\"><a href=\"#å…³é”®å‚æ•°\" class=\"headerlink\" title=\"å…³é”®å‚æ•°\"></a>å…³é”®å‚æ•°</h3><blockquote>\n<p><code>yAxis</code>:åŸºå‡†çº¿çš„åæ ‡</p>\n</blockquote>\n<blockquote>\n<p><code>overflow</code>:<br>â€˜truncateâ€™ æˆªæ–­ï¼Œå¹¶åœ¨æœ«å°¾æ˜¾ç¤º ellipsis é…ç½®çš„æ–‡æœ¬ï¼Œé»˜è®¤ä¸ºâ€¦<br>â€˜breakâ€™ æ¢è¡Œ<br>â€˜breakAllâ€™ æ¢è¡Œï¼Œè·Ÿâ€™breakâ€™ä¸åŒçš„æ˜¯ï¼Œåœ¨è‹±è¯­ç­‰æ‹‰ä¸æ–‡ä¸­ï¼Œâ€™breakAllâ€™è¿˜ä¼šå¼ºåˆ¶å•è¯å†…æ¢è¡Œ</p>\n</blockquote>\n<blockquote>\n<p><code>ellipsis</code>:åœ¨ overflow é…ç½®ä¸ºâ€™truncateâ€™çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§é…ç½®æœ«å°¾æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚</p>\n</blockquote>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\"><a href=\"#è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\" class=\"headerlink\" title=\"è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿\"></a>è®¾ç½®äº†ä¸¤æ¡åŸºå‡†çº¿</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">markLine: &#123;</span><br><span class=\"line\">    symbol: &quot;none&quot;,</span><br><span class=\"line\">    data: [&#123;</span><br><span class=\"line\">        label: &#123;</span><br><span class=\"line\">            width: &quot;30&quot;,</span><br><span class=\"line\">            position: &#x27;start&#x27;,</span><br><span class=\"line\">            formatter: t(&#x27;sleepManage_cycle.sameChart.rs&#x27;),</span><br><span class=\"line\">            fontSize: &#x27;10&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;,</span><br><span class=\"line\">            overflow: &#x27;break&#x27;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        silent: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &quot;dashed&quot;,</span><br><span class=\"line\">            color: &quot;#714EB3&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        yAxis: 10</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        label: &#123;</span><br><span class=\"line\">            width: &quot;30&quot;,</span><br><span class=\"line\">            position: &#x27;start&#x27;,</span><br><span class=\"line\">            formatter: t(&#x27;sleepManage_cycle.sameChart.qc&#x27;),</span><br><span class=\"line\">            fontSize: &#x27;10&#x27;,</span><br><span class=\"line\">            color: &#x27;#86899D&#x27;,</span><br><span class=\"line\">            overflow: &#x27;break&#x27;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        silent: false,</span><br><span class=\"line\">        lineStyle: &#123;</span><br><span class=\"line\">            type: &quot;dashed&quot;,</span><br><span class=\"line\">            color: &quot;#3F6293&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        yAxis: 1</span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å…³é”®å‚æ•°\"><a href=\"#å…³é”®å‚æ•°\" class=\"headerlink\" title=\"å…³é”®å‚æ•°\"></a>å…³é”®å‚æ•°</h3><blockquote>\n<p><code>yAxis</code>:åŸºå‡†çº¿çš„åæ ‡</p>\n</blockquote>\n<blockquote>\n<p><code>overflow</code>:<br>â€˜truncateâ€™ æˆªæ–­ï¼Œå¹¶åœ¨æœ«å°¾æ˜¾ç¤º ellipsis é…ç½®çš„æ–‡æœ¬ï¼Œé»˜è®¤ä¸ºâ€¦<br>â€˜breakâ€™ æ¢è¡Œ<br>â€˜breakAllâ€™ æ¢è¡Œï¼Œè·Ÿâ€™breakâ€™ä¸åŒçš„æ˜¯ï¼Œåœ¨è‹±è¯­ç­‰æ‹‰ä¸æ–‡ä¸­ï¼Œâ€™breakAllâ€™è¿˜ä¼šå¼ºåˆ¶å•è¯å†…æ¢è¡Œ</p>\n</blockquote>\n<blockquote>\n<p><code>ellipsis</code>:åœ¨ overflow é…ç½®ä¸ºâ€™truncateâ€™çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è¯¥å±æ€§é…ç½®æœ«å°¾æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚</p>\n</blockquote>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ å›¾ä¾‹é€‰ä¸­çŠ¶æ€","date":"2022-03-10T03:38:52.203Z","_content":"\nå›¾ä¾‹é€‰ä¸­çŠ¶æ€è¡¨ã€‚\n\n```\nlegend:{\n    selected: {\n        // é€‰ä¸­'ç³»åˆ—1'\n        'ç³»åˆ—1': true,\n        // ä¸é€‰ä¸­'ç³»åˆ—2'\n        'ç³»åˆ—2': false\n    }\n}\n```\n\nä½¿ç”¨\n\n```\nlegend: {\n    show: true,\n    selected: {\n      '1æ˜Ÿ': true, '2æ˜Ÿ': true, '3æ˜Ÿ': true, '4æ˜Ÿ': false, '5æ˜Ÿ': false\n    },\n    bottom: 0\n},\n```\n","source":"_posts/Echarts/echartså›¾ä¾‹--é€‰ä¸­çŠ¶æ€ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºç½®ç°ï¼‰.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ å›¾ä¾‹é€‰ä¸­çŠ¶æ€\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, legend]\n---\n\nå›¾ä¾‹é€‰ä¸­çŠ¶æ€è¡¨ã€‚\n\n```\nlegend:{\n    selected: {\n        // é€‰ä¸­'ç³»åˆ—1'\n        'ç³»åˆ—1': true,\n        // ä¸é€‰ä¸­'ç³»åˆ—2'\n        'ç³»åˆ—2': false\n    }\n}\n```\n\nä½¿ç”¨\n\n```\nlegend: {\n    show: true,\n    selected: {\n      '1æ˜Ÿ': true, '2æ˜Ÿ': true, '3æ˜Ÿ': true, '4æ˜Ÿ': false, '5æ˜Ÿ': false\n    },\n    bottom: 0\n},\n```\n","slug":"Echarts/echartså›¾ä¾‹--é€‰ä¸­çŠ¶æ€ï¼ˆé»˜è®¤ä¸æ˜¾ç¤ºç½®ç°ï¼‰","published":1,"updated":"2023-08-13T12:01:58.162Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywg000aq42vb0i01rgo","content":"<p>å›¾ä¾‹é€‰ä¸­çŠ¶æ€è¡¨ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">legend:&#123;</span><br><span class=\"line\">    selected: &#123;</span><br><span class=\"line\">        // é€‰ä¸­&#x27;ç³»åˆ—1&#x27;</span><br><span class=\"line\">        &#x27;ç³»åˆ—1&#x27;: true,</span><br><span class=\"line\">        // ä¸é€‰ä¸­&#x27;ç³»åˆ—2&#x27;</span><br><span class=\"line\">        &#x27;ç³»åˆ—2&#x27;: false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">legend: &#123;</span><br><span class=\"line\">    show: true,</span><br><span class=\"line\">    selected: &#123;</span><br><span class=\"line\">      &#x27;1æ˜Ÿ&#x27;: true, &#x27;2æ˜Ÿ&#x27;: true, &#x27;3æ˜Ÿ&#x27;: true, &#x27;4æ˜Ÿ&#x27;: false, &#x27;5æ˜Ÿ&#x27;: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    bottom: 0</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<p>å›¾ä¾‹é€‰ä¸­çŠ¶æ€è¡¨ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">legend:&#123;</span><br><span class=\"line\">    selected: &#123;</span><br><span class=\"line\">        // é€‰ä¸­&#x27;ç³»åˆ—1&#x27;</span><br><span class=\"line\">        &#x27;ç³»åˆ—1&#x27;: true,</span><br><span class=\"line\">        // ä¸é€‰ä¸­&#x27;ç³»åˆ—2&#x27;</span><br><span class=\"line\">        &#x27;ç³»åˆ—2&#x27;: false</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">legend: &#123;</span><br><span class=\"line\">    show: true,</span><br><span class=\"line\">    selected: &#123;</span><br><span class=\"line\">      &#x27;1æ˜Ÿ&#x27;: true, &#x27;2æ˜Ÿ&#x27;: true, &#x27;3æ˜Ÿ&#x27;: true, &#x27;4æ˜Ÿ&#x27;: false, &#x27;5æ˜Ÿ&#x27;: false</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    bottom: 0</span><br><span class=\"line\">&#125;,</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®æŸ±å­borderRadius","date":"2022-03-10T03:38:56.351Z","_content":"\n```\nseries:[\n    {\n        type: 'bar',\n        stack: 'Total',\n        itemStyle: {\n            borderColor: bgColor,\n            borderRadius: [4, 4, 4, 4], // åœ†æŸ±\n            color: bgColor\n        },\n        emphasis: {\n            itemStyle: {\n                borderColor: bgColor,\n                color: bgColor\n            }\n        },\n    }\n]\n```\n","source":"_posts/Echarts/echartsåœ†æŸ±--è®¾ç½®æŸ±å­çš„borderRadius.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®æŸ±å­borderRadius\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, borderRadius]\n---\n\n```\nseries:[\n    {\n        type: 'bar',\n        stack: 'Total',\n        itemStyle: {\n            borderColor: bgColor,\n            borderRadius: [4, 4, 4, 4], // åœ†æŸ±\n            color: bgColor\n        },\n        emphasis: {\n            itemStyle: {\n                borderColor: bgColor,\n                color: bgColor\n            }\n        },\n    }\n]\n```\n","slug":"Echarts/echartsåœ†æŸ±--è®¾ç½®æŸ±å­çš„borderRadius","published":1,"updated":"2023-08-13T12:02:48.399Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywh000dq42vd2q4dbbb","content":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;bar&#x27;,</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            borderColor: bgColor,</span><br><span class=\"line\">            borderRadius: [4, 4, 4, 4], // åœ†æŸ±</span><br><span class=\"line\">            color: bgColor</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        emphasis: &#123;</span><br><span class=\"line\">            itemStyle: &#123;</span><br><span class=\"line\">                borderColor: bgColor,</span><br><span class=\"line\">                color: bgColor</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;bar&#x27;,</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            borderColor: bgColor,</span><br><span class=\"line\">            borderRadius: [4, 4, 4, 4], // åœ†æŸ±</span><br><span class=\"line\">            color: bgColor</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        emphasis: &#123;</span><br><span class=\"line\">            itemStyle: &#123;</span><br><span class=\"line\">                borderColor: bgColor,</span><br><span class=\"line\">                color: bgColor</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ— æ•°æ®æ˜¯è¿çº¿","date":"2022-03-10T03:38:59.886Z","_content":"\n```\nseries:[\n    {\n        type: 'line',\n        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿\n        stack: 'Total',\n        symbol: 'circle', //æ‹ç‚¹æ ·å¼\n        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°\n        itemStyle: {\n            color: '#292B37', //æ‹ç‚¹å†…åœ†é¢œè‰²\n            borderColor: '#5B5E74', //æ‹ç‚¹å¤–åœ†é¢œè‰²\n            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°\n        },\n    }\n]\n```\n","source":"_posts/Echarts/echartsæŠ˜çº¿--æ— æ•°æ®æ—¶è¿çº¿ä¸å¦.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ— æ•°æ®æ˜¯è¿çº¿\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, connectNulls]\n---\n\n```\nseries:[\n    {\n        type: 'line',\n        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿\n        stack: 'Total',\n        symbol: 'circle', //æ‹ç‚¹æ ·å¼\n        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°\n        itemStyle: {\n            color: '#292B37', //æ‹ç‚¹å†…åœ†é¢œè‰²\n            borderColor: '#5B5E74', //æ‹ç‚¹å¤–åœ†é¢œè‰²\n            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°\n        },\n    }\n]\n```\n","slug":"Echarts/echartsæŠ˜çº¿--æ— æ•°æ®æ—¶è¿çº¿ä¸å¦","published":1,"updated":"2023-08-13T12:03:19.214Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywh000eq42v4b5x3pca","content":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;line&#x27;,</span><br><span class=\"line\">        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        symbol: &#x27;circle&#x27;, //æ‹ç‚¹æ ·å¼</span><br><span class=\"line\">        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#292B37&#x27;, //æ‹ç‚¹å†…åœ†é¢œè‰²</span><br><span class=\"line\">            borderColor: &#x27;#5B5E74&#x27;, //æ‹ç‚¹å¤–åœ†é¢œè‰²</span><br><span class=\"line\">            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;line&#x27;,</span><br><span class=\"line\">        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        symbol: &#x27;circle&#x27;, //æ‹ç‚¹æ ·å¼</span><br><span class=\"line\">        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#292B37&#x27;, //æ‹ç‚¹å†…åœ†é¢œè‰²</span><br><span class=\"line\">            borderColor: &#x27;#5B5E74&#x27;, //æ‹ç‚¹å¤–åœ†é¢œè‰²</span><br><span class=\"line\">            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ— æ‹ç‚¹","date":"2022-03-10T03:39:04.601Z","_content":"\n### æ— æ‹ç‚¹\n\n```\nseries: [\n    {\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\n      type: 'line',\n      smooth: true, //å…³é”®ç‚¹ï¼Œä¸ºtrueæ˜¯ä¸æ”¯æŒè™šçº¿çš„ï¼Œå®çº¿å°±ç”¨true\n      symbolSize:0,   // æŠ˜çº¿æ‹ç‚¹åœ†çš„å¤§å°\n\n    }\n]\n```\n\n### æŠ˜çº¿çº¿å‹\n\n```\nseries: [\n    {\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\n      type: 'line',\n      lineStyle:{\n\n                  width:2,\n                  type:'dotted'  //'dotted'è™šçº¿ 'solid'å®çº¿ 'dashed'è™šçº¿\n\n\n      }\n    }\n]\n\n```\n","source":"_posts/Echarts/echartsæŠ˜çº¿å›¾--æ— æ‹ç‚¹ï¼ŒæŠ˜çº¿æ ·å¼.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ— æ‹ç‚¹\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, symbolSize]\n---\n\n### æ— æ‹ç‚¹\n\n```\nseries: [\n    {\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\n      type: 'line',\n      smooth: true, //å…³é”®ç‚¹ï¼Œä¸ºtrueæ˜¯ä¸æ”¯æŒè™šçº¿çš„ï¼Œå®çº¿å°±ç”¨true\n      symbolSize:0,   // æŠ˜çº¿æ‹ç‚¹åœ†çš„å¤§å°\n\n    }\n]\n```\n\n### æŠ˜çº¿çº¿å‹\n\n```\nseries: [\n    {\n      data: [820, 932, 901, 934, 1290, 1330, 1320],\n      type: 'line',\n      lineStyle:{\n\n                  width:2,\n                  type:'dotted'  //'dotted'è™šçº¿ 'solid'å®çº¿ 'dashed'è™šçº¿\n\n\n      }\n    }\n]\n\n```\n","slug":"Echarts/echartsæŠ˜çº¿å›¾--æ— æ‹ç‚¹ï¼ŒæŠ˜çº¿æ ·å¼","published":1,"updated":"2023-08-13T12:03:39.460Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywi000iq42v4a5faexf","content":"<h3 id=\"æ— æ‹ç‚¹\"><a href=\"#æ— æ‹ç‚¹\" class=\"headerlink\" title=\"æ— æ‹ç‚¹\"></a>æ— æ‹ç‚¹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      data: [820, 932, 901, 934, 1290, 1330, 1320],</span><br><span class=\"line\">      type: &#x27;line&#x27;,</span><br><span class=\"line\">      smooth: true, //å…³é”®ç‚¹ï¼Œä¸ºtrueæ˜¯ä¸æ”¯æŒè™šçº¿çš„ï¼Œå®çº¿å°±ç”¨true</span><br><span class=\"line\">      symbolSize:0,   // æŠ˜çº¿æ‹ç‚¹åœ†çš„å¤§å°</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŠ˜çº¿çº¿å‹\"><a href=\"#æŠ˜çº¿çº¿å‹\" class=\"headerlink\" title=\"æŠ˜çº¿çº¿å‹\"></a>æŠ˜çº¿çº¿å‹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      data: [820, 932, 901, 934, 1290, 1330, 1320],</span><br><span class=\"line\">      type: &#x27;line&#x27;,</span><br><span class=\"line\">      lineStyle:&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                  width:2,</span><br><span class=\"line\">                  type:&#x27;dotted&#x27;  //&#x27;dotted&#x27;è™šçº¿ &#x27;solid&#x27;å®çº¿ &#x27;dashed&#x27;è™šçº¿</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"æ— æ‹ç‚¹\"><a href=\"#æ— æ‹ç‚¹\" class=\"headerlink\" title=\"æ— æ‹ç‚¹\"></a>æ— æ‹ç‚¹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      data: [820, 932, 901, 934, 1290, 1330, 1320],</span><br><span class=\"line\">      type: &#x27;line&#x27;,</span><br><span class=\"line\">      smooth: true, //å…³é”®ç‚¹ï¼Œä¸ºtrueæ˜¯ä¸æ”¯æŒè™šçº¿çš„ï¼Œå®çº¿å°±ç”¨true</span><br><span class=\"line\">      symbolSize:0,   // æŠ˜çº¿æ‹ç‚¹åœ†çš„å¤§å°</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"æŠ˜çº¿çº¿å‹\"><a href=\"#æŠ˜çº¿çº¿å‹\" class=\"headerlink\" title=\"æŠ˜çº¿çº¿å‹\"></a>æŠ˜çº¿çº¿å‹</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      data: [820, 932, 901, 934, 1290, 1330, 1320],</span><br><span class=\"line\">      type: &#x27;line&#x27;,</span><br><span class=\"line\">      lineStyle:&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">                  width:2,</span><br><span class=\"line\">                  type:&#x27;dotted&#x27;  //&#x27;dotted&#x27;è™šçº¿ &#x27;solid&#x27;å®çº¿ &#x27;dashed&#x27;è™šçº¿</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®æŸ±çŠ¶å›¾æ¸è¿›å¼","date":"2022-03-10T03:39:08.919Z","_content":"\n```\nseries:[\n    {\n        type: 'bar',\n        stack: 'Total',\n        itemStyle: {\n            borderRadius: [4, 4, 4, 4], // åœ†æŸ±\n            color: function (params) {\n                //é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„\n                const colorList = [\n                    {\n                        x: 0,\n                        y: 1,\n                        x2: 0,\n                        y2: 0,\n                        colorStops: [{\n                            offset: 0, color: '#3BABFF' // 0% å¤„çš„é¢œè‰²\n                        }, {\n                            offset: 1, color: '#7548FF' // 100% å¤„çš„é¢œè‰²\n                        }],\n                        global: false // ç¼ºçœä¸º false\n                    }, \"#514FA4\", \"#373948\"];\n                if (params.data.type == \"è¾¾æ ‡\") {\n                    return colorList[0]\n                } else if (params.data.type == \"æœªè¾¾æ ‡\") {\n                    return colorList[1]\n                } else {\n                    return colorList[2]\n                }\n            },\n        },\n    }\n]\n```\n","source":"_posts/Echarts/echartsæŸ±å½¢--è®¾ç½®æŸ±å­å¤šä¸ªé¢œè‰²ï¼ˆæ¸è¿›è‰²ï¼‰.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®æŸ±çŠ¶å›¾æ¸è¿›å¼\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, itemStyle]\n---\n\n```\nseries:[\n    {\n        type: 'bar',\n        stack: 'Total',\n        itemStyle: {\n            borderRadius: [4, 4, 4, 4], // åœ†æŸ±\n            color: function (params) {\n                //é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„\n                const colorList = [\n                    {\n                        x: 0,\n                        y: 1,\n                        x2: 0,\n                        y2: 0,\n                        colorStops: [{\n                            offset: 0, color: '#3BABFF' // 0% å¤„çš„é¢œè‰²\n                        }, {\n                            offset: 1, color: '#7548FF' // 100% å¤„çš„é¢œè‰²\n                        }],\n                        global: false // ç¼ºçœä¸º false\n                    }, \"#514FA4\", \"#373948\"];\n                if (params.data.type == \"è¾¾æ ‡\") {\n                    return colorList[0]\n                } else if (params.data.type == \"æœªè¾¾æ ‡\") {\n                    return colorList[1]\n                } else {\n                    return colorList[2]\n                }\n            },\n        },\n    }\n]\n```\n","slug":"Echarts/echartsæŸ±å½¢--è®¾ç½®æŸ±å­å¤šä¸ªé¢œè‰²ï¼ˆæ¸è¿›è‰²ï¼‰","published":1,"updated":"2023-08-13T12:04:11.419Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywj000kq42vbpeeec67","content":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;bar&#x27;,</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            borderRadius: [4, 4, 4, 4], // åœ†æŸ±</span><br><span class=\"line\">            color: function (params) &#123;</span><br><span class=\"line\">                //é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„</span><br><span class=\"line\">                const colorList = [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        x: 0,</span><br><span class=\"line\">                        y: 1,</span><br><span class=\"line\">                        x2: 0,</span><br><span class=\"line\">                        y2: 0,</span><br><span class=\"line\">                        colorStops: [&#123;</span><br><span class=\"line\">                            offset: 0, color: &#x27;#3BABFF&#x27; // 0% å¤„çš„é¢œè‰²</span><br><span class=\"line\">                        &#125;, &#123;</span><br><span class=\"line\">                            offset: 1, color: &#x27;#7548FF&#x27; // 100% å¤„çš„é¢œè‰²</span><br><span class=\"line\">                        &#125;],</span><br><span class=\"line\">                        global: false // ç¼ºçœä¸º false</span><br><span class=\"line\">                    &#125;, &quot;#514FA4&quot;, &quot;#373948&quot;];</span><br><span class=\"line\">                if (params.data.type == &quot;è¾¾æ ‡&quot;) &#123;</span><br><span class=\"line\">                    return colorList[0]</span><br><span class=\"line\">                &#125; else if (params.data.type == &quot;æœªè¾¾æ ‡&quot;) &#123;</span><br><span class=\"line\">                    return colorList[1]</span><br><span class=\"line\">                &#125; else &#123;</span><br><span class=\"line\">                    return colorList[2]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;bar&#x27;,</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            borderRadius: [4, 4, 4, 4], // åœ†æŸ±</span><br><span class=\"line\">            color: function (params) &#123;</span><br><span class=\"line\">                //é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°ç»„</span><br><span class=\"line\">                const colorList = [</span><br><span class=\"line\">                    &#123;</span><br><span class=\"line\">                        x: 0,</span><br><span class=\"line\">                        y: 1,</span><br><span class=\"line\">                        x2: 0,</span><br><span class=\"line\">                        y2: 0,</span><br><span class=\"line\">                        colorStops: [&#123;</span><br><span class=\"line\">                            offset: 0, color: &#x27;#3BABFF&#x27; // 0% å¤„çš„é¢œè‰²</span><br><span class=\"line\">                        &#125;, &#123;</span><br><span class=\"line\">                            offset: 1, color: &#x27;#7548FF&#x27; // 100% å¤„çš„é¢œè‰²</span><br><span class=\"line\">                        &#125;],</span><br><span class=\"line\">                        global: false // ç¼ºçœä¸º false</span><br><span class=\"line\">                    &#125;, &quot;#514FA4&quot;, &quot;#373948&quot;];</span><br><span class=\"line\">                if (params.data.type == &quot;è¾¾æ ‡&quot;) &#123;</span><br><span class=\"line\">                    return colorList[0]</span><br><span class=\"line\">                &#125; else if (params.data.type == &quot;æœªè¾¾æ ‡&quot;) &#123;</span><br><span class=\"line\">                    return colorList[1]</span><br><span class=\"line\">                &#125; else &#123;</span><br><span class=\"line\">                    return colorList[2]</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®ä»åŸç‚¹å¼€å§‹","date":"2022-03-10T03:38:44.099Z","_content":"\n```\nxAxis:{\n    boundaryGap: false, // ä¸ç•™ç™½ï¼Œä»åŸç‚¹å¼€å§‹\n}\n```\n","source":"_posts/Echarts/echartsè®¾ç½®ä»åŸç‚¹å¼€å§‹.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ è®¾ç½®ä»åŸç‚¹å¼€å§‹\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, boundaryGap]\n---\n\n```\nxAxis:{\n    boundaryGap: false, // ä¸ç•™ç™½ï¼Œä»åŸç‚¹å¼€å§‹\n}\n```\n","slug":"Echarts/echartsè®¾ç½®ä»åŸç‚¹å¼€å§‹","published":1,"updated":"2023-08-13T12:01:14.812Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywk000oq42vdpr3fdpe","content":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xAxis:&#123;</span><br><span class=\"line\">    boundaryGap: false, // ä¸ç•™ç™½ï¼Œä»åŸç‚¹å¼€å§‹</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xAxis:&#123;</span><br><span class=\"line\">    boundaryGap: false, // ä¸ç•™ç™½ï¼Œä»åŸç‚¹å¼€å§‹</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ‹ç‚¹åœ†æ ·å¼","date":"2022-03-10T03:39:13.518Z","_content":"\n```\nseries:[\n    {\n        type: 'line',\n        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿\n        stack: 'Total',\n        symbol: 'circle', //æ‹ç‚¹æ ·å¼\n        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°\n        itemStyle: {\n            color: '#292B37', //æ‹ç‚¹å†…åœ†é¢œè‰²\n            borderColor: '#5B5E74', //æ‹ç‚¹å¤–åœ†é¢œè‰²\n            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°\n        },\n    }\n]\n```\n","source":"_posts/Echarts/echatsæŠ˜çº¿--æ‹ç‚¹åœ†çš„æ ·å¼ï¼ˆå†…åœ†å¤–åœ†ï¼‰.md","raw":"---\ntitle: ã€Echartsä½¿ç”¨ã€‘ä¹‹ æ‹ç‚¹åœ†æ ·å¼\ndate:\ntags: [å‰ç«¯, Echarts]\ncategories: [å‰ç«¯, Echarts, symbol]\n---\n\n```\nseries:[\n    {\n        type: 'line',\n        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿\n        stack: 'Total',\n        symbol: 'circle', //æ‹ç‚¹æ ·å¼\n        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°\n        itemStyle: {\n            color: '#292B37', //æ‹ç‚¹å†…åœ†é¢œè‰²\n            borderColor: '#5B5E74', //æ‹ç‚¹å¤–åœ†é¢œè‰²\n            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°\n        },\n    }\n]\n```\n","slug":"Echarts/echatsæŠ˜çº¿--æ‹ç‚¹åœ†çš„æ ·å¼ï¼ˆå†…åœ†å¤–åœ†ï¼‰","published":1,"updated":"2023-08-13T12:05:01.261Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywk000qq42v7j50berz","content":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;line&#x27;,</span><br><span class=\"line\">        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        symbol: &#x27;circle&#x27;, //æ‹ç‚¹æ ·å¼</span><br><span class=\"line\">        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#292B37&#x27;, //æ‹ç‚¹å†…åœ†é¢œè‰²</span><br><span class=\"line\">            borderColor: &#x27;#5B5E74&#x27;, //æ‹ç‚¹å¤–åœ†é¢œè‰²</span><br><span class=\"line\">            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">series:[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        type: &#x27;line&#x27;,</span><br><span class=\"line\">        connectNulls: true,//æ— æ•°æ®æ˜¯æ˜¯å¦è¿çº¿</span><br><span class=\"line\">        stack: &#x27;Total&#x27;,</span><br><span class=\"line\">        symbol: &#x27;circle&#x27;, //æ‹ç‚¹æ ·å¼</span><br><span class=\"line\">        symbolSize: 4, //æ‹ç‚¹åœ†å¤§å°</span><br><span class=\"line\">        itemStyle: &#123;</span><br><span class=\"line\">            color: &#x27;#292B37&#x27;, //æ‹ç‚¹å†…åœ†é¢œè‰²</span><br><span class=\"line\">            borderColor: &#x27;#5B5E74&#x27;, //æ‹ç‚¹å¤–åœ†é¢œè‰²</span><br><span class=\"line\">            width: 2, //æ‹ç‚¹å†…åœ†å¤§å°</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n"},{"title":"ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥","date":"2023-08-13T06:34:46.171Z","_content":"\n# ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?\n\n**åŒæº**ï¼šå¦‚æœä¸¤ä¸ª URL çš„åè®®ã€åŸŸåï¼ˆä¸»æœºåï¼‰å’Œç«¯å£éƒ½ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸¤ä¸ª URL åŒæºã€‚  \nè¿™ä¸¤ä¸ª URL æ˜¯åŒæºçš„\n\n```javascript\nhttps://time.geekbang.org/?category=1\nhttps://time.geekbang.org/?category=0\n```\n\n> **æºï¼šå°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚**\n>\n> åŒæºç­–ç•¥ï¼š**SOPï¼ˆSame origin policyï¼‰æ˜¯ç”± Netscape å…¬å¸ 1995 å¹´å¼•å…¥æµè§ˆå™¨çš„ä¸€ç§çº¦å®š**ï¼Œæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒã€æœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œ**è‹¥ç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° XSSã€CSFR ç­‰æ”»å‡»**ã€‚**æ‰€è°“åŒæºæ˜¯æŒ‡\"åè®®+åŸŸå+ç«¯å£\"ä¸‰è€…ç›¸åŒï¼Œè‹¥ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£å·éƒ½ç›¸åŒ**ï¼Œåˆ™ä¸¤è€…ä¸ºåŒæºï¼Œæœ‰ä¸€ä¸ªä¸åŒåˆ™éåŒæºï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹Ÿæ˜¯éåŒæºçš„\n\néåŒæºçš„ URL åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºï¼ˆä¸èƒ½ç›¸äº’é€šä¿¡ï¼‰\n\nå…·ä½“æ¥è®²ï¼ŒåŒæºç­–ç•¥ä¸»è¦è¡¨ç°åœ¨ **DOMã€Web æ•°æ®å’Œç½‘ç»œ**è¿™ä¸‰ä¸ªå±‚é¢ã€‚\n\n- ç¬¬ä¸€ä¸ªï¼ŒDOM å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†æ¥è‡ªä¸åŒæºçš„ JavaScript è„šæœ¬å¯¹å½“å‰ DOM å¯¹è±¡è¯»å’Œå†™çš„æ“ä½œã€‚\n\n- ç¬¬äºŒä¸ªï¼Œæ•°æ®å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºçš„ç«™ç‚¹è¯»å–å½“å‰ç«™ç‚¹çš„ Cookieã€IndexDBã€LocalStorage ç­‰æ•°æ®ã€‚ç”±äºåŒæºç­–ç•¥ï¼Œæˆ‘ä»¬ä¾ç„¶æ— æ³•é€šè¿‡ç¬¬äºŒä¸ªé¡µé¢çš„ opener æ¥è®¿é—®ç¬¬ä¸€ä¸ªé¡µé¢ä¸­çš„ Cookieã€IndexDB æˆ–è€… LocalStorage ç­‰å†…å®¹ã€‚ä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åšæ¼”ç¤ºäº†ã€‚\n\n- ç¬¬ä¸‰ä¸ªï¼Œç½‘ç»œå±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†é€šè¿‡ XMLHttpRequest ç­‰æ–¹å¼å°†ç«™ç‚¹çš„æ•°æ®å‘é€ç»™ä¸åŒæºçš„ç«™ç‚¹ã€‚ä½ è¿˜è®°å¾—åœ¨ã€Š17 | WebAPIï¼šXMLHttpRequest æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿã€‹è¿™ç¯‡æ–‡ç« çš„æœ«å°¾åˆ†æçš„ XMLHttpRequest åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„å‘å—ï¼Ÿå…¶ä¸­ç¬¬ä¸€ä¸ªå‘å°±æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½è®¿é—®è·¨åŸŸçš„èµ„æºã€‚\n\næµè§ˆå™¨é»˜è®¤ä¸¤ä¸ªç›¸åŒçš„æºä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è®¿é—®èµ„æºå’Œæ“ä½œ DOM çš„ã€‚ä¸¤ä¸ªä¸åŒçš„æºä¹‹é—´è‹¥æƒ³è¦ç›¸äº’è®¿é—®èµ„æºæˆ–è€…æ“ä½œ DOMï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€å¥—åŸºç¡€çš„å®‰å…¨ç­–ç•¥çš„åˆ¶çº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸º**åŒæºç­–ç•¥**ã€‚\n\n# å®‰å…¨ä¸ä¾¿åˆ©\n\nåŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚\n\nåŒæºç­–ç•¥å°†é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š\n\nï¼ˆ1ï¼‰Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–\n\nï¼ˆ2ï¼‰DOM å’Œ Js å¯¹è±¡æ— æ³•è·å¾—\n\nï¼ˆ3ï¼‰AJAX è¯·æ±‚ä¸èƒ½å‘é€\n\nä»¥ä¸‹ä¸¤ç§ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼š\n\nï¼ˆ1ï¼‰é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶\n\nï¼ˆ2ï¼‰è·¨åŸŸèµ„æºçš„å¼•å…¥ï¼Œä½†æ˜¯ js ä¸èƒ½è¯»å†™åŠ è½½çš„å†…å®¹ï¼Œå¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„`<script src=\"...\"></script>ï¼Œ<img>ï¼Œ<link>ï¼Œ<iframe>`ç­‰\n\næ³¨æ„ï¼š\n\nåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åšçš„é™åˆ¶ï¼Œå¯¹æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä¸åšé™åˆ¶\n\n**1. é¡µé¢ä¸­å¯ä»¥åµŒå…¥ç¬¬ä¸‰æ–¹èµ„æº**\n\n**2. è·¨åŸŸèµ„æºå…±äº«å’Œè·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶**\n\n# æ€»ç»“\n\nåŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚\n\nä¸è¿‡é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œè¦ç»å¯¹çš„å®‰å…¨å°±è¦ç‰ºç‰²æ‰ä¾¿åˆ©æ€§ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨è¿™äºŒè€…ä¹‹é—´åšæƒè¡¡ï¼Œæ‰¾åˆ°ä¸­é—´çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç›®å‰çš„é¡µé¢å®‰å…¨ç­–ç•¥åŸå‹ã€‚æ€»ç»“èµ·æ¥ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š\n\n**é¡µé¢ä¸­å¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹èµ„æº**ï¼Œä¸è¿‡è¿™ä¹Ÿæš´éœ²äº†å¾ˆå¤šè¯¸å¦‚ **XSS çš„å®‰å…¨é—®é¢˜**ï¼Œå› æ­¤åˆåœ¨è¿™ç§å¼€æ”¾çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº† **CSP** æ¥é™åˆ¶å…¶è‡ªç”±ç¨‹åº¦ã€‚ **ä½¿ç”¨ XMLHttpRequest å’Œ Fetch éƒ½æ˜¯æ— æ³•ç›´æ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚çš„**ï¼Œå› æ­¤æµè§ˆå™¨åˆåœ¨è¿™ç§ä¸¥æ ¼ç­–ç•¥çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†**è·¨åŸŸèµ„æºå…±äº«ç­–ç•¥ï¼ˆCORSï¼‰**ï¼Œè®©å…¶å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åŸŸæ“ä½œã€‚ **ä¸¤ä¸ªä¸åŒæºçš„ DOM æ˜¯ä¸èƒ½ç›¸äº’æ“çºµçš„**ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¸­åˆå®ç°äº†**è·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶ï¼ˆwindow.postMessageï¼‰**ï¼Œè®©å…¶å¯ä»¥æ¯”è¾ƒå®‰å…¨åœ°é€šä¿¡\n\n**åŸæ–‡åœ°å€**ï¼š[ã€æµè§ˆå™¨ã€‘ä¹‹ åŒæºç­–ç•¥](https://github.com/yihan12/Blog/blob/main/browser/Same-Origin%20Policy.md)\n","source":"_posts/æµè§ˆå™¨/ ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥.md","raw":"---\ntitle: ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥\ndate:\ntags: [æµè§ˆå™¨]\ncategories: [å‰ç«¯, æµè§ˆå™¨, åŒæºç­–ç•¥]\n---\n\n# ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?\n\n**åŒæº**ï¼šå¦‚æœä¸¤ä¸ª URL çš„åè®®ã€åŸŸåï¼ˆä¸»æœºåï¼‰å’Œç«¯å£éƒ½ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸¤ä¸ª URL åŒæºã€‚  \nè¿™ä¸¤ä¸ª URL æ˜¯åŒæºçš„\n\n```javascript\nhttps://time.geekbang.org/?category=1\nhttps://time.geekbang.org/?category=0\n```\n\n> **æºï¼šå°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚**\n>\n> åŒæºç­–ç•¥ï¼š**SOPï¼ˆSame origin policyï¼‰æ˜¯ç”± Netscape å…¬å¸ 1995 å¹´å¼•å…¥æµè§ˆå™¨çš„ä¸€ç§çº¦å®š**ï¼Œæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒã€æœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œ**è‹¥ç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° XSSã€CSFR ç­‰æ”»å‡»**ã€‚**æ‰€è°“åŒæºæ˜¯æŒ‡\"åè®®+åŸŸå+ç«¯å£\"ä¸‰è€…ç›¸åŒï¼Œè‹¥ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£å·éƒ½ç›¸åŒ**ï¼Œåˆ™ä¸¤è€…ä¸ºåŒæºï¼Œæœ‰ä¸€ä¸ªä¸åŒåˆ™éåŒæºï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹Ÿæ˜¯éåŒæºçš„\n\néåŒæºçš„ URL åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºï¼ˆä¸èƒ½ç›¸äº’é€šä¿¡ï¼‰\n\nå…·ä½“æ¥è®²ï¼ŒåŒæºç­–ç•¥ä¸»è¦è¡¨ç°åœ¨ **DOMã€Web æ•°æ®å’Œç½‘ç»œ**è¿™ä¸‰ä¸ªå±‚é¢ã€‚\n\n- ç¬¬ä¸€ä¸ªï¼ŒDOM å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†æ¥è‡ªä¸åŒæºçš„ JavaScript è„šæœ¬å¯¹å½“å‰ DOM å¯¹è±¡è¯»å’Œå†™çš„æ“ä½œã€‚\n\n- ç¬¬äºŒä¸ªï¼Œæ•°æ®å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºçš„ç«™ç‚¹è¯»å–å½“å‰ç«™ç‚¹çš„ Cookieã€IndexDBã€LocalStorage ç­‰æ•°æ®ã€‚ç”±äºåŒæºç­–ç•¥ï¼Œæˆ‘ä»¬ä¾ç„¶æ— æ³•é€šè¿‡ç¬¬äºŒä¸ªé¡µé¢çš„ opener æ¥è®¿é—®ç¬¬ä¸€ä¸ªé¡µé¢ä¸­çš„ Cookieã€IndexDB æˆ–è€… LocalStorage ç­‰å†…å®¹ã€‚ä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åšæ¼”ç¤ºäº†ã€‚\n\n- ç¬¬ä¸‰ä¸ªï¼Œç½‘ç»œå±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†é€šè¿‡ XMLHttpRequest ç­‰æ–¹å¼å°†ç«™ç‚¹çš„æ•°æ®å‘é€ç»™ä¸åŒæºçš„ç«™ç‚¹ã€‚ä½ è¿˜è®°å¾—åœ¨ã€Š17 | WebAPIï¼šXMLHttpRequest æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿã€‹è¿™ç¯‡æ–‡ç« çš„æœ«å°¾åˆ†æçš„ XMLHttpRequest åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„å‘å—ï¼Ÿå…¶ä¸­ç¬¬ä¸€ä¸ªå‘å°±æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½è®¿é—®è·¨åŸŸçš„èµ„æºã€‚\n\næµè§ˆå™¨é»˜è®¤ä¸¤ä¸ªç›¸åŒçš„æºä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è®¿é—®èµ„æºå’Œæ“ä½œ DOM çš„ã€‚ä¸¤ä¸ªä¸åŒçš„æºä¹‹é—´è‹¥æƒ³è¦ç›¸äº’è®¿é—®èµ„æºæˆ–è€…æ“ä½œ DOMï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€å¥—åŸºç¡€çš„å®‰å…¨ç­–ç•¥çš„åˆ¶çº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸º**åŒæºç­–ç•¥**ã€‚\n\n# å®‰å…¨ä¸ä¾¿åˆ©\n\nåŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚\n\nåŒæºç­–ç•¥å°†é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š\n\nï¼ˆ1ï¼‰Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–\n\nï¼ˆ2ï¼‰DOM å’Œ Js å¯¹è±¡æ— æ³•è·å¾—\n\nï¼ˆ3ï¼‰AJAX è¯·æ±‚ä¸èƒ½å‘é€\n\nä»¥ä¸‹ä¸¤ç§ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼š\n\nï¼ˆ1ï¼‰é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶\n\nï¼ˆ2ï¼‰è·¨åŸŸèµ„æºçš„å¼•å…¥ï¼Œä½†æ˜¯ js ä¸èƒ½è¯»å†™åŠ è½½çš„å†…å®¹ï¼Œå¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„`<script src=\"...\"></script>ï¼Œ<img>ï¼Œ<link>ï¼Œ<iframe>`ç­‰\n\næ³¨æ„ï¼š\n\nåŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åšçš„é™åˆ¶ï¼Œå¯¹æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä¸åšé™åˆ¶\n\n**1. é¡µé¢ä¸­å¯ä»¥åµŒå…¥ç¬¬ä¸‰æ–¹èµ„æº**\n\n**2. è·¨åŸŸèµ„æºå…±äº«å’Œè·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶**\n\n# æ€»ç»“\n\nåŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚\n\nä¸è¿‡é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œè¦ç»å¯¹çš„å®‰å…¨å°±è¦ç‰ºç‰²æ‰ä¾¿åˆ©æ€§ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨è¿™äºŒè€…ä¹‹é—´åšæƒè¡¡ï¼Œæ‰¾åˆ°ä¸­é—´çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç›®å‰çš„é¡µé¢å®‰å…¨ç­–ç•¥åŸå‹ã€‚æ€»ç»“èµ·æ¥ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š\n\n**é¡µé¢ä¸­å¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹èµ„æº**ï¼Œä¸è¿‡è¿™ä¹Ÿæš´éœ²äº†å¾ˆå¤šè¯¸å¦‚ **XSS çš„å®‰å…¨é—®é¢˜**ï¼Œå› æ­¤åˆåœ¨è¿™ç§å¼€æ”¾çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº† **CSP** æ¥é™åˆ¶å…¶è‡ªç”±ç¨‹åº¦ã€‚ **ä½¿ç”¨ XMLHttpRequest å’Œ Fetch éƒ½æ˜¯æ— æ³•ç›´æ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚çš„**ï¼Œå› æ­¤æµè§ˆå™¨åˆåœ¨è¿™ç§ä¸¥æ ¼ç­–ç•¥çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†**è·¨åŸŸèµ„æºå…±äº«ç­–ç•¥ï¼ˆCORSï¼‰**ï¼Œè®©å…¶å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åŸŸæ“ä½œã€‚ **ä¸¤ä¸ªä¸åŒæºçš„ DOM æ˜¯ä¸èƒ½ç›¸äº’æ“çºµçš„**ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¸­åˆå®ç°äº†**è·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶ï¼ˆwindow.postMessageï¼‰**ï¼Œè®©å…¶å¯ä»¥æ¯”è¾ƒå®‰å…¨åœ°é€šä¿¡\n\n**åŸæ–‡åœ°å€**ï¼š[ã€æµè§ˆå™¨ã€‘ä¹‹ åŒæºç­–ç•¥](https://github.com/yihan12/Blog/blob/main/browser/Same-Origin%20Policy.md)\n","slug":"æµè§ˆå™¨/ ã€æµè§ˆå™¨ã€‘ä¹‹åŒæºç­–ç•¥","published":1,"updated":"2023-08-13T07:17:18.346Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywl000uq42v6oxpcacw","content":"<h1 id=\"ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥\"><a href=\"#ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?\"></a>ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?</h1><p><strong>åŒæº</strong>ï¼šå¦‚æœä¸¤ä¸ª URL çš„åè®®ã€åŸŸåï¼ˆä¸»æœºåï¼‰å’Œç«¯å£éƒ½ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸¤ä¸ª URL åŒæºã€‚<br>è¿™ä¸¤ä¸ª URL æ˜¯åŒæºçš„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">https</span>:<span class=\"comment\">//time.geekbang.org/?category=1</span></span><br><span class=\"line\"><span class=\"attr\">https</span>:<span class=\"comment\">//time.geekbang.org/?category=0</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>æºï¼šå°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚</strong></p>\n<p>åŒæºç­–ç•¥ï¼š<strong>SOPï¼ˆSame origin policyï¼‰æ˜¯ç”± Netscape å…¬å¸ 1995 å¹´å¼•å…¥æµè§ˆå™¨çš„ä¸€ç§çº¦å®š</strong>ï¼Œæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒã€æœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œ<strong>è‹¥ç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° XSSã€CSFR ç­‰æ”»å‡»</strong>ã€‚<strong>æ‰€è°“åŒæºæ˜¯æŒ‡â€åè®®+åŸŸå+ç«¯å£â€ä¸‰è€…ç›¸åŒï¼Œè‹¥ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£å·éƒ½ç›¸åŒ</strong>ï¼Œåˆ™ä¸¤è€…ä¸ºåŒæºï¼Œæœ‰ä¸€ä¸ªä¸åŒåˆ™éåŒæºï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹Ÿæ˜¯éåŒæºçš„</p>\n</blockquote>\n<p>éåŒæºçš„ URL åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºï¼ˆä¸èƒ½ç›¸äº’é€šä¿¡ï¼‰</p>\n<p>å…·ä½“æ¥è®²ï¼ŒåŒæºç­–ç•¥ä¸»è¦è¡¨ç°åœ¨ <strong>DOMã€Web æ•°æ®å’Œç½‘ç»œ</strong>è¿™ä¸‰ä¸ªå±‚é¢ã€‚</p>\n<ul>\n<li><p>ç¬¬ä¸€ä¸ªï¼ŒDOM å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†æ¥è‡ªä¸åŒæºçš„ JavaScript è„šæœ¬å¯¹å½“å‰ DOM å¯¹è±¡è¯»å’Œå†™çš„æ“ä½œã€‚</p>\n</li>\n<li><p>ç¬¬äºŒä¸ªï¼Œæ•°æ®å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºçš„ç«™ç‚¹è¯»å–å½“å‰ç«™ç‚¹çš„ Cookieã€IndexDBã€LocalStorage ç­‰æ•°æ®ã€‚ç”±äºåŒæºç­–ç•¥ï¼Œæˆ‘ä»¬ä¾ç„¶æ— æ³•é€šè¿‡ç¬¬äºŒä¸ªé¡µé¢çš„ opener æ¥è®¿é—®ç¬¬ä¸€ä¸ªé¡µé¢ä¸­çš„ Cookieã€IndexDB æˆ–è€… LocalStorage ç­‰å†…å®¹ã€‚ä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åšæ¼”ç¤ºäº†ã€‚</p>\n</li>\n<li><p>ç¬¬ä¸‰ä¸ªï¼Œç½‘ç»œå±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†é€šè¿‡ XMLHttpRequest ç­‰æ–¹å¼å°†ç«™ç‚¹çš„æ•°æ®å‘é€ç»™ä¸åŒæºçš„ç«™ç‚¹ã€‚ä½ è¿˜è®°å¾—åœ¨ã€Š17 | WebAPIï¼šXMLHttpRequest æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿã€‹è¿™ç¯‡æ–‡ç« çš„æœ«å°¾åˆ†æçš„ XMLHttpRequest åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„å‘å—ï¼Ÿå…¶ä¸­ç¬¬ä¸€ä¸ªå‘å°±æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½è®¿é—®è·¨åŸŸçš„èµ„æºã€‚</p>\n</li>\n</ul>\n<p>æµè§ˆå™¨é»˜è®¤ä¸¤ä¸ªç›¸åŒçš„æºä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è®¿é—®èµ„æºå’Œæ“ä½œ DOM çš„ã€‚ä¸¤ä¸ªä¸åŒçš„æºä¹‹é—´è‹¥æƒ³è¦ç›¸äº’è®¿é—®èµ„æºæˆ–è€…æ“ä½œ DOMï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€å¥—åŸºç¡€çš„å®‰å…¨ç­–ç•¥çš„åˆ¶çº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸º<strong>åŒæºç­–ç•¥</strong>ã€‚</p>\n<h1 id=\"å®‰å…¨ä¸ä¾¿åˆ©\"><a href=\"#å®‰å…¨ä¸ä¾¿åˆ©\" class=\"headerlink\" title=\"å®‰å…¨ä¸ä¾¿åˆ©\"></a>å®‰å…¨ä¸ä¾¿åˆ©</h1><p>åŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚</p>\n<p>åŒæºç­–ç•¥å°†é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š</p>\n<p>ï¼ˆ1ï¼‰Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–</p>\n<p>ï¼ˆ2ï¼‰DOM å’Œ Js å¯¹è±¡æ— æ³•è·å¾—</p>\n<p>ï¼ˆ3ï¼‰AJAX è¯·æ±‚ä¸èƒ½å‘é€</p>\n<p>ä»¥ä¸‹ä¸¤ç§ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼š</p>\n<p>ï¼ˆ1ï¼‰é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶</p>\n<p>ï¼ˆ2ï¼‰è·¨åŸŸèµ„æºçš„å¼•å…¥ï¼Œä½†æ˜¯ js ä¸èƒ½è¯»å†™åŠ è½½çš„å†…å®¹ï¼Œå¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„<code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;ï¼Œ&lt;img&gt;ï¼Œ&lt;link&gt;ï¼Œ&lt;iframe&gt;</code>ç­‰</p>\n<p>æ³¨æ„ï¼š</p>\n<p>åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åšçš„é™åˆ¶ï¼Œå¯¹æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä¸åšé™åˆ¶</p>\n<p><strong>1. é¡µé¢ä¸­å¯ä»¥åµŒå…¥ç¬¬ä¸‰æ–¹èµ„æº</strong></p>\n<p><strong>2. è·¨åŸŸèµ„æºå…±äº«å’Œè·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶</strong></p>\n<h1 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h1><p>åŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚</p>\n<p>ä¸è¿‡é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œè¦ç»å¯¹çš„å®‰å…¨å°±è¦ç‰ºç‰²æ‰ä¾¿åˆ©æ€§ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨è¿™äºŒè€…ä¹‹é—´åšæƒè¡¡ï¼Œæ‰¾åˆ°ä¸­é—´çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç›®å‰çš„é¡µé¢å®‰å…¨ç­–ç•¥åŸå‹ã€‚æ€»ç»“èµ·æ¥ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š</p>\n<p><strong>é¡µé¢ä¸­å¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹èµ„æº</strong>ï¼Œä¸è¿‡è¿™ä¹Ÿæš´éœ²äº†å¾ˆå¤šè¯¸å¦‚ <strong>XSS çš„å®‰å…¨é—®é¢˜</strong>ï¼Œå› æ­¤åˆåœ¨è¿™ç§å¼€æ”¾çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº† <strong>CSP</strong> æ¥é™åˆ¶å…¶è‡ªç”±ç¨‹åº¦ã€‚ <strong>ä½¿ç”¨ XMLHttpRequest å’Œ Fetch éƒ½æ˜¯æ— æ³•ç›´æ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚çš„</strong>ï¼Œå› æ­¤æµè§ˆå™¨åˆåœ¨è¿™ç§ä¸¥æ ¼ç­–ç•¥çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†<strong>è·¨åŸŸèµ„æºå…±äº«ç­–ç•¥ï¼ˆCORSï¼‰</strong>ï¼Œè®©å…¶å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åŸŸæ“ä½œã€‚ <strong>ä¸¤ä¸ªä¸åŒæºçš„ DOM æ˜¯ä¸èƒ½ç›¸äº’æ“çºµçš„</strong>ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¸­åˆå®ç°äº†<strong>è·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶ï¼ˆwindow.postMessageï¼‰</strong>ï¼Œè®©å…¶å¯ä»¥æ¯”è¾ƒå®‰å…¨åœ°é€šä¿¡</p>\n<p><strong>åŸæ–‡åœ°å€</strong>ï¼š<a href=\"https://github.com/yihan12/Blog/blob/main/browser/Same-Origin%20Policy.md\">ã€æµè§ˆå™¨ã€‘ä¹‹ åŒæºç­–ç•¥</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥\"><a href=\"#ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥\" class=\"headerlink\" title=\"ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?\"></a>ä»€ä¹ˆæ˜¯æµè§ˆå™¨åŒæºç­–ç•¥?</h1><p><strong>åŒæº</strong>ï¼šå¦‚æœä¸¤ä¸ª URL çš„åè®®ã€åŸŸåï¼ˆä¸»æœºåï¼‰å’Œç«¯å£éƒ½ç›¸åŒï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸¤ä¸ª URL åŒæºã€‚<br>è¿™ä¸¤ä¸ª URL æ˜¯åŒæºçš„</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">https</span>:<span class=\"comment\">//time.geekbang.org/?category=1</span></span><br><span class=\"line\"><span class=\"attr\">https</span>:<span class=\"comment\">//time.geekbang.org/?category=0</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p><strong>æºï¼šå°±æ˜¯åè®®ã€åŸŸåå’Œç«¯å£å·ã€‚</strong></p>\n<p>åŒæºç­–ç•¥ï¼š<strong>SOPï¼ˆSame origin policyï¼‰æ˜¯ç”± Netscape å…¬å¸ 1995 å¹´å¼•å…¥æµè§ˆå™¨çš„ä¸€ç§çº¦å®š</strong>ï¼Œæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒã€æœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œ<strong>è‹¥ç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ° XSSã€CSFR ç­‰æ”»å‡»</strong>ã€‚<strong>æ‰€è°“åŒæºæ˜¯æŒ‡â€åè®®+åŸŸå+ç«¯å£â€ä¸‰è€…ç›¸åŒï¼Œè‹¥ä¸¤ä¸ª URL çš„åè®®ã€åŸŸåã€ç«¯å£å·éƒ½ç›¸åŒ</strong>ï¼Œåˆ™ä¸¤è€…ä¸ºåŒæºï¼Œæœ‰ä¸€ä¸ªä¸åŒåˆ™éåŒæºï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ª ip åœ°å€ï¼Œä¹Ÿæ˜¯éåŒæºçš„</p>\n</blockquote>\n<p>éåŒæºçš„ URL åœ¨æ²¡æœ‰æ˜ç¡®æˆæƒçš„æƒ…å†µä¸‹ï¼Œä¸èƒ½è¯»å†™å¯¹æ–¹èµ„æºï¼ˆä¸èƒ½ç›¸äº’é€šä¿¡ï¼‰</p>\n<p>å…·ä½“æ¥è®²ï¼ŒåŒæºç­–ç•¥ä¸»è¦è¡¨ç°åœ¨ <strong>DOMã€Web æ•°æ®å’Œç½‘ç»œ</strong>è¿™ä¸‰ä¸ªå±‚é¢ã€‚</p>\n<ul>\n<li><p>ç¬¬ä¸€ä¸ªï¼ŒDOM å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†æ¥è‡ªä¸åŒæºçš„ JavaScript è„šæœ¬å¯¹å½“å‰ DOM å¯¹è±¡è¯»å’Œå†™çš„æ“ä½œã€‚</p>\n</li>\n<li><p>ç¬¬äºŒä¸ªï¼Œæ•°æ®å±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†ä¸åŒæºçš„ç«™ç‚¹è¯»å–å½“å‰ç«™ç‚¹çš„ Cookieã€IndexDBã€LocalStorage ç­‰æ•°æ®ã€‚ç”±äºåŒæºç­–ç•¥ï¼Œæˆ‘ä»¬ä¾ç„¶æ— æ³•é€šè¿‡ç¬¬äºŒä¸ªé¡µé¢çš„ opener æ¥è®¿é—®ç¬¬ä¸€ä¸ªé¡µé¢ä¸­çš„ Cookieã€IndexDB æˆ–è€… LocalStorage ç­‰å†…å®¹ã€‚ä½ å¯ä»¥è‡ªå·±è¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸åšæ¼”ç¤ºäº†ã€‚</p>\n</li>\n<li><p>ç¬¬ä¸‰ä¸ªï¼Œç½‘ç»œå±‚é¢ã€‚åŒæºç­–ç•¥é™åˆ¶äº†é€šè¿‡ XMLHttpRequest ç­‰æ–¹å¼å°†ç«™ç‚¹çš„æ•°æ®å‘é€ç»™ä¸åŒæºçš„ç«™ç‚¹ã€‚ä½ è¿˜è®°å¾—åœ¨ã€Š17 | WebAPIï¼šXMLHttpRequest æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿã€‹è¿™ç¯‡æ–‡ç« çš„æœ«å°¾åˆ†æçš„ XMLHttpRequest åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ‰€é‡åˆ°çš„å‘å—ï¼Ÿå…¶ä¸­ç¬¬ä¸€ä¸ªå‘å°±æ˜¯åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½è®¿é—®è·¨åŸŸçš„èµ„æºã€‚</p>\n</li>\n</ul>\n<p>æµè§ˆå™¨é»˜è®¤ä¸¤ä¸ªç›¸åŒçš„æºä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è®¿é—®èµ„æºå’Œæ“ä½œ DOM çš„ã€‚ä¸¤ä¸ªä¸åŒçš„æºä¹‹é—´è‹¥æƒ³è¦ç›¸äº’è®¿é—®èµ„æºæˆ–è€…æ“ä½œ DOMï¼Œé‚£ä¹ˆä¼šæœ‰ä¸€å¥—åŸºç¡€çš„å®‰å…¨ç­–ç•¥çš„åˆ¶çº¦ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸º<strong>åŒæºç­–ç•¥</strong>ã€‚</p>\n<h1 id=\"å®‰å…¨ä¸ä¾¿åˆ©\"><a href=\"#å®‰å…¨ä¸ä¾¿åˆ©\" class=\"headerlink\" title=\"å®‰å…¨ä¸ä¾¿åˆ©\"></a>å®‰å…¨ä¸ä¾¿åˆ©</h1><p>åŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚</p>\n<p>åŒæºç­–ç•¥å°†é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š</p>\n<p>ï¼ˆ1ï¼‰Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–</p>\n<p>ï¼ˆ2ï¼‰DOM å’Œ Js å¯¹è±¡æ— æ³•è·å¾—</p>\n<p>ï¼ˆ3ï¼‰AJAX è¯·æ±‚ä¸èƒ½å‘é€</p>\n<p>ä»¥ä¸‹ä¸¤ç§ä¸å—åŒæºç­–ç•¥çš„é™åˆ¶ï¼š</p>\n<p>ï¼ˆ1ï¼‰é¡µé¢ä¸­çš„é“¾æ¥ï¼Œé‡å®šå‘ä»¥åŠè¡¨å•æäº¤æ˜¯ä¸ä¼šå—åˆ°åŒæºç­–ç•¥é™åˆ¶</p>\n<p>ï¼ˆ2ï¼‰è·¨åŸŸèµ„æºçš„å¼•å…¥ï¼Œä½†æ˜¯ js ä¸èƒ½è¯»å†™åŠ è½½çš„å†…å®¹ï¼Œå¦‚åµŒå…¥åˆ°é¡µé¢ä¸­çš„<code>&lt;script src=&quot;...&quot;&gt;&lt;/script&gt;ï¼Œ&lt;img&gt;ï¼Œ&lt;link&gt;ï¼Œ&lt;iframe&gt;</code>ç­‰</p>\n<p>æ³¨æ„ï¼š</p>\n<p>åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨åšçš„é™åˆ¶ï¼Œå¯¹æœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä¸åšé™åˆ¶</p>\n<p><strong>1. é¡µé¢ä¸­å¯ä»¥åµŒå…¥ç¬¬ä¸‰æ–¹èµ„æº</strong></p>\n<p><strong>2. è·¨åŸŸèµ„æºå…±äº«å’Œè·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶</strong></p>\n<h1 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h1><p>åŒæºç­–ç•¥ä¼šéš”ç¦»ä¸åŒæºçš„ DOMã€é¡µé¢æ•°æ®å’Œç½‘ç»œé€šä¿¡ï¼Œè¿›è€Œå®ç° Web é¡µé¢çš„å®‰å…¨æ€§ã€‚</p>\n<p>ä¸è¿‡é±¼å’Œç†ŠæŒä¸å¯å…¼å¾—ï¼Œè¦ç»å¯¹çš„å®‰å…¨å°±è¦ç‰ºç‰²æ‰ä¾¿åˆ©æ€§ï¼Œå› æ­¤æˆ‘ä»¬è¦åœ¨è¿™äºŒè€…ä¹‹é—´åšæƒè¡¡ï¼Œæ‰¾åˆ°ä¸­é—´çš„ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç›®å‰çš„é¡µé¢å®‰å…¨ç­–ç•¥åŸå‹ã€‚æ€»ç»“èµ·æ¥ï¼Œå®ƒå…·å¤‡ä»¥ä¸‹ä¸‰ä¸ªç‰¹ç‚¹ï¼š</p>\n<p><strong>é¡µé¢ä¸­å¯ä»¥å¼•ç”¨ç¬¬ä¸‰æ–¹èµ„æº</strong>ï¼Œä¸è¿‡è¿™ä¹Ÿæš´éœ²äº†å¾ˆå¤šè¯¸å¦‚ <strong>XSS çš„å®‰å…¨é—®é¢˜</strong>ï¼Œå› æ­¤åˆåœ¨è¿™ç§å¼€æ”¾çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº† <strong>CSP</strong> æ¥é™åˆ¶å…¶è‡ªç”±ç¨‹åº¦ã€‚ <strong>ä½¿ç”¨ XMLHttpRequest å’Œ Fetch éƒ½æ˜¯æ— æ³•ç›´æ¥è¿›è¡Œè·¨åŸŸè¯·æ±‚çš„</strong>ï¼Œå› æ­¤æµè§ˆå™¨åˆåœ¨è¿™ç§ä¸¥æ ¼ç­–ç•¥çš„åŸºç¡€ä¹‹ä¸Šå¼•å…¥äº†<strong>è·¨åŸŸèµ„æºå…±äº«ç­–ç•¥ï¼ˆCORSï¼‰</strong>ï¼Œè®©å…¶å¯ä»¥å®‰å…¨åœ°è¿›è¡Œè·¨åŸŸæ“ä½œã€‚ <strong>ä¸¤ä¸ªä¸åŒæºçš„ DOM æ˜¯ä¸èƒ½ç›¸äº’æ“çºµçš„</strong>ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¸­åˆå®ç°äº†<strong>è·¨æ–‡æ¡£æ¶ˆæ¯æœºåˆ¶ï¼ˆwindow.postMessageï¼‰</strong>ï¼Œè®©å…¶å¯ä»¥æ¯”è¾ƒå®‰å…¨åœ°é€šä¿¡</p>\n<p><strong>åŸæ–‡åœ°å€</strong>ï¼š<a href=\"https://github.com/yihan12/Blog/blob/main/browser/Same-Origin%20Policy.md\">ã€æµè§ˆå™¨ã€‘ä¹‹ åŒæºç­–ç•¥</a></p>\n"},{"title":"ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ è§£æ„èµ‹å€¼","date":"2023-08-13T06:23:26.686Z","_content":"\n# æ¦‚è§ˆ\n\n> è§£æ„åªæ˜¯æ„å‘³ç€å°†å¤æ‚çš„ç»“æ„åˆ†è§£æˆæ›´ç®€å•çš„éƒ¨åˆ†ã€‚åœ¨ JavaScript ä¸­ï¼Œè¿™ç§å¤æ‚çš„ç»“æ„é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªæ•°ç»„ã€‚ä½¿ç”¨è§£æ„è¯­æ³•ï¼Œæ‚¨å¯ä»¥ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–æ›´å°çš„ç‰‡æ®µã€‚è§£æ„è¯­æ³•å¯ç”¨äºå˜é‡å£°æ˜æˆ–å˜é‡èµ‹å€¼ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—è§£æ„è¯­æ³•æ¥å¤„ç†åµŒå¥—ç»“æ„ã€‚\n\n```javascript\n// old\nconst student = {\n  name: 'John Doe',\n  age: 16,\n  scores: {\n    maths: 74,\n    english: 63,\n    science: 85,\n  },\n}\n\nfunction displaySummary(student) {\n  console.log('Hello, ' + student.name)\n  console.log('Your Maths score is ' + (student.scores.maths || 0))\n  console.log('Your English score is ' + (student.scores.english || 0))\n  console.log('Your Science score is ' + (student.scores.science || 0))\n}\n\ndisplaySummary(student)\n\n// Hello, John Doe\n// Your Maths score is 74\n// Your English score is 63\n// Your Science score is 85\n```\n\nç”¨ ES6 ç»“æ„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™\n\n```javascript\n// ES6\nfunction displaySummary({\n  name,\n  scores: { maths = 0, english = 0, science = 0 },\n}) {\n  console.log('Hello, ' + name)\n  console.log('Your Maths score is ' + maths)\n  console.log('Your English score is ' + english)\n  console.log('Your Science score is ' + science)\n}\n```\n\n# å¯¹è±¡è§£æ„\n\nå¯¹è±¡è§£æ„æ„åƒæ˜¯ï¼šç”¨å˜é‡å£°æ˜å±æ€§ï¼Œå˜é‡å€¼å³ä¸ºå±æ€§å€¼ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–å¯¹è±¡ä¸­çš„å±æ€§ã€‚\n\n```javascript\nconst student = {\n  firstname: 'Glad',\n  lastname: 'Chinda',\n  country: 'Nigeria',\n}\n\n// Object Destructuring\nconst { firstname, lastname, country } = student\n\nconsole.log(firstname, lastname, country) // Glad Chinda Nigeria\n```\n\nåˆ©ç”¨è§£æ„ç»™å˜é‡é‡æ–°èµ‹å€¼\n\n```javascript\n// Initialize local variables\nlet country = 'Canada'\nlet firstname = 'John'\nlet lastname = 'Doe'\n\nconst student = {\n  firstname: 'Glad',\n  lastname: 'Chinda',\n  country: 'Nigeria',\n}\n\n// Reassign firstname and lastname using destructuring\n// Enclose in a pair of parentheses, since this is an assignment expression\n;({ firstname, lastname } = student)\n\n// country remains unchanged (Canada)\nconsole.log(firstname, lastname, country) // Glad Chinda Canada\n```\n\nä¸Šé¢ä»£ç ï¼Œç”¨è§£æ„èµ‹å€¼çš„æ–¹å¼é‡æ–°ç»™ firstname, lastname å˜é‡èµ‹å€¼ï¼Œæ‰€ä»¥åé¢æ‰“å°çš„æ—¶å€™ï¼Œfirstname, lastname æ˜¾ç¤ºæ˜¯ student å†…éƒ¨çš„ firstname, lastnameã€‚country å¹¶æœªé‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¹‹å‰å®šä¹‰çš„åå­—ã€‚å¦‚æœå°†ä¸­é—´çš„ä»£ç æ”¹ä¸º`({ firstname, lastname , country} = student);`ã€‚é‚£ä¹ˆ, country çš„å€¼ä¹Ÿä¼šè¢«é‡æ–°èµ‹å€¼ï¼Œä¸º'Nigeria'\n\nä¸‹é¢çœ‹ä¸‹åµŒå¥—å¯¹è±¡çš„ç»“æ„ï¼š\n\n```javascript\nconst student = {\n  name: 'John Doe',\n  age: 16,\n  scores: {\n    maths: 74,\n    english: 63,\n  },\n}\n\n// We define 3 local variables: name, maths, science\nconst {\n  name,\n  scores: { maths, science = 50 },\n} = student\n\nconsole.log(\n  `${name} scored ${maths} in Maths and ${science} in Elementary Science.`\n)\n\n// John Doe scored 74 in Maths and 50 in Elementary Science.\n```\n\nä½¿ç”¨åµŒå¥—å¯¹è±¡è§£æ„æ—¶ï¼Œè¦å°å¿ƒé¿å…ä½¿ç”¨ç©ºçš„åµŒå¥—å¯¹è±¡å­—é¢é‡ã€‚è™½ç„¶å®ƒæ˜¯æœ‰æ•ˆçš„è¯­æ³•ï¼Œä½†å®ƒå®é™…ä¸Šæ²¡æœ‰èµ‹å€¼ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ scienceï¼Œå¦‚æœæ”¹æˆ `const { name, scores: {maths, science} } = student;`ã€‚é‚£ä¹ˆ`science`çš„å€¼å°†æ˜¯`undefined`\n\nç‚¹è¿ç®—é…åˆè§£æ„èµ‹å€¼ï¼š\n\n```javascript\nconst person = {\n  name: 'John Doe',\n  country: 'Canada',\n  city: 'shenzhen',\n  org: '123',\n  id: '1',\n}\n\n// Assign default value of 25 to age if undefined\nconst { id = '', ...all } = person\nconsole.log(all) //{ name: 'John Doe',country: 'Canada',city:'shenzhen',org:'123',}\n```\n\nä»æ¡ˆä¾‹ä¸­æˆ‘ä»¬å¯ä»¥å¯ä»¥é€šè¿‡ç‚¹è¿ç®—+å¯¹è±¡è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å»é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¹¶å°†å‰©ä½™å±æ€§èµ‹å€¼ç»™`all`ã€‚\n\n- ä»å¯¹è±¡ä¸­å–å¤šä¸ªå±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚\n- ä»å¯¹è±¡ä¸­æ— æŸåˆ é™¤å±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚\n\nå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ é™¤å¤šä¸ªå±æ€§ï¼š\n\n```\nconst person = {\n    name: 'John Doe',\n    country: 'Canada',\n    city:'shenzhen',\n    org:'123',\n    id:'1'\n};\n\n// Assign default value of 25 to age if undefined\nconst { id=\"\",name=\"\", ...all } = person;\nconsole.log(all) //{country: 'Canada',city:'shenzhen',org:'123'}\n```\n\n# æ•°ç»„è§£æ„\n\n> åœ¨æ•°ç»„è§£æ„ä¸­ï¼Œæ‚¨åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ä½¿ç”¨æ•°ç»„æ–‡å­—ã€‚æ•°ç»„æ–‡å­—ä¸Šçš„æ¯ä¸ªå˜é‡åéƒ½æ˜ å°„åˆ°è§£æ„æ•°ç»„ä¸ŠåŒä¸€ç´¢å¼•å¤„çš„ç›¸åº”é¡¹ç›®ã€‚\n\n```javascript\nconst rgb = [255, 200, 0]\n\n// Array Destructuring\nconst [red, green, blue] = rgb\n\nconsole.log(`R: ${red}, G: ${green}, B: ${blue}`) // R: 255, G: 200, B: 0\n```\n\n#### é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \n\n```javascript\nlet [, , x] = [1, 2, 3, 4]\nconsole.log(x) // 3\n```\n\n#### æ•°ç»„ç‚¹è¿ç®—\n\n```javascript\nlet [x, ...y] = [1, 2, 3, 4]\nconsole.log(x, y) // 1 [2,3,4]\n\nlet [x, y, ...z] = ['a'] // x='a'; y=undefined; z=[]\n\nlet [x, ...[y, z]] = ['a', 'b', 'c']\n// x = 'a'; y = 'b'; z = 'c'\n```\n\n#### å¾ªç¯\n\n```javascript\nfor (let [key, value] of map) {\n  console.log(key + ' is ' + value)\n}\n```\n\n#### äº¤æ¢å€¼\n\n```javascript\n;[x, y] = [y, x]\n```\n\n#### æ•°ç»„åˆ é™¤å…ƒç´ \n\n```javascript\nlet [first, ...rest] = ['a', 'b', 'c']\n// first = 'a'; rest = ['b', 'c']\n```\n\n#### å…‹éš†æ•°ç»„\n\n```javascript\nconst rainbow = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet']\n\n// Cloning with array destructuring and spread operator\nconst [...rainbowClone] = rainbow\n\nconsole.log(rainbow === rainbowClone) // false\nconsole.log(rainbowClone) // ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet']\n```\n\n# å­—ç¬¦ä¸²è§£æ„\n\nå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡\n\n```javascript\nconst [a, b, c, d, e] = 'hello'\na // \"h\"\nb // \"e\"\nc // \"l\"\nd // \"l\"\ne // \"o\"\n```\n\nå±æ€§è§£æ„èµ‹å€¼\n\n```javascript\nlet { length: len } = 'hello'\nlen // 5\n```\n\n**åŸæ–‡åœ°å€**ï¼š [Destructuring](https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/Destructuring.md)\n","source":"_posts/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹è§£æ„èµ‹å€¼.md","raw":"---\ntitle: ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ è§£æ„èµ‹å€¼\ndate:\ntags: [JavaScript, ES6]\ncategories: [å‰ç«¯, JavaScript, ES6, è§£æ„]\n---\n\n# æ¦‚è§ˆ\n\n> è§£æ„åªæ˜¯æ„å‘³ç€å°†å¤æ‚çš„ç»“æ„åˆ†è§£æˆæ›´ç®€å•çš„éƒ¨åˆ†ã€‚åœ¨ JavaScript ä¸­ï¼Œè¿™ç§å¤æ‚çš„ç»“æ„é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªæ•°ç»„ã€‚ä½¿ç”¨è§£æ„è¯­æ³•ï¼Œæ‚¨å¯ä»¥ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–æ›´å°çš„ç‰‡æ®µã€‚è§£æ„è¯­æ³•å¯ç”¨äºå˜é‡å£°æ˜æˆ–å˜é‡èµ‹å€¼ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—è§£æ„è¯­æ³•æ¥å¤„ç†åµŒå¥—ç»“æ„ã€‚\n\n```javascript\n// old\nconst student = {\n  name: 'John Doe',\n  age: 16,\n  scores: {\n    maths: 74,\n    english: 63,\n    science: 85,\n  },\n}\n\nfunction displaySummary(student) {\n  console.log('Hello, ' + student.name)\n  console.log('Your Maths score is ' + (student.scores.maths || 0))\n  console.log('Your English score is ' + (student.scores.english || 0))\n  console.log('Your Science score is ' + (student.scores.science || 0))\n}\n\ndisplaySummary(student)\n\n// Hello, John Doe\n// Your Maths score is 74\n// Your English score is 63\n// Your Science score is 85\n```\n\nç”¨ ES6 ç»“æ„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™\n\n```javascript\n// ES6\nfunction displaySummary({\n  name,\n  scores: { maths = 0, english = 0, science = 0 },\n}) {\n  console.log('Hello, ' + name)\n  console.log('Your Maths score is ' + maths)\n  console.log('Your English score is ' + english)\n  console.log('Your Science score is ' + science)\n}\n```\n\n# å¯¹è±¡è§£æ„\n\nå¯¹è±¡è§£æ„æ„åƒæ˜¯ï¼šç”¨å˜é‡å£°æ˜å±æ€§ï¼Œå˜é‡å€¼å³ä¸ºå±æ€§å€¼ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–å¯¹è±¡ä¸­çš„å±æ€§ã€‚\n\n```javascript\nconst student = {\n  firstname: 'Glad',\n  lastname: 'Chinda',\n  country: 'Nigeria',\n}\n\n// Object Destructuring\nconst { firstname, lastname, country } = student\n\nconsole.log(firstname, lastname, country) // Glad Chinda Nigeria\n```\n\nåˆ©ç”¨è§£æ„ç»™å˜é‡é‡æ–°èµ‹å€¼\n\n```javascript\n// Initialize local variables\nlet country = 'Canada'\nlet firstname = 'John'\nlet lastname = 'Doe'\n\nconst student = {\n  firstname: 'Glad',\n  lastname: 'Chinda',\n  country: 'Nigeria',\n}\n\n// Reassign firstname and lastname using destructuring\n// Enclose in a pair of parentheses, since this is an assignment expression\n;({ firstname, lastname } = student)\n\n// country remains unchanged (Canada)\nconsole.log(firstname, lastname, country) // Glad Chinda Canada\n```\n\nä¸Šé¢ä»£ç ï¼Œç”¨è§£æ„èµ‹å€¼çš„æ–¹å¼é‡æ–°ç»™ firstname, lastname å˜é‡èµ‹å€¼ï¼Œæ‰€ä»¥åé¢æ‰“å°çš„æ—¶å€™ï¼Œfirstname, lastname æ˜¾ç¤ºæ˜¯ student å†…éƒ¨çš„ firstname, lastnameã€‚country å¹¶æœªé‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¹‹å‰å®šä¹‰çš„åå­—ã€‚å¦‚æœå°†ä¸­é—´çš„ä»£ç æ”¹ä¸º`({ firstname, lastname , country} = student);`ã€‚é‚£ä¹ˆ, country çš„å€¼ä¹Ÿä¼šè¢«é‡æ–°èµ‹å€¼ï¼Œä¸º'Nigeria'\n\nä¸‹é¢çœ‹ä¸‹åµŒå¥—å¯¹è±¡çš„ç»“æ„ï¼š\n\n```javascript\nconst student = {\n  name: 'John Doe',\n  age: 16,\n  scores: {\n    maths: 74,\n    english: 63,\n  },\n}\n\n// We define 3 local variables: name, maths, science\nconst {\n  name,\n  scores: { maths, science = 50 },\n} = student\n\nconsole.log(\n  `${name} scored ${maths} in Maths and ${science} in Elementary Science.`\n)\n\n// John Doe scored 74 in Maths and 50 in Elementary Science.\n```\n\nä½¿ç”¨åµŒå¥—å¯¹è±¡è§£æ„æ—¶ï¼Œè¦å°å¿ƒé¿å…ä½¿ç”¨ç©ºçš„åµŒå¥—å¯¹è±¡å­—é¢é‡ã€‚è™½ç„¶å®ƒæ˜¯æœ‰æ•ˆçš„è¯­æ³•ï¼Œä½†å®ƒå®é™…ä¸Šæ²¡æœ‰èµ‹å€¼ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ scienceï¼Œå¦‚æœæ”¹æˆ `const { name, scores: {maths, science} } = student;`ã€‚é‚£ä¹ˆ`science`çš„å€¼å°†æ˜¯`undefined`\n\nç‚¹è¿ç®—é…åˆè§£æ„èµ‹å€¼ï¼š\n\n```javascript\nconst person = {\n  name: 'John Doe',\n  country: 'Canada',\n  city: 'shenzhen',\n  org: '123',\n  id: '1',\n}\n\n// Assign default value of 25 to age if undefined\nconst { id = '', ...all } = person\nconsole.log(all) //{ name: 'John Doe',country: 'Canada',city:'shenzhen',org:'123',}\n```\n\nä»æ¡ˆä¾‹ä¸­æˆ‘ä»¬å¯ä»¥å¯ä»¥é€šè¿‡ç‚¹è¿ç®—+å¯¹è±¡è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å»é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¹¶å°†å‰©ä½™å±æ€§èµ‹å€¼ç»™`all`ã€‚\n\n- ä»å¯¹è±¡ä¸­å–å¤šä¸ªå±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚\n- ä»å¯¹è±¡ä¸­æ— æŸåˆ é™¤å±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚\n\nå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ é™¤å¤šä¸ªå±æ€§ï¼š\n\n```\nconst person = {\n    name: 'John Doe',\n    country: 'Canada',\n    city:'shenzhen',\n    org:'123',\n    id:'1'\n};\n\n// Assign default value of 25 to age if undefined\nconst { id=\"\",name=\"\", ...all } = person;\nconsole.log(all) //{country: 'Canada',city:'shenzhen',org:'123'}\n```\n\n# æ•°ç»„è§£æ„\n\n> åœ¨æ•°ç»„è§£æ„ä¸­ï¼Œæ‚¨åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ä½¿ç”¨æ•°ç»„æ–‡å­—ã€‚æ•°ç»„æ–‡å­—ä¸Šçš„æ¯ä¸ªå˜é‡åéƒ½æ˜ å°„åˆ°è§£æ„æ•°ç»„ä¸ŠåŒä¸€ç´¢å¼•å¤„çš„ç›¸åº”é¡¹ç›®ã€‚\n\n```javascript\nconst rgb = [255, 200, 0]\n\n// Array Destructuring\nconst [red, green, blue] = rgb\n\nconsole.log(`R: ${red}, G: ${green}, B: ${blue}`) // R: 255, G: 200, B: 0\n```\n\n#### é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \n\n```javascript\nlet [, , x] = [1, 2, 3, 4]\nconsole.log(x) // 3\n```\n\n#### æ•°ç»„ç‚¹è¿ç®—\n\n```javascript\nlet [x, ...y] = [1, 2, 3, 4]\nconsole.log(x, y) // 1 [2,3,4]\n\nlet [x, y, ...z] = ['a'] // x='a'; y=undefined; z=[]\n\nlet [x, ...[y, z]] = ['a', 'b', 'c']\n// x = 'a'; y = 'b'; z = 'c'\n```\n\n#### å¾ªç¯\n\n```javascript\nfor (let [key, value] of map) {\n  console.log(key + ' is ' + value)\n}\n```\n\n#### äº¤æ¢å€¼\n\n```javascript\n;[x, y] = [y, x]\n```\n\n#### æ•°ç»„åˆ é™¤å…ƒç´ \n\n```javascript\nlet [first, ...rest] = ['a', 'b', 'c']\n// first = 'a'; rest = ['b', 'c']\n```\n\n#### å…‹éš†æ•°ç»„\n\n```javascript\nconst rainbow = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet']\n\n// Cloning with array destructuring and spread operator\nconst [...rainbowClone] = rainbow\n\nconsole.log(rainbow === rainbowClone) // false\nconsole.log(rainbowClone) // ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet']\n```\n\n# å­—ç¬¦ä¸²è§£æ„\n\nå­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡\n\n```javascript\nconst [a, b, c, d, e] = 'hello'\na // \"h\"\nb // \"e\"\nc // \"l\"\nd // \"l\"\ne // \"o\"\n```\n\nå±æ€§è§£æ„èµ‹å€¼\n\n```javascript\nlet { length: len } = 'hello'\nlen // 5\n```\n\n**åŸæ–‡åœ°å€**ï¼š [Destructuring](https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/Destructuring.md)\n","slug":"JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹è§£æ„èµ‹å€¼","published":1,"updated":"2023-08-14T04:08:06.280Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywl000wq42vc4swga6p","content":"<h1 id=\"æ¦‚è§ˆ\"><a href=\"#æ¦‚è§ˆ\" class=\"headerlink\" title=\"æ¦‚è§ˆ\"></a>æ¦‚è§ˆ</h1><blockquote>\n<p>è§£æ„åªæ˜¯æ„å‘³ç€å°†å¤æ‚çš„ç»“æ„åˆ†è§£æˆæ›´ç®€å•çš„éƒ¨åˆ†ã€‚åœ¨ JavaScript ä¸­ï¼Œè¿™ç§å¤æ‚çš„ç»“æ„é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªæ•°ç»„ã€‚ä½¿ç”¨è§£æ„è¯­æ³•ï¼Œæ‚¨å¯ä»¥ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–æ›´å°çš„ç‰‡æ®µã€‚è§£æ„è¯­æ³•å¯ç”¨äºå˜é‡å£°æ˜æˆ–å˜é‡èµ‹å€¼ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—è§£æ„è¯­æ³•æ¥å¤„ç†åµŒå¥—ç»“æ„ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// old</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">16</span>,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">maths</span>: <span class=\"number\">74</span>,</span><br><span class=\"line\">    <span class=\"attr\">english</span>: <span class=\"number\">63</span>,</span><br><span class=\"line\">    <span class=\"attr\">science</span>: <span class=\"number\">85</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">displaySummary</span>(<span class=\"params\">student</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello, &#x27;</span> + student.<span class=\"property\">name</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Maths score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">maths</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your English score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">english</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Science score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">science</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">displaySummary</span>(student)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Hello, John Doe</span></span><br><span class=\"line\"><span class=\"comment\">// Your Maths score is 74</span></span><br><span class=\"line\"><span class=\"comment\">// Your English score is 63</span></span><br><span class=\"line\"><span class=\"comment\">// Your Science score is 85</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”¨ ES6 ç»“æ„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">displaySummary</span>(<span class=\"params\">&#123;</span></span><br><span class=\"line\"><span class=\"params\">  name,</span></span><br><span class=\"line\"><span class=\"params\">  scores: &#123; maths = <span class=\"number\">0</span>, english = <span class=\"number\">0</span>, science = <span class=\"number\">0</span> &#125;,</span></span><br><span class=\"line\"><span class=\"params\">&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello, &#x27;</span> + name)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Maths score is &#x27;</span> + maths)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your English score is &#x27;</span> + english)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Science score is &#x27;</span> + science)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å¯¹è±¡è§£æ„\"><a href=\"#å¯¹è±¡è§£æ„\" class=\"headerlink\" title=\"å¯¹è±¡è§£æ„\"></a>å¯¹è±¡è§£æ„</h1><p>å¯¹è±¡è§£æ„æ„åƒæ˜¯ï¼šç”¨å˜é‡å£°æ˜å±æ€§ï¼Œå˜é‡å€¼å³ä¸ºå±æ€§å€¼ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–å¯¹è±¡ä¸­çš„å±æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">firstname</span>: <span class=\"string\">&#x27;Glad&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">lastname</span>: <span class=\"string\">&#x27;Chinda&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Nigeria&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Object Destructuring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; firstname, lastname, country &#125; = student</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(firstname, lastname, country) <span class=\"comment\">// Glad Chinda Nigeria</span></span><br></pre></td></tr></table></figure>\n\n<p>åˆ©ç”¨è§£æ„ç»™å˜é‡é‡æ–°èµ‹å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Initialize local variables</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> country = <span class=\"string\">&#x27;Canada&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> firstname = <span class=\"string\">&#x27;John&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> lastname = <span class=\"string\">&#x27;Doe&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">firstname</span>: <span class=\"string\">&#x27;Glad&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">lastname</span>: <span class=\"string\">&#x27;Chinda&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Nigeria&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Reassign firstname and lastname using destructuring</span></span><br><span class=\"line\"><span class=\"comment\">// Enclose in a pair of parentheses, since this is an assignment expression</span></span><br><span class=\"line\">;(&#123; firstname, lastname &#125; = student)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// country remains unchanged (Canada)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(firstname, lastname, country) <span class=\"comment\">// Glad Chinda Canada</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ï¼Œç”¨è§£æ„èµ‹å€¼çš„æ–¹å¼é‡æ–°ç»™ firstname, lastname å˜é‡èµ‹å€¼ï¼Œæ‰€ä»¥åé¢æ‰“å°çš„æ—¶å€™ï¼Œfirstname, lastname æ˜¾ç¤ºæ˜¯ student å†…éƒ¨çš„ firstname, lastnameã€‚country å¹¶æœªé‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¹‹å‰å®šä¹‰çš„åå­—ã€‚å¦‚æœå°†ä¸­é—´çš„ä»£ç æ”¹ä¸º<code>(&#123; firstname, lastname , country&#125; = student);</code>ã€‚é‚£ä¹ˆ, country çš„å€¼ä¹Ÿä¼šè¢«é‡æ–°èµ‹å€¼ï¼Œä¸ºâ€™Nigeriaâ€™</p>\n<p>ä¸‹é¢çœ‹ä¸‹åµŒå¥—å¯¹è±¡çš„ç»“æ„ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">16</span>,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">maths</span>: <span class=\"number\">74</span>,</span><br><span class=\"line\">    <span class=\"attr\">english</span>: <span class=\"number\">63</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// We define 3 local variables: name, maths, science</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123; maths, science = <span class=\"number\">50</span> &#125;,</span><br><span class=\"line\">&#125; = student</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span><br><span class=\"line\">  <span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span> scored <span class=\"subst\">$&#123;maths&#125;</span> in Maths and <span class=\"subst\">$&#123;science&#125;</span> in Elementary Science.`</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// John Doe scored 74 in Maths and 50 in Elementary Science.</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨åµŒå¥—å¯¹è±¡è§£æ„æ—¶ï¼Œè¦å°å¿ƒé¿å…ä½¿ç”¨ç©ºçš„åµŒå¥—å¯¹è±¡å­—é¢é‡ã€‚è™½ç„¶å®ƒæ˜¯æœ‰æ•ˆçš„è¯­æ³•ï¼Œä½†å®ƒå®é™…ä¸Šæ²¡æœ‰èµ‹å€¼ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ scienceï¼Œå¦‚æœæ”¹æˆ <code>const &#123; name, scores: &#123;maths, science&#125; &#125; = student;</code>ã€‚é‚£ä¹ˆ<code>science</code>çš„å€¼å°†æ˜¯<code>undefined</code></p>\n<p>ç‚¹è¿ç®—é…åˆè§£æ„èµ‹å€¼ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Canada&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">city</span>: <span class=\"string\">&#x27;shenzhen&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">org</span>: <span class=\"string\">&#x27;123&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">id</span>: <span class=\"string\">&#x27;1&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Assign default value of 25 to age if undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; id = <span class=\"string\">&#x27;&#x27;</span>, ...all &#125; = person</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(all) <span class=\"comment\">//&#123; name: &#x27;John Doe&#x27;,country: &#x27;Canada&#x27;,city:&#x27;shenzhen&#x27;,org:&#x27;123&#x27;,&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä»æ¡ˆä¾‹ä¸­æˆ‘ä»¬å¯ä»¥å¯ä»¥é€šè¿‡ç‚¹è¿ç®—+å¯¹è±¡è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å»é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¹¶å°†å‰©ä½™å±æ€§èµ‹å€¼ç»™<code>all</code>ã€‚</p>\n<ul>\n<li>ä»å¯¹è±¡ä¸­å–å¤šä¸ªå±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚</li>\n<li>ä»å¯¹è±¡ä¸­æ— æŸåˆ é™¤å±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚</li>\n</ul>\n<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ é™¤å¤šä¸ªå±æ€§ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const person = &#123;</span><br><span class=\"line\">    name: &#x27;John Doe&#x27;,</span><br><span class=\"line\">    country: &#x27;Canada&#x27;,</span><br><span class=\"line\">    city:&#x27;shenzhen&#x27;,</span><br><span class=\"line\">    org:&#x27;123&#x27;,</span><br><span class=\"line\">    id:&#x27;1&#x27;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// Assign default value of 25 to age if undefined</span><br><span class=\"line\">const &#123; id=&quot;&quot;,name=&quot;&quot;, ...all &#125; = person;</span><br><span class=\"line\">console.log(all) //&#123;country: &#x27;Canada&#x27;,city:&#x27;shenzhen&#x27;,org:&#x27;123&#x27;&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"æ•°ç»„è§£æ„\"><a href=\"#æ•°ç»„è§£æ„\" class=\"headerlink\" title=\"æ•°ç»„è§£æ„\"></a>æ•°ç»„è§£æ„</h1><blockquote>\n<p>åœ¨æ•°ç»„è§£æ„ä¸­ï¼Œæ‚¨åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ä½¿ç”¨æ•°ç»„æ–‡å­—ã€‚æ•°ç»„æ–‡å­—ä¸Šçš„æ¯ä¸ªå˜é‡åéƒ½æ˜ å°„åˆ°è§£æ„æ•°ç»„ä¸ŠåŒä¸€ç´¢å¼•å¤„çš„ç›¸åº”é¡¹ç›®ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rgb = [<span class=\"number\">255</span>, <span class=\"number\">200</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Array Destructuring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [red, green, blue] = rgb</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`R: <span class=\"subst\">$&#123;red&#125;</span>, G: <span class=\"subst\">$&#123;green&#125;</span>, B: <span class=\"subst\">$&#123;blue&#125;</span>`</span>) <span class=\"comment\">// R: 255, G: 200, B: 0</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \"><a href=\"#é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \" class=\"headerlink\" title=\"é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \"></a>é€—å·å¯ä»¥è·³è¿‡å…ƒç´ </h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [, , x] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x) <span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ•°ç»„ç‚¹è¿ç®—\"><a href=\"#æ•°ç»„ç‚¹è¿ç®—\" class=\"headerlink\" title=\"æ•°ç»„ç‚¹è¿ç®—\"></a>æ•°ç»„ç‚¹è¿ç®—</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [x, ...y] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x, y) <span class=\"comment\">// 1 [2,3,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> [x, y, ...z] = [<span class=\"string\">&#x27;a&#x27;</span>] <span class=\"comment\">// x=&#x27;a&#x27;; y=undefined; z=[]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> [x, ...[y, z]] = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\">// x = &#x27;a&#x27;; y = &#x27;b&#x27;; z = &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¾ªç¯\"><a href=\"#å¾ªç¯\" class=\"headerlink\" title=\"å¾ªç¯\"></a>å¾ªç¯</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> map) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key + <span class=\"string\">&#x27; is &#x27;</span> + value)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"äº¤æ¢å€¼\"><a href=\"#äº¤æ¢å€¼\" class=\"headerlink\" title=\"äº¤æ¢å€¼\"></a>äº¤æ¢å€¼</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[x, y] = [y, x]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ•°ç»„åˆ é™¤å…ƒç´ \"><a href=\"#æ•°ç»„åˆ é™¤å…ƒç´ \" class=\"headerlink\" title=\"æ•°ç»„åˆ é™¤å…ƒç´ \"></a>æ•°ç»„åˆ é™¤å…ƒç´ </h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [first, ...rest] = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\">// first = &#x27;a&#x27;; rest = [&#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…‹éš†æ•°ç»„\"><a href=\"#å…‹éš†æ•°ç»„\" class=\"headerlink\" title=\"å…‹éš†æ•°ç»„\"></a>å…‹éš†æ•°ç»„</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rainbow = [<span class=\"string\">&#x27;red&#x27;</span>, <span class=\"string\">&#x27;orange&#x27;</span>, <span class=\"string\">&#x27;yellow&#x27;</span>, <span class=\"string\">&#x27;green&#x27;</span>, <span class=\"string\">&#x27;blue&#x27;</span>, <span class=\"string\">&#x27;indigo&#x27;</span>, <span class=\"string\">&#x27;violet&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Cloning with array destructuring and spread operator</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [...rainbowClone] = rainbow</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rainbow === rainbowClone) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rainbowClone) <span class=\"comment\">// [&#x27;red&#x27;, &#x27;orange&#x27;, &#x27;yellow&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;indigo&#x27;, &#x27;violet&#x27;]</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å­—ç¬¦ä¸²è§£æ„\"><a href=\"#å­—ç¬¦ä¸²è§£æ„\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²è§£æ„\"></a>å­—ç¬¦ä¸²è§£æ„</h1><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> [a, b, c, d, e] = <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">a <span class=\"comment\">// &quot;h&quot;</span></span><br><span class=\"line\">b <span class=\"comment\">// &quot;e&quot;</span></span><br><span class=\"line\">c <span class=\"comment\">// &quot;l&quot;</span></span><br><span class=\"line\">d <span class=\"comment\">// &quot;l&quot;</span></span><br><span class=\"line\">e <span class=\"comment\">// &quot;o&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>å±æ€§è§£æ„èµ‹å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123; <span class=\"attr\">length</span>: len &#125; = <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">len <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>åŸæ–‡åœ°å€</strong>ï¼š <a href=\"https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/Destructuring.md\">Destructuring</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"æ¦‚è§ˆ\"><a href=\"#æ¦‚è§ˆ\" class=\"headerlink\" title=\"æ¦‚è§ˆ\"></a>æ¦‚è§ˆ</h1><blockquote>\n<p>è§£æ„åªæ˜¯æ„å‘³ç€å°†å¤æ‚çš„ç»“æ„åˆ†è§£æˆæ›´ç®€å•çš„éƒ¨åˆ†ã€‚åœ¨ JavaScript ä¸­ï¼Œè¿™ç§å¤æ‚çš„ç»“æ„é€šå¸¸æ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–ä¸€ä¸ªæ•°ç»„ã€‚ä½¿ç”¨è§£æ„è¯­æ³•ï¼Œæ‚¨å¯ä»¥ä»æ•°ç»„å’Œå¯¹è±¡ä¸­æå–æ›´å°çš„ç‰‡æ®µã€‚è§£æ„è¯­æ³•å¯ç”¨äºå˜é‡å£°æ˜æˆ–å˜é‡èµ‹å€¼ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨åµŒå¥—è§£æ„è¯­æ³•æ¥å¤„ç†åµŒå¥—ç»“æ„ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// old</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">16</span>,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">maths</span>: <span class=\"number\">74</span>,</span><br><span class=\"line\">    <span class=\"attr\">english</span>: <span class=\"number\">63</span>,</span><br><span class=\"line\">    <span class=\"attr\">science</span>: <span class=\"number\">85</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">displaySummary</span>(<span class=\"params\">student</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello, &#x27;</span> + student.<span class=\"property\">name</span>)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Maths score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">maths</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your English score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">english</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Science score is &#x27;</span> + (student.<span class=\"property\">scores</span>.<span class=\"property\">science</span> || <span class=\"number\">0</span>))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">displaySummary</span>(student)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Hello, John Doe</span></span><br><span class=\"line\"><span class=\"comment\">// Your Maths score is 74</span></span><br><span class=\"line\"><span class=\"comment\">// Your English score is 63</span></span><br><span class=\"line\"><span class=\"comment\">// Your Science score is 85</span></span><br></pre></td></tr></table></figure>\n\n<p>ç”¨ ES6 ç»“æ„èµ‹å€¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// ES6</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">displaySummary</span>(<span class=\"params\">&#123;</span></span><br><span class=\"line\"><span class=\"params\">  name,</span></span><br><span class=\"line\"><span class=\"params\">  scores: &#123; maths = <span class=\"number\">0</span>, english = <span class=\"number\">0</span>, science = <span class=\"number\">0</span> &#125;,</span></span><br><span class=\"line\"><span class=\"params\">&#125;</span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello, &#x27;</span> + name)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Maths score is &#x27;</span> + maths)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your English score is &#x27;</span> + english)</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Your Science score is &#x27;</span> + science)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å¯¹è±¡è§£æ„\"><a href=\"#å¯¹è±¡è§£æ„\" class=\"headerlink\" title=\"å¯¹è±¡è§£æ„\"></a>å¯¹è±¡è§£æ„</h1><p>å¯¹è±¡è§£æ„æ„åƒæ˜¯ï¼šç”¨å˜é‡å£°æ˜å±æ€§ï¼Œå˜é‡å€¼å³ä¸ºå±æ€§å€¼ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯æå–å¯¹è±¡ä¸­çš„å±æ€§ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">firstname</span>: <span class=\"string\">&#x27;Glad&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">lastname</span>: <span class=\"string\">&#x27;Chinda&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Nigeria&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Object Destructuring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; firstname, lastname, country &#125; = student</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(firstname, lastname, country) <span class=\"comment\">// Glad Chinda Nigeria</span></span><br></pre></td></tr></table></figure>\n\n<p>åˆ©ç”¨è§£æ„ç»™å˜é‡é‡æ–°èµ‹å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Initialize local variables</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> country = <span class=\"string\">&#x27;Canada&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> firstname = <span class=\"string\">&#x27;John&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> lastname = <span class=\"string\">&#x27;Doe&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">firstname</span>: <span class=\"string\">&#x27;Glad&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">lastname</span>: <span class=\"string\">&#x27;Chinda&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Nigeria&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Reassign firstname and lastname using destructuring</span></span><br><span class=\"line\"><span class=\"comment\">// Enclose in a pair of parentheses, since this is an assignment expression</span></span><br><span class=\"line\">;(&#123; firstname, lastname &#125; = student)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// country remains unchanged (Canada)</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(firstname, lastname, country) <span class=\"comment\">// Glad Chinda Canada</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢ä»£ç ï¼Œç”¨è§£æ„èµ‹å€¼çš„æ–¹å¼é‡æ–°ç»™ firstname, lastname å˜é‡èµ‹å€¼ï¼Œæ‰€ä»¥åé¢æ‰“å°çš„æ—¶å€™ï¼Œfirstname, lastname æ˜¾ç¤ºæ˜¯ student å†…éƒ¨çš„ firstname, lastnameã€‚country å¹¶æœªé‡æ–°èµ‹å€¼ï¼Œæ‰€ä»¥è¿˜æ˜¯ä¹‹å‰å®šä¹‰çš„åå­—ã€‚å¦‚æœå°†ä¸­é—´çš„ä»£ç æ”¹ä¸º<code>(&#123; firstname, lastname , country&#125; = student);</code>ã€‚é‚£ä¹ˆ, country çš„å€¼ä¹Ÿä¼šè¢«é‡æ–°èµ‹å€¼ï¼Œä¸ºâ€™Nigeriaâ€™</p>\n<p>ä¸‹é¢çœ‹ä¸‹åµŒå¥—å¯¹è±¡çš„ç»“æ„ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> student = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">age</span>: <span class=\"number\">16</span>,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">maths</span>: <span class=\"number\">74</span>,</span><br><span class=\"line\">    <span class=\"attr\">english</span>: <span class=\"number\">63</span>,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// We define 3 local variables: name, maths, science</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123;</span><br><span class=\"line\">  name,</span><br><span class=\"line\">  <span class=\"attr\">scores</span>: &#123; maths, science = <span class=\"number\">50</span> &#125;,</span><br><span class=\"line\">&#125; = student</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(</span><br><span class=\"line\">  <span class=\"string\">`<span class=\"subst\">$&#123;name&#125;</span> scored <span class=\"subst\">$&#123;maths&#125;</span> in Maths and <span class=\"subst\">$&#123;science&#125;</span> in Elementary Science.`</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// John Doe scored 74 in Maths and 50 in Elementary Science.</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨åµŒå¥—å¯¹è±¡è§£æ„æ—¶ï¼Œè¦å°å¿ƒé¿å…ä½¿ç”¨ç©ºçš„åµŒå¥—å¯¹è±¡å­—é¢é‡ã€‚è™½ç„¶å®ƒæ˜¯æœ‰æ•ˆçš„è¯­æ³•ï¼Œä½†å®ƒå®é™…ä¸Šæ²¡æœ‰èµ‹å€¼ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„ scienceï¼Œå¦‚æœæ”¹æˆ <code>const &#123; name, scores: &#123;maths, science&#125; &#125; = student;</code>ã€‚é‚£ä¹ˆ<code>science</code>çš„å€¼å°†æ˜¯<code>undefined</code></p>\n<p>ç‚¹è¿ç®—é…åˆè§£æ„èµ‹å€¼ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> person = &#123;</span><br><span class=\"line\">  <span class=\"attr\">name</span>: <span class=\"string\">&#x27;John Doe&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">country</span>: <span class=\"string\">&#x27;Canada&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">city</span>: <span class=\"string\">&#x27;shenzhen&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">org</span>: <span class=\"string\">&#x27;123&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">id</span>: <span class=\"string\">&#x27;1&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Assign default value of 25 to age if undefined</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; id = <span class=\"string\">&#x27;&#x27;</span>, ...all &#125; = person</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(all) <span class=\"comment\">//&#123; name: &#x27;John Doe&#x27;,country: &#x27;Canada&#x27;,city:&#x27;shenzhen&#x27;,org:&#x27;123&#x27;,&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä»æ¡ˆä¾‹ä¸­æˆ‘ä»¬å¯ä»¥å¯ä»¥é€šè¿‡ç‚¹è¿ç®—+å¯¹è±¡è§£æ„èµ‹å€¼ï¼Œå¯ä»¥å»é™¤å¯¹è±¡çš„å±æ€§ï¼Œå¹¶å°†å‰©ä½™å±æ€§èµ‹å€¼ç»™<code>all</code>ã€‚</p>\n<ul>\n<li>ä»å¯¹è±¡ä¸­å–å¤šä¸ªå±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚</li>\n<li>ä»å¯¹è±¡ä¸­æ— æŸåˆ é™¤å±æ€§ï¼Œæœ‰äº†æ–°çš„å¤„ç†ã€‚</li>\n</ul>\n<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ é™¤å¤šä¸ªå±æ€§ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const person = &#123;</span><br><span class=\"line\">    name: &#x27;John Doe&#x27;,</span><br><span class=\"line\">    country: &#x27;Canada&#x27;,</span><br><span class=\"line\">    city:&#x27;shenzhen&#x27;,</span><br><span class=\"line\">    org:&#x27;123&#x27;,</span><br><span class=\"line\">    id:&#x27;1&#x27;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">// Assign default value of 25 to age if undefined</span><br><span class=\"line\">const &#123; id=&quot;&quot;,name=&quot;&quot;, ...all &#125; = person;</span><br><span class=\"line\">console.log(all) //&#123;country: &#x27;Canada&#x27;,city:&#x27;shenzhen&#x27;,org:&#x27;123&#x27;&#125;</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"æ•°ç»„è§£æ„\"><a href=\"#æ•°ç»„è§£æ„\" class=\"headerlink\" title=\"æ•°ç»„è§£æ„\"></a>æ•°ç»„è§£æ„</h1><blockquote>\n<p>åœ¨æ•°ç»„è§£æ„ä¸­ï¼Œæ‚¨åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ä½¿ç”¨æ•°ç»„æ–‡å­—ã€‚æ•°ç»„æ–‡å­—ä¸Šçš„æ¯ä¸ªå˜é‡åéƒ½æ˜ å°„åˆ°è§£æ„æ•°ç»„ä¸ŠåŒä¸€ç´¢å¼•å¤„çš„ç›¸åº”é¡¹ç›®ã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rgb = [<span class=\"number\">255</span>, <span class=\"number\">200</span>, <span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Array Destructuring</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [red, green, blue] = rgb</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">`R: <span class=\"subst\">$&#123;red&#125;</span>, G: <span class=\"subst\">$&#123;green&#125;</span>, B: <span class=\"subst\">$&#123;blue&#125;</span>`</span>) <span class=\"comment\">// R: 255, G: 200, B: 0</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \"><a href=\"#é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \" class=\"headerlink\" title=\"é€—å·å¯ä»¥è·³è¿‡å…ƒç´ \"></a>é€—å·å¯ä»¥è·³è¿‡å…ƒç´ </h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [, , x] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x) <span class=\"comment\">// 3</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ•°ç»„ç‚¹è¿ç®—\"><a href=\"#æ•°ç»„ç‚¹è¿ç®—\" class=\"headerlink\" title=\"æ•°ç»„ç‚¹è¿ç®—\"></a>æ•°ç»„ç‚¹è¿ç®—</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [x, ...y] = [<span class=\"number\">1</span>, <span class=\"number\">2</span>, <span class=\"number\">3</span>, <span class=\"number\">4</span>]</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x, y) <span class=\"comment\">// 1 [2,3,4]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> [x, y, ...z] = [<span class=\"string\">&#x27;a&#x27;</span>] <span class=\"comment\">// x=&#x27;a&#x27;; y=undefined; z=[]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> [x, ...[y, z]] = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\">// x = &#x27;a&#x27;; y = &#x27;b&#x27;; z = &#x27;c&#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å¾ªç¯\"><a href=\"#å¾ªç¯\" class=\"headerlink\" title=\"å¾ªç¯\"></a>å¾ªç¯</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> [key, value] <span class=\"keyword\">of</span> map) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(key + <span class=\"string\">&#x27; is &#x27;</span> + value)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"äº¤æ¢å€¼\"><a href=\"#äº¤æ¢å€¼\" class=\"headerlink\" title=\"äº¤æ¢å€¼\"></a>äº¤æ¢å€¼</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">;[x, y] = [y, x]</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"æ•°ç»„åˆ é™¤å…ƒç´ \"><a href=\"#æ•°ç»„åˆ é™¤å…ƒç´ \" class=\"headerlink\" title=\"æ•°ç»„åˆ é™¤å…ƒç´ \"></a>æ•°ç»„åˆ é™¤å…ƒç´ </h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> [first, ...rest] = [<span class=\"string\">&#x27;a&#x27;</span>, <span class=\"string\">&#x27;b&#x27;</span>, <span class=\"string\">&#x27;c&#x27;</span>]</span><br><span class=\"line\"><span class=\"comment\">// first = &#x27;a&#x27;; rest = [&#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"å…‹éš†æ•°ç»„\"><a href=\"#å…‹éš†æ•°ç»„\" class=\"headerlink\" title=\"å…‹éš†æ•°ç»„\"></a>å…‹éš†æ•°ç»„</h4><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> rainbow = [<span class=\"string\">&#x27;red&#x27;</span>, <span class=\"string\">&#x27;orange&#x27;</span>, <span class=\"string\">&#x27;yellow&#x27;</span>, <span class=\"string\">&#x27;green&#x27;</span>, <span class=\"string\">&#x27;blue&#x27;</span>, <span class=\"string\">&#x27;indigo&#x27;</span>, <span class=\"string\">&#x27;violet&#x27;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Cloning with array destructuring and spread operator</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> [...rainbowClone] = rainbow</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rainbow === rainbowClone) <span class=\"comment\">// false</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(rainbowClone) <span class=\"comment\">// [&#x27;red&#x27;, &#x27;orange&#x27;, &#x27;yellow&#x27;, &#x27;green&#x27;, &#x27;blue&#x27;, &#x27;indigo&#x27;, &#x27;violet&#x27;]</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å­—ç¬¦ä¸²è§£æ„\"><a href=\"#å­—ç¬¦ä¸²è§£æ„\" class=\"headerlink\" title=\"å­—ç¬¦ä¸²è§£æ„\"></a>å­—ç¬¦ä¸²è§£æ„</h1><p>å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥è§£æ„èµ‹å€¼ã€‚è¿™æ˜¯å› ä¸ºæ­¤æ—¶ï¼Œå­—ç¬¦ä¸²è¢«è½¬æ¢æˆäº†ä¸€ä¸ªç±»ä¼¼æ•°ç»„çš„å¯¹è±¡</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> [a, b, c, d, e] = <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">a <span class=\"comment\">// &quot;h&quot;</span></span><br><span class=\"line\">b <span class=\"comment\">// &quot;e&quot;</span></span><br><span class=\"line\">c <span class=\"comment\">// &quot;l&quot;</span></span><br><span class=\"line\">d <span class=\"comment\">// &quot;l&quot;</span></span><br><span class=\"line\">e <span class=\"comment\">// &quot;o&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>å±æ€§è§£æ„èµ‹å€¼</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> &#123; <span class=\"attr\">length</span>: len &#125; = <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">len <span class=\"comment\">// 5</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>åŸæ–‡åœ°å€</strong>ï¼š <a href=\"https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/Destructuring.md\">Destructuring</a></p>\n"},{"title":"ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡","date":"2023-08-13T06:16:23.737Z","_content":"\n# æ¦‚è§ˆ\n\nES6 æ–°å¢äº†ä¸¤ä¸ªå®šä¹‰å˜é‡çš„å…³é”®å­—ï¼š`let` ä¸ `const`ï¼Œå®ƒä»¬å‡ ä¹å–ä»£äº† ES5 å®šä¹‰å˜é‡çš„æ–¹å¼ï¼š`var`ã€‚`let`æ˜¯æ–°çš„`var`,`const`ç®€å•çš„å¸¸é‡å£°æ˜ã€‚\n\n```javascript\nfunction f() {\n  {\n    let x\n    {\n      // okay, block scoped name\n      const x = 'sneaky'\n      // error, const\n      x = 'foo'\n    }\n    // error, already declared in block\n    let x = 'inner'\n  }\n}\n```\n\nES6 ä¹‹å‰å˜é‡ä¹‹å‰å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š\n\n- JS æ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚åœ¨ JS å‡½æ•°ä¸­çš„ var å£°æ˜ï¼Œå…¶ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½“çš„å…¨éƒ¨ã€‚\n- å¾ªç¯å†…å˜é‡è¿‡åº¦å…±äº«\n\n# å—çº§ä½œç”¨åŸŸ\n\n`let`,`const`åˆ›å»ºçš„å˜é‡éƒ½æ˜¯**å—çº§ä½œç”¨åŸŸ**ï¼šå®ƒä»¬åªå­˜åœ¨åŒ…å›´å®ƒä»¬çš„æœ€æ·±ä»£ç å—ä¸­ã€‚\n\nä½œç”¨åŸŸæœ‰å“ªäº›ï¼Ÿ\n\n- å—çº§ä½œç”¨åŸŸ\n- å‡½æ•°ä½œç”¨åŸŸ\n- å…¨å±€ä½œç”¨åŸŸ\n\n```javascript\nfunction func() {\n  if (true) {\n    let tmp = 123\n    // const tmp = 123;\n  }\n  console.log(tmp) // ReferenceError: tmp is not defined\n}\nconsole.log(tmp) // ReferenceError: tmp is not defined\n```\n\nç›¸æ¯”ä¹‹ä¸‹ï¼Œ`var`å£°æ˜çš„æ˜¯å‡½æ•°åŸŸã€‚\n\n```javascript\nfunction func() {\n  if (true) {\n    var tmp = 123\n  }\n  console.log(tmp) // 123\n}\nfunc()\nconsole.log(tmp) // tmp is not defined\n```\n\nä¸‹é¢çš„å¼å­æ›´éš¾çœ‹å‡ºå‡½æ•°ä½œç”¨åŸŸä¸å—çº§ä½œç”¨åŸŸçš„åŒºåˆ«\n\n```javascript\nfunction myFunc() {\n  var number1 = 15 // å‡½æ•°ä½œç”¨åŸŸ\n  if (true) {\n    let number1 = 20 // å—çº§ä½œç”¨åŸŸ\n    console.log(number1) // 20\n  }\n  console.log(number1) // 15\n}\nmyFunc()\nconsole.log(number1) // number1 is not defined\n```\n\nè€Œå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥ä» JavaScript ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®è®¿é—®ã€‚\n\n```javascript\nvar number1 = 15\nconsole.log(window.number1, globalThis.number1, window === globalThis) // 15 15 true\n```\n\n**é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­å®šæ—¶å™¨é—­åŒ…**\n\n```javascript\nfor (var i = 0; i < 5; i++) {\n  setTimeout(() => {\n    console.log(i) //5, 5, 5, 5, 5\n  }, 0)\n}\nconsole.log(i) //5 iè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å¤–éƒ¨å‡½æ•°\n\n//å°†varæ”¹æˆletä¹‹å\nfor (let i = 0; i < 5; i++) {\n  setTimeout(() => {\n    console.log(i) // 0,1,2,3,4\n  }, 0)\n}\nconsole.log(i) //i is not defined iæ— æ³•æ±¡æŸ“å¤–éƒ¨å‡½æ•°\n```\n\nåœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ var å£°æ˜çš„å¾ªç¯å˜é‡ï¼Œä¼šè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å½“å‰çš„å‡½æ•°ã€‚\n\n# TDZ\n\n> `let`ã€`const`æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰\n\n`let`,`const`å£°æ˜çš„å˜é‡æ‹¥æœ‰**æš‚æ—¶æ€§æ­»åŒº**ï¼šå½“è¿›å…¥å®ƒçš„ä½œç”¨åŸŸï¼Œå®ƒä¸èƒ½è¢«è®¿é—®ï¼ˆè·å–æˆ–è®¾ç½®ï¼‰ç›´åˆ°æ‰§è¡Œåˆ°è¾¾å£°æ˜ã€‚  \nç®€å•æè¿°ï¼š\n\n```javascript\nif (true) {\n  //è¿™å—åŒºåŸŸæ˜¯TDZ\n  console.log(a) // Uncaught ReferenceError: Cannot access 'a' before initialization\n  let a = 1\n  // const a = 1\n}\n```\n\n```javascript\nif (true) {\n  // enter new scope, TDZ starts\n  // Uninitialized binding for `tmp` is created\n\n  tmp = 'abc' // ReferenceError\n  console.log(tmp) // ReferenceError\n\n  let tmp // TDZ ends, `tmp` is initialized with `undefined`\n  console.log(tmp) // undefined\n\n  tmp = 123\n  console.log(tmp) // 123\n}\n```\n\nä¸‹é¢ç¤ºä¾‹å°†æ¼”ç¤ºæ­»åŒºï¼ˆdead zoneï¼‰æ˜¯çœŸæ­£çŸ­æš‚æ—¶é—´çš„ï¼ˆåŸºäºæ—¶é—´ï¼‰å’Œä¸å—ç©ºé—´æ¡ä»¶é™åˆ¶ï¼ˆåŸºäºä½ç½®ï¼‰\n\n```javascript\nif (true) {\n  // enter new scope, TDZ starts\n  const func = function () {\n    console.log(myVar) // OK!\n  }\n\n  // Here we are within the TDZ and\n  // accessing `myVar` would cause a `ReferenceError`\n\n  let myVar = 3 // TDZ ends\n  func() // called outside TDZ\n}\n```\n\nä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° let myVar å˜é‡è¢«å®šä¹‰äº†ï¼Œä½†æ˜¯ä¸åƒ var ä¸€æ ·è¢«æå‡ã€‚é‚£å®ƒåˆå§‹åŒ–äº†å—ï¼Ÿæ²¡æœ‰ï¼Œè¿™å°±æ˜¯ TDZ åœ¨è¿›å…¥å—çº§ä½œç”¨åŸŸå°±å­˜åœ¨çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œå½“ let myVar å°†è¢«å®šä¹‰æ—¶ï¼Œå®ƒå°†è¿›å…¥ TDZï¼Œå¹¶åœ¨æ‚¨å£°æ˜å’Œåˆå§‹åŒ–å®ƒæ—¶ç»“æŸã€‚æ‰€ä»¥åœ¨èŒƒå›´ä¸­ï¼Œå®ƒå°†é¦–å…ˆåœ¨ TDZ ä¸­ï¼Œä½†æ˜¯ä¸€æ—¦åˆ°è¾¾å£°æ˜éƒ¨åˆ†ï¼ŒTDZ å°±ä¼šç»“æŸã€‚\n\n#### ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?\n\n- å®ƒå¸®åŠ©æˆ‘ä»¬å‘ç°é”™è¯¯ã€‚\n- åœ¨å£°æ˜å˜é‡ä¹‹å‰å°è¯•è®¿é—®å®ƒæ˜¯é”™è¯¯çš„æ–¹å¼ã€‚\n\n> ä¸ºé¿å… TDZï¼Œè¯·å§‹ç»ˆç¡®ä¿åœ¨ä»»ä½•èŒƒå›´çš„é¡¶éƒ¨å®šä¹‰ let å’Œ constã€‚\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†è§£æ¥ç®€å•åœ°ç†è§£è¿™ä¸ªæœ¯è¯­ã€‚æ—¶é—´æ„å‘³ç€æš‚æ—¶çš„ä¸œè¥¿ï¼Œæ­»äº¡æ„å‘³ç€æ²¡æœ‰ç”Ÿå‘½çš„çŠ¶æ€ï¼Œç¼–ç¨‹ä¸–ç•Œä¸­ä¸å†…å­˜ç›¸å…³çš„åŒºåŸŸã€‚æ‰€ä»¥å˜é‡æš‚æ—¶ä¸å¯ç”¨ï¼ˆæˆ–æ­»äº¡ï¼‰çš„æ—¶åŒºåœ¨ TDZ ä¸­ã€‚\n\næˆ–è€…ç®€å•åœ°è¯´ï¼Œè¿›å…¥å—çº§ä½œç”¨åŸŸä¸å…¶å˜é‡åˆ›å»ºå£°æ˜ä¹‹é—´çš„æ—¶é—´è·¨åº¦ç§°ä¸ºæ—¶é—´æ­»åŒºã€‚\n\n# å˜é‡æå‡\n\n> `var`å˜é‡æå‡\n\nJavaScript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è¯´çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä½¿ç”¨ var å£°æ˜çš„å˜é‡ï¼Œæ— è®ºæ˜¯åœ¨ä»£ç çš„å“ªä¸ªåœ°æ–¹å£°æ˜çš„ï¼Œéƒ½ä¼šæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€é¡¶éƒ¨ï¼Œè¿™ç§è¡Œä¸ºå«åš**å˜é‡æå‡ï¼ˆHoistingï¼‰**\n\nä¸‹é¢ä»£ç ï¼Œæ¼”ç¤ºäº†å‡½æ•°çš„å˜é‡æå‡ï¼š\n\n```javascript\n{\n  // Enter a new scope\n\n  console.log(foo()) // hello, due to hoisting\n  function foo() {\n    return 'hello'\n  }\n}\n```\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œéƒ½ä¼šè¢«æå‡åˆ°å‡½æ•°å¼€å¤´ï¼Œè€Œåœ¨å…¨å±€çš„å£°æ˜ï¼Œå°±ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚\n\n```javascript\nfunction test() {\n  console.log('1: ', a) //undefined\n  if (false) {\n    var a = 1\n  }\n  console.log('3: ', a) //undefined\n}\n\ntest()\n```\n\nå®é™…æ‰§è¡Œæ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸­çš„å˜é‡ a ä¼šæå‡åˆ°å‡½æ•°é¡¶éƒ¨å£°æ˜ï¼Œå³ä½¿ if è¯­å¥çš„æ¡ä»¶æ˜¯ falseï¼Œä¹Ÿä¸€æ ·ä¸å½±å“ a çš„æå‡ã€‚\n\n```javascript\nfunction test() {\n  var a\n  //aå£°æ˜æ²¡æœ‰èµ‹å€¼\n  console.log('1: ', a) //undefined\n  if (false) {\n    a = 1\n  }\n  //aå£°æ˜æ²¡æœ‰èµ‹å€¼\n  console.log('3: ', a) //undefined\n}\n```\n\nåœ¨åµŒå¥—å‡½æ•°çš„æƒ…å†µï¼Œå˜é‡åªä¼šæå‡åˆ°æœ€è¿‘ä¸€ä¸ªå‡½æ•°çš„é¡¶éƒ¨ï¼Œè€Œä¸ä¼šåˆ°å¤–éƒ¨å‡½æ•°ã€‚\n\n```javascript\n//bæå‡åˆ°å‡½æ•°aé¡¶éƒ¨ï¼Œä½†ä¸ä¼šæå‡åˆ°å‡½æ•°testã€‚\nfunction test() {\n  function a() {\n    if (false) {\n      var b = 2\n    }\n  }\n  console.log('b: ', b)\n}\n\ntest() //b is not defined\n```\n\n# ä¸å…è®¸é‡å¤å£°æ˜\n\n> `let`ä¸å…è®¸é‡å¤å£°æ˜\n\n`let`ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚\n\n```javascript\n// æŠ¥é”™\nfunction func() {\n  let a = 10\n  var a = 1\n}\n\n// æŠ¥é”™\nfunction func() {\n  let a = 10\n  let a = 1\n}\n```\n\nå› æ­¤åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½é‡æ–°å£°æ˜å‡½æ•°\n\n```javascript\nfunction func(arg) {\n  let arg\n}\nfunc() // æŠ¥é”™ Identifier 'arg' has already been declared\n\nfunction func(arg) {\n  {\n    let arg\n  }\n}\nfunc() // ä¸æŠ¥é”™\n```\n\n# const å‘½ä»¤\n\n> const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚\n\nä¸€èˆ¬ä½¿ç”¨åœºæ™¯ï¼š\n\n```javascript\nconst start = 'hi all'\n\nconst getName = () => {\n  return 'jelly'\n}\n\nconst conf = {\n  fav: 'Coding',\n}\n\n// æ¨¡æ¿\nconst msg = `${start}, my name is ${getName()}, ${conf.fav} is my favourite`\n```\n\nä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹ï¼š\n\n```javascript\n// 1. ä¸å¼•å·æ··ç”¨\nconst wantToSay = `I'm a \"tbfed\"`\n\n// 2. æ”¯æŒå¤šè¡Œæ–‡æœ¬\nconst slogan = `\nI have a dream today!\n`\n\n// æ¯”è¾ƒé€‚åˆå†™HTML\nconst resultTpl = `\n  <section>\n    <div>...</div>\n  </section>\n`\n```\n\n> åœ¨ JavaScript ä¸­ï¼Œconst ä»…è¡¨ç¤ºç»‘å®šï¼ˆå˜é‡åå’Œå˜é‡å€¼ä¹‹é—´çš„å…³è”ï¼‰æ˜¯ä¸å¯å˜çš„ã€‚å€¼æœ¬èº«å¯èƒ½æ˜¯å¯å˜çš„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ objã€‚\n\n```javascript\nconst obj = { prop: 0 }\nobj.prop = obj.prop + 1\nconsole.log(obj.prop) // 1\n```\n\n# å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\n\nåœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå”¯ä¸€ç›´æ¥ä½äºè¯¥èŒƒå›´å†…çš„ä½ç½®æ˜¯è„šæœ¬çš„é¡¶å±‚ã€‚å…¨å±€èŒƒå›´çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼Œå¯ä»¥éšå¤„è®¿é—®ã€‚æœ‰ä¸¤ç§å…¨å±€å˜é‡ï¼š\n\n- å…¨å±€å£°æ˜å˜é‡æ˜¯æ™®é€šå˜é‡ã€‚\n  å®ƒä»¬åªèƒ½åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ constã€let å’Œç±»å£°æ˜åˆ›å»ºã€‚\n- å…¨å±€å¯¹è±¡å˜é‡è¢«å­˜å‚¨åœ¨æ‰€è°“å…¨å±€å¯¹è±¡çš„å±æ€§ä¸­ã€‚\n  å®ƒä»¬æ˜¯åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ var å’Œå‡½æ•°å£°æ˜åˆ›å»ºçš„ã€‚\n  å¯ä»¥é€šè¿‡å…¨å±€å˜é‡ globalThis è®¿é—®å…¨å±€å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºã€è¯»å–å’Œåˆ é™¤å…¨å±€å¯¹è±¡å˜é‡ã€‚\n  é™¤æ­¤ä¹‹å¤–ï¼Œå…¨å±€å¯¹è±¡å˜é‡åƒæ™®é€šå˜é‡ä¸€æ ·å·¥ä½œã€‚\n\n```javascript\nwindow === globalThis // true\n\nconsole.log(window.a) // 1\nvar a = 1\nconsole.log(window.a) // 1\n```\n\n# åŒºåˆ«\n\n`var`ã€`let`å’Œ`const`æ˜¯ JavaScript ç”¨æ¥å­˜å‚¨å’Œå£°æ˜å˜é‡çš„ç‰¹æ®Šå…³é”®å­—ã€‚å®ƒä»¬æ¯ä¸ªéƒ½æœ‰å”¯ä¸€æ€§ï¼ˆå·®å¼‚ï¼‰ï¼Œå°†ç®€è¦è®¨è®ºã€‚\n\n- **ç›¸åŒç‚¹**ï¼š`var`,`let`,`const`å£°æ˜çš„å˜é‡ï¼Œæ˜¯ä¸èƒ½è¢«`delete`çš„;\n- **åŒºåˆ«**ï¼š\n\n`var`:\n\n- var åˆ†åˆ«å…·æœ‰å…¨å±€å’Œå‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–éƒ¨çš„å˜é‡å¯ä»¥å…¨å±€è®¿é—®ï¼Œå®šä¹‰åœ¨ç‰¹å®šå‡½æ•°å†…éƒ¨çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ã€‚\n- å…¶æ¬¡ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ var é‡æ–°å£°æ˜å˜é‡ï¼Œç”¨æˆ·å¯ä»¥æ›´æ–° var å˜é‡ã€‚\n- å¦‚æœç”¨æˆ·åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ var å˜é‡ï¼Œå®ƒä¼šä½¿ç”¨æœªå®šä¹‰çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œå€¼ä¸º undefinedã€‚\n\n`let`:\n\n- let å˜é‡çš„ä½œç”¨åŸŸä»…ä¸ºå—ä½œç”¨åŸŸã€‚å®ƒä¸èƒ½åœ¨ç‰¹å®šåŠŸèƒ½å—ä¹‹å¤–è®¿é—®ï¼Œlet å…³é”®å­—æ˜¯ var å…³é”®å­—çš„æ”¹è¿›ç‰ˆæœ¬ã€‚\n- ç”¨æˆ·ä¸èƒ½é‡æ–°å£°æ˜ä½¿ç”¨ let å…³é”®å­—å®šä¹‰çš„å˜é‡ï¼Œä½†å¯ä»¥æ›´æ–°å®ƒã€‚\n- ç”¨æˆ·å¯ä»¥ä½¿ç”¨ let å…³é”®å­—åœ¨ä¸åŒçš„åŠŸèƒ½å—ä¸­å£°æ˜åŒåå˜é‡ã€‚\n- æ— éœ€åˆå§‹åŒ–å³å¯å£°æ˜ã€‚\n\n`const`:\n\n- const å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—ä½œç”¨åŸŸã€‚\n- å®ƒä¸èƒ½æ›´æ–°æˆ–é‡æ–°å£°æ˜åˆ°èŒƒå›´å†…\n- æ²¡æœ‰åˆå§‹åŒ–å°±ä¸èƒ½å£°æ˜\n\n**å˜é‡æå‡**ï¼š`var`å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º undefinedï¼›  \n`let`,`const`ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n**æš‚æ—¶æ€§æ­»åŒº**ï¼š`var`ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼›`let`ã€`const`å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰å£°æ˜å˜é‡åï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚\n\n**é‡å¤å£°æ˜**ï¼š`var`å…è®¸é‡å¤å£°æ˜ï¼›`lat`ã€`const`åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜ã€‚\n\n**ä¿®æ”¹å£°æ˜çš„å˜é‡**ï¼š`var`å’Œ`let`å¯ä»¥ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼›`const`å£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚\n\n# é¢è¯•é¢˜\n\n### 1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ\n\n**ä½œç”¨åŸŸä¸åŒï¼š**\n\nvar å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ–è€…è¯´å¯¹äºå£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡æ¥è¯´æ˜¯å…¨å±€çš„\n\nlet ã€ const å£°æ˜çš„æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼Œåªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ\n\n**å˜é‡æå‡ç°è±¡ï¼š**\n\nvar å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œå¹¶åˆå§‹åŒ–ä¸º undefined\n\nletã€ const å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œä½†åœ¨å£°æ˜ä»£ç å‰ä¸èƒ½ä½¿ç”¨ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ï¼Œä¼šè¢«åˆå§‹åŒ– undefined\n\n**å˜é‡/å¸¸é‡ï¼š**\n\nvar å’Œ let å£°æ˜å˜é‡ï¼Œconst å£°æ˜åªè¯»å¸¸é‡\n\n**æš‚æ—¶æ€§æ­»åŒºï¼š**\n\nvar å¯ä»¥å…ˆä½¿ç”¨ï¼Œåå£°æ˜ï¼Œå€¼ä¸º undefined\n\nlet ã€const å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼›ä¸” const å¿…é¡»åˆå§‹åŒ–èµ‹å€¼\n\nåœ¨ letã€const å£°æ˜ä¹‹å‰å°±è®¿é—®å¯¹åº”çš„å˜é‡ä¸å¸¸é‡ï¼Œä¼šæŠ›å‡º ReferenceErrorï¼Œäº§ç”ŸåŸå› ï¼š\n\nç”± let/const å£°æ˜çš„å˜é‡ï¼Œå½“å®ƒä»¬åŒ…å«çš„è¯æ³•ç¯å¢ƒ(Lexical Environment)è¢«å®ä¾‹åŒ–æ—¶ä¼šè¢«åˆ›å»ºï¼Œä½†åªæœ‰åœ¨å˜é‡çš„è¯æ³•ç»‘å®š(LexicalBinding)å·²ç»è¢«æ±‚å€¼è¿ç®—åï¼Œæ‰èƒ½å¤Ÿè¢«è®¿é—®ï¼ˆæ‘˜è‡ª ES2015 è¯­è¨€æ ‡å‡†ï¼‰\n\nç®€å•æ¥è¯´ï¼šç”¨ let/const å£°æ˜çš„å˜é‡ä¼šå…ˆåœ¨ä½œç”¨åŸŸä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ­¤æ—¶è¿˜æœªè¿›è¡Œè¯æ³•ç»‘å®šï¼Œæ˜¯ä¸èƒ½è¢«è®¿é—®çš„ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚**ä»åœ¨ä½œç”¨åŸŸåˆ›å»ºå˜é‡å¼€å§‹ï¼Œåˆ°å˜é‡å¼€å§‹å¯è¢«è®¿é—®ä¹‹é—´çš„ä¸€æ®µæ—¶é—´ï¼Œç§°ä¹‹ä¸º TDZ(æš‚æ—¶æ€§æ­»åŒº)**\n\n### 2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\n\nå®é™…ä¸Šï¼Œä¸æ˜¯ const å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºåŸºç¡€ç±»å‹æ•°æ®ï¼Œå€¼ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œç­‰åŒäºå¸¸é‡\n\nå¯¹äºå¤åˆç±»å‹æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconst åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸å˜çš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œæ˜¯ä¸å¯æ§çš„ã€‚\n\nä¾‹å¦‚ const å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼æ˜¯å¯å˜çš„ã€‚\n\n**åŸæ–‡åœ°å€** [ç¬¬ä¸€ç«  å˜é‡](https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/README.md)  \n**ä¸‹ä¸€ç« **ï¼š[ç¬¬äºŒç«  æ¨¡æ¿å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ–°ç‰¹æ€§](https://github.com/yihan12/build-up_ES6/blob/main/strings/README.md)\n","source":"_posts/JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡.md","raw":"---\ntitle: ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡\ndate:\ntags: [JavaScript, ES6]\ncategories: [å‰ç«¯, JavaScript, ES6, å˜é‡]\n---\n\n# æ¦‚è§ˆ\n\nES6 æ–°å¢äº†ä¸¤ä¸ªå®šä¹‰å˜é‡çš„å…³é”®å­—ï¼š`let` ä¸ `const`ï¼Œå®ƒä»¬å‡ ä¹å–ä»£äº† ES5 å®šä¹‰å˜é‡çš„æ–¹å¼ï¼š`var`ã€‚`let`æ˜¯æ–°çš„`var`,`const`ç®€å•çš„å¸¸é‡å£°æ˜ã€‚\n\n```javascript\nfunction f() {\n  {\n    let x\n    {\n      // okay, block scoped name\n      const x = 'sneaky'\n      // error, const\n      x = 'foo'\n    }\n    // error, already declared in block\n    let x = 'inner'\n  }\n}\n```\n\nES6 ä¹‹å‰å˜é‡ä¹‹å‰å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š\n\n- JS æ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚åœ¨ JS å‡½æ•°ä¸­çš„ var å£°æ˜ï¼Œå…¶ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½“çš„å…¨éƒ¨ã€‚\n- å¾ªç¯å†…å˜é‡è¿‡åº¦å…±äº«\n\n# å—çº§ä½œç”¨åŸŸ\n\n`let`,`const`åˆ›å»ºçš„å˜é‡éƒ½æ˜¯**å—çº§ä½œç”¨åŸŸ**ï¼šå®ƒä»¬åªå­˜åœ¨åŒ…å›´å®ƒä»¬çš„æœ€æ·±ä»£ç å—ä¸­ã€‚\n\nä½œç”¨åŸŸæœ‰å“ªäº›ï¼Ÿ\n\n- å—çº§ä½œç”¨åŸŸ\n- å‡½æ•°ä½œç”¨åŸŸ\n- å…¨å±€ä½œç”¨åŸŸ\n\n```javascript\nfunction func() {\n  if (true) {\n    let tmp = 123\n    // const tmp = 123;\n  }\n  console.log(tmp) // ReferenceError: tmp is not defined\n}\nconsole.log(tmp) // ReferenceError: tmp is not defined\n```\n\nç›¸æ¯”ä¹‹ä¸‹ï¼Œ`var`å£°æ˜çš„æ˜¯å‡½æ•°åŸŸã€‚\n\n```javascript\nfunction func() {\n  if (true) {\n    var tmp = 123\n  }\n  console.log(tmp) // 123\n}\nfunc()\nconsole.log(tmp) // tmp is not defined\n```\n\nä¸‹é¢çš„å¼å­æ›´éš¾çœ‹å‡ºå‡½æ•°ä½œç”¨åŸŸä¸å—çº§ä½œç”¨åŸŸçš„åŒºåˆ«\n\n```javascript\nfunction myFunc() {\n  var number1 = 15 // å‡½æ•°ä½œç”¨åŸŸ\n  if (true) {\n    let number1 = 20 // å—çº§ä½œç”¨åŸŸ\n    console.log(number1) // 20\n  }\n  console.log(number1) // 15\n}\nmyFunc()\nconsole.log(number1) // number1 is not defined\n```\n\nè€Œå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥ä» JavaScript ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®è®¿é—®ã€‚\n\n```javascript\nvar number1 = 15\nconsole.log(window.number1, globalThis.number1, window === globalThis) // 15 15 true\n```\n\n**é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­å®šæ—¶å™¨é—­åŒ…**\n\n```javascript\nfor (var i = 0; i < 5; i++) {\n  setTimeout(() => {\n    console.log(i) //5, 5, 5, 5, 5\n  }, 0)\n}\nconsole.log(i) //5 iè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å¤–éƒ¨å‡½æ•°\n\n//å°†varæ”¹æˆletä¹‹å\nfor (let i = 0; i < 5; i++) {\n  setTimeout(() => {\n    console.log(i) // 0,1,2,3,4\n  }, 0)\n}\nconsole.log(i) //i is not defined iæ— æ³•æ±¡æŸ“å¤–éƒ¨å‡½æ•°\n```\n\nåœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ var å£°æ˜çš„å¾ªç¯å˜é‡ï¼Œä¼šè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å½“å‰çš„å‡½æ•°ã€‚\n\n# TDZ\n\n> `let`ã€`const`æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰\n\n`let`,`const`å£°æ˜çš„å˜é‡æ‹¥æœ‰**æš‚æ—¶æ€§æ­»åŒº**ï¼šå½“è¿›å…¥å®ƒçš„ä½œç”¨åŸŸï¼Œå®ƒä¸èƒ½è¢«è®¿é—®ï¼ˆè·å–æˆ–è®¾ç½®ï¼‰ç›´åˆ°æ‰§è¡Œåˆ°è¾¾å£°æ˜ã€‚  \nç®€å•æè¿°ï¼š\n\n```javascript\nif (true) {\n  //è¿™å—åŒºåŸŸæ˜¯TDZ\n  console.log(a) // Uncaught ReferenceError: Cannot access 'a' before initialization\n  let a = 1\n  // const a = 1\n}\n```\n\n```javascript\nif (true) {\n  // enter new scope, TDZ starts\n  // Uninitialized binding for `tmp` is created\n\n  tmp = 'abc' // ReferenceError\n  console.log(tmp) // ReferenceError\n\n  let tmp // TDZ ends, `tmp` is initialized with `undefined`\n  console.log(tmp) // undefined\n\n  tmp = 123\n  console.log(tmp) // 123\n}\n```\n\nä¸‹é¢ç¤ºä¾‹å°†æ¼”ç¤ºæ­»åŒºï¼ˆdead zoneï¼‰æ˜¯çœŸæ­£çŸ­æš‚æ—¶é—´çš„ï¼ˆåŸºäºæ—¶é—´ï¼‰å’Œä¸å—ç©ºé—´æ¡ä»¶é™åˆ¶ï¼ˆåŸºäºä½ç½®ï¼‰\n\n```javascript\nif (true) {\n  // enter new scope, TDZ starts\n  const func = function () {\n    console.log(myVar) // OK!\n  }\n\n  // Here we are within the TDZ and\n  // accessing `myVar` would cause a `ReferenceError`\n\n  let myVar = 3 // TDZ ends\n  func() // called outside TDZ\n}\n```\n\nä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° let myVar å˜é‡è¢«å®šä¹‰äº†ï¼Œä½†æ˜¯ä¸åƒ var ä¸€æ ·è¢«æå‡ã€‚é‚£å®ƒåˆå§‹åŒ–äº†å—ï¼Ÿæ²¡æœ‰ï¼Œè¿™å°±æ˜¯ TDZ åœ¨è¿›å…¥å—çº§ä½œç”¨åŸŸå°±å­˜åœ¨çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œå½“ let myVar å°†è¢«å®šä¹‰æ—¶ï¼Œå®ƒå°†è¿›å…¥ TDZï¼Œå¹¶åœ¨æ‚¨å£°æ˜å’Œåˆå§‹åŒ–å®ƒæ—¶ç»“æŸã€‚æ‰€ä»¥åœ¨èŒƒå›´ä¸­ï¼Œå®ƒå°†é¦–å…ˆåœ¨ TDZ ä¸­ï¼Œä½†æ˜¯ä¸€æ—¦åˆ°è¾¾å£°æ˜éƒ¨åˆ†ï¼ŒTDZ å°±ä¼šç»“æŸã€‚\n\n#### ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?\n\n- å®ƒå¸®åŠ©æˆ‘ä»¬å‘ç°é”™è¯¯ã€‚\n- åœ¨å£°æ˜å˜é‡ä¹‹å‰å°è¯•è®¿é—®å®ƒæ˜¯é”™è¯¯çš„æ–¹å¼ã€‚\n\n> ä¸ºé¿å… TDZï¼Œè¯·å§‹ç»ˆç¡®ä¿åœ¨ä»»ä½•èŒƒå›´çš„é¡¶éƒ¨å®šä¹‰ let å’Œ constã€‚\n\næˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†è§£æ¥ç®€å•åœ°ç†è§£è¿™ä¸ªæœ¯è¯­ã€‚æ—¶é—´æ„å‘³ç€æš‚æ—¶çš„ä¸œè¥¿ï¼Œæ­»äº¡æ„å‘³ç€æ²¡æœ‰ç”Ÿå‘½çš„çŠ¶æ€ï¼Œç¼–ç¨‹ä¸–ç•Œä¸­ä¸å†…å­˜ç›¸å…³çš„åŒºåŸŸã€‚æ‰€ä»¥å˜é‡æš‚æ—¶ä¸å¯ç”¨ï¼ˆæˆ–æ­»äº¡ï¼‰çš„æ—¶åŒºåœ¨ TDZ ä¸­ã€‚\n\næˆ–è€…ç®€å•åœ°è¯´ï¼Œè¿›å…¥å—çº§ä½œç”¨åŸŸä¸å…¶å˜é‡åˆ›å»ºå£°æ˜ä¹‹é—´çš„æ—¶é—´è·¨åº¦ç§°ä¸ºæ—¶é—´æ­»åŒºã€‚\n\n# å˜é‡æå‡\n\n> `var`å˜é‡æå‡\n\nJavaScript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è¯´çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä½¿ç”¨ var å£°æ˜çš„å˜é‡ï¼Œæ— è®ºæ˜¯åœ¨ä»£ç çš„å“ªä¸ªåœ°æ–¹å£°æ˜çš„ï¼Œéƒ½ä¼šæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€é¡¶éƒ¨ï¼Œè¿™ç§è¡Œä¸ºå«åš**å˜é‡æå‡ï¼ˆHoistingï¼‰**\n\nä¸‹é¢ä»£ç ï¼Œæ¼”ç¤ºäº†å‡½æ•°çš„å˜é‡æå‡ï¼š\n\n```javascript\n{\n  // Enter a new scope\n\n  console.log(foo()) // hello, due to hoisting\n  function foo() {\n    return 'hello'\n  }\n}\n```\n\nä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œéƒ½ä¼šè¢«æå‡åˆ°å‡½æ•°å¼€å¤´ï¼Œè€Œåœ¨å…¨å±€çš„å£°æ˜ï¼Œå°±ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚\n\n```javascript\nfunction test() {\n  console.log('1: ', a) //undefined\n  if (false) {\n    var a = 1\n  }\n  console.log('3: ', a) //undefined\n}\n\ntest()\n```\n\nå®é™…æ‰§è¡Œæ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸­çš„å˜é‡ a ä¼šæå‡åˆ°å‡½æ•°é¡¶éƒ¨å£°æ˜ï¼Œå³ä½¿ if è¯­å¥çš„æ¡ä»¶æ˜¯ falseï¼Œä¹Ÿä¸€æ ·ä¸å½±å“ a çš„æå‡ã€‚\n\n```javascript\nfunction test() {\n  var a\n  //aå£°æ˜æ²¡æœ‰èµ‹å€¼\n  console.log('1: ', a) //undefined\n  if (false) {\n    a = 1\n  }\n  //aå£°æ˜æ²¡æœ‰èµ‹å€¼\n  console.log('3: ', a) //undefined\n}\n```\n\nåœ¨åµŒå¥—å‡½æ•°çš„æƒ…å†µï¼Œå˜é‡åªä¼šæå‡åˆ°æœ€è¿‘ä¸€ä¸ªå‡½æ•°çš„é¡¶éƒ¨ï¼Œè€Œä¸ä¼šåˆ°å¤–éƒ¨å‡½æ•°ã€‚\n\n```javascript\n//bæå‡åˆ°å‡½æ•°aé¡¶éƒ¨ï¼Œä½†ä¸ä¼šæå‡åˆ°å‡½æ•°testã€‚\nfunction test() {\n  function a() {\n    if (false) {\n      var b = 2\n    }\n  }\n  console.log('b: ', b)\n}\n\ntest() //b is not defined\n```\n\n# ä¸å…è®¸é‡å¤å£°æ˜\n\n> `let`ä¸å…è®¸é‡å¤å£°æ˜\n\n`let`ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚\n\n```javascript\n// æŠ¥é”™\nfunction func() {\n  let a = 10\n  var a = 1\n}\n\n// æŠ¥é”™\nfunction func() {\n  let a = 10\n  let a = 1\n}\n```\n\nå› æ­¤åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½é‡æ–°å£°æ˜å‡½æ•°\n\n```javascript\nfunction func(arg) {\n  let arg\n}\nfunc() // æŠ¥é”™ Identifier 'arg' has already been declared\n\nfunction func(arg) {\n  {\n    let arg\n  }\n}\nfunc() // ä¸æŠ¥é”™\n```\n\n# const å‘½ä»¤\n\n> const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚\n\nä¸€èˆ¬ä½¿ç”¨åœºæ™¯ï¼š\n\n```javascript\nconst start = 'hi all'\n\nconst getName = () => {\n  return 'jelly'\n}\n\nconst conf = {\n  fav: 'Coding',\n}\n\n// æ¨¡æ¿\nconst msg = `${start}, my name is ${getName()}, ${conf.fav} is my favourite`\n```\n\nä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹ï¼š\n\n```javascript\n// 1. ä¸å¼•å·æ··ç”¨\nconst wantToSay = `I'm a \"tbfed\"`\n\n// 2. æ”¯æŒå¤šè¡Œæ–‡æœ¬\nconst slogan = `\nI have a dream today!\n`\n\n// æ¯”è¾ƒé€‚åˆå†™HTML\nconst resultTpl = `\n  <section>\n    <div>...</div>\n  </section>\n`\n```\n\n> åœ¨ JavaScript ä¸­ï¼Œconst ä»…è¡¨ç¤ºç»‘å®šï¼ˆå˜é‡åå’Œå˜é‡å€¼ä¹‹é—´çš„å…³è”ï¼‰æ˜¯ä¸å¯å˜çš„ã€‚å€¼æœ¬èº«å¯èƒ½æ˜¯å¯å˜çš„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ objã€‚\n\n```javascript\nconst obj = { prop: 0 }\nobj.prop = obj.prop + 1\nconsole.log(obj.prop) // 1\n```\n\n# å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\n\nåœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå”¯ä¸€ç›´æ¥ä½äºè¯¥èŒƒå›´å†…çš„ä½ç½®æ˜¯è„šæœ¬çš„é¡¶å±‚ã€‚å…¨å±€èŒƒå›´çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼Œå¯ä»¥éšå¤„è®¿é—®ã€‚æœ‰ä¸¤ç§å…¨å±€å˜é‡ï¼š\n\n- å…¨å±€å£°æ˜å˜é‡æ˜¯æ™®é€šå˜é‡ã€‚\n  å®ƒä»¬åªèƒ½åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ constã€let å’Œç±»å£°æ˜åˆ›å»ºã€‚\n- å…¨å±€å¯¹è±¡å˜é‡è¢«å­˜å‚¨åœ¨æ‰€è°“å…¨å±€å¯¹è±¡çš„å±æ€§ä¸­ã€‚\n  å®ƒä»¬æ˜¯åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ var å’Œå‡½æ•°å£°æ˜åˆ›å»ºçš„ã€‚\n  å¯ä»¥é€šè¿‡å…¨å±€å˜é‡ globalThis è®¿é—®å…¨å±€å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºã€è¯»å–å’Œåˆ é™¤å…¨å±€å¯¹è±¡å˜é‡ã€‚\n  é™¤æ­¤ä¹‹å¤–ï¼Œå…¨å±€å¯¹è±¡å˜é‡åƒæ™®é€šå˜é‡ä¸€æ ·å·¥ä½œã€‚\n\n```javascript\nwindow === globalThis // true\n\nconsole.log(window.a) // 1\nvar a = 1\nconsole.log(window.a) // 1\n```\n\n# åŒºåˆ«\n\n`var`ã€`let`å’Œ`const`æ˜¯ JavaScript ç”¨æ¥å­˜å‚¨å’Œå£°æ˜å˜é‡çš„ç‰¹æ®Šå…³é”®å­—ã€‚å®ƒä»¬æ¯ä¸ªéƒ½æœ‰å”¯ä¸€æ€§ï¼ˆå·®å¼‚ï¼‰ï¼Œå°†ç®€è¦è®¨è®ºã€‚\n\n- **ç›¸åŒç‚¹**ï¼š`var`,`let`,`const`å£°æ˜çš„å˜é‡ï¼Œæ˜¯ä¸èƒ½è¢«`delete`çš„;\n- **åŒºåˆ«**ï¼š\n\n`var`:\n\n- var åˆ†åˆ«å…·æœ‰å…¨å±€å’Œå‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–éƒ¨çš„å˜é‡å¯ä»¥å…¨å±€è®¿é—®ï¼Œå®šä¹‰åœ¨ç‰¹å®šå‡½æ•°å†…éƒ¨çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ã€‚\n- å…¶æ¬¡ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ var é‡æ–°å£°æ˜å˜é‡ï¼Œç”¨æˆ·å¯ä»¥æ›´æ–° var å˜é‡ã€‚\n- å¦‚æœç”¨æˆ·åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ var å˜é‡ï¼Œå®ƒä¼šä½¿ç”¨æœªå®šä¹‰çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œå€¼ä¸º undefinedã€‚\n\n`let`:\n\n- let å˜é‡çš„ä½œç”¨åŸŸä»…ä¸ºå—ä½œç”¨åŸŸã€‚å®ƒä¸èƒ½åœ¨ç‰¹å®šåŠŸèƒ½å—ä¹‹å¤–è®¿é—®ï¼Œlet å…³é”®å­—æ˜¯ var å…³é”®å­—çš„æ”¹è¿›ç‰ˆæœ¬ã€‚\n- ç”¨æˆ·ä¸èƒ½é‡æ–°å£°æ˜ä½¿ç”¨ let å…³é”®å­—å®šä¹‰çš„å˜é‡ï¼Œä½†å¯ä»¥æ›´æ–°å®ƒã€‚\n- ç”¨æˆ·å¯ä»¥ä½¿ç”¨ let å…³é”®å­—åœ¨ä¸åŒçš„åŠŸèƒ½å—ä¸­å£°æ˜åŒåå˜é‡ã€‚\n- æ— éœ€åˆå§‹åŒ–å³å¯å£°æ˜ã€‚\n\n`const`:\n\n- const å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—ä½œç”¨åŸŸã€‚\n- å®ƒä¸èƒ½æ›´æ–°æˆ–é‡æ–°å£°æ˜åˆ°èŒƒå›´å†…\n- æ²¡æœ‰åˆå§‹åŒ–å°±ä¸èƒ½å£°æ˜\n\n**å˜é‡æå‡**ï¼š`var`å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º undefinedï¼›  \n`let`,`const`ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\n\n**æš‚æ—¶æ€§æ­»åŒº**ï¼š`var`ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼›`let`ã€`const`å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰å£°æ˜å˜é‡åï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚\n\n**é‡å¤å£°æ˜**ï¼š`var`å…è®¸é‡å¤å£°æ˜ï¼›`lat`ã€`const`åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜ã€‚\n\n**ä¿®æ”¹å£°æ˜çš„å˜é‡**ï¼š`var`å’Œ`let`å¯ä»¥ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼›`const`å£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚\n\n# é¢è¯•é¢˜\n\n### 1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ\n\n**ä½œç”¨åŸŸä¸åŒï¼š**\n\nvar å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ–è€…è¯´å¯¹äºå£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡æ¥è¯´æ˜¯å…¨å±€çš„\n\nlet ã€ const å£°æ˜çš„æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼Œåªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ\n\n**å˜é‡æå‡ç°è±¡ï¼š**\n\nvar å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œå¹¶åˆå§‹åŒ–ä¸º undefined\n\nletã€ const å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œä½†åœ¨å£°æ˜ä»£ç å‰ä¸èƒ½ä½¿ç”¨ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ï¼Œä¼šè¢«åˆå§‹åŒ– undefined\n\n**å˜é‡/å¸¸é‡ï¼š**\n\nvar å’Œ let å£°æ˜å˜é‡ï¼Œconst å£°æ˜åªè¯»å¸¸é‡\n\n**æš‚æ—¶æ€§æ­»åŒºï¼š**\n\nvar å¯ä»¥å…ˆä½¿ç”¨ï¼Œåå£°æ˜ï¼Œå€¼ä¸º undefined\n\nlet ã€const å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼›ä¸” const å¿…é¡»åˆå§‹åŒ–èµ‹å€¼\n\nåœ¨ letã€const å£°æ˜ä¹‹å‰å°±è®¿é—®å¯¹åº”çš„å˜é‡ä¸å¸¸é‡ï¼Œä¼šæŠ›å‡º ReferenceErrorï¼Œäº§ç”ŸåŸå› ï¼š\n\nç”± let/const å£°æ˜çš„å˜é‡ï¼Œå½“å®ƒä»¬åŒ…å«çš„è¯æ³•ç¯å¢ƒ(Lexical Environment)è¢«å®ä¾‹åŒ–æ—¶ä¼šè¢«åˆ›å»ºï¼Œä½†åªæœ‰åœ¨å˜é‡çš„è¯æ³•ç»‘å®š(LexicalBinding)å·²ç»è¢«æ±‚å€¼è¿ç®—åï¼Œæ‰èƒ½å¤Ÿè¢«è®¿é—®ï¼ˆæ‘˜è‡ª ES2015 è¯­è¨€æ ‡å‡†ï¼‰\n\nç®€å•æ¥è¯´ï¼šç”¨ let/const å£°æ˜çš„å˜é‡ä¼šå…ˆåœ¨ä½œç”¨åŸŸä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ­¤æ—¶è¿˜æœªè¿›è¡Œè¯æ³•ç»‘å®šï¼Œæ˜¯ä¸èƒ½è¢«è®¿é—®çš„ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚**ä»åœ¨ä½œç”¨åŸŸåˆ›å»ºå˜é‡å¼€å§‹ï¼Œåˆ°å˜é‡å¼€å§‹å¯è¢«è®¿é—®ä¹‹é—´çš„ä¸€æ®µæ—¶é—´ï¼Œç§°ä¹‹ä¸º TDZ(æš‚æ—¶æ€§æ­»åŒº)**\n\n### 2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\n\nå®é™…ä¸Šï¼Œä¸æ˜¯ const å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºåŸºç¡€ç±»å‹æ•°æ®ï¼Œå€¼ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œç­‰åŒäºå¸¸é‡\n\nå¯¹äºå¤åˆç±»å‹æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconst åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸å˜çš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œæ˜¯ä¸å¯æ§çš„ã€‚\n\nä¾‹å¦‚ const å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼æ˜¯å¯å˜çš„ã€‚\n\n**åŸæ–‡åœ°å€** [ç¬¬ä¸€ç«  å˜é‡](https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/README.md)  \n**ä¸‹ä¸€ç« **ï¼š[ç¬¬äºŒç«  æ¨¡æ¿å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ–°ç‰¹æ€§](https://github.com/yihan12/build-up_ES6/blob/main/strings/README.md)\n","slug":"JavaScript/ES6å­¦ä¹ ç¬”è®°/ã€ES6å­¦ä¹ ç¬”è®°ã€‘ä¹‹ å˜é‡","published":1,"updated":"2023-08-14T04:07:03.400Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywm0010q42v8zkmcace","content":"<h1 id=\"æ¦‚è§ˆ\"><a href=\"#æ¦‚è§ˆ\" class=\"headerlink\" title=\"æ¦‚è§ˆ\"></a>æ¦‚è§ˆ</h1><p>ES6 æ–°å¢äº†ä¸¤ä¸ªå®šä¹‰å˜é‡çš„å…³é”®å­—ï¼š<code>let</code> ä¸ <code>const</code>ï¼Œå®ƒä»¬å‡ ä¹å–ä»£äº† ES5 å®šä¹‰å˜é‡çš„æ–¹å¼ï¼š<code>var</code>ã€‚<code>let</code>æ˜¯æ–°çš„<code>var</code>,<code>const</code>ç®€å•çš„å¸¸é‡å£°æ˜ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">f</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> x</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">// okay, block scoped name</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> x = <span class=\"string\">&#x27;sneaky&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// error, const</span></span><br><span class=\"line\">      x = <span class=\"string\">&#x27;foo&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// error, already declared in block</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> x = <span class=\"string\">&#x27;inner&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ES6 ä¹‹å‰å˜é‡ä¹‹å‰å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>JS æ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚åœ¨ JS å‡½æ•°ä¸­çš„ var å£°æ˜ï¼Œå…¶ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½“çš„å…¨éƒ¨ã€‚</li>\n<li>å¾ªç¯å†…å˜é‡è¿‡åº¦å…±äº«</li>\n</ul>\n<h1 id=\"å—çº§ä½œç”¨åŸŸ\"><a href=\"#å—çº§ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"å—çº§ä½œç”¨åŸŸ\"></a>å—çº§ä½œç”¨åŸŸ</h1><p><code>let</code>,<code>const</code>åˆ›å»ºçš„å˜é‡éƒ½æ˜¯<strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼šå®ƒä»¬åªå­˜åœ¨åŒ…å›´å®ƒä»¬çš„æœ€æ·±ä»£ç å—ä¸­ã€‚</p>\n<p>ä½œç”¨åŸŸæœ‰å“ªäº›ï¼Ÿ</p>\n<ul>\n<li>å—çº§ä½œç”¨åŸŸ</li>\n<li>å‡½æ•°ä½œç”¨åŸŸ</li>\n<li>å…¨å±€ä½œç”¨åŸŸ</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = <span class=\"number\">123</span></span><br><span class=\"line\">    <span class=\"comment\">// const tmp = 123;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError: tmp is not defined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError: tmp is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>var</code>å£°æ˜çš„æ˜¯å‡½æ•°åŸŸã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> tmp = <span class=\"number\">123</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// 123</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// tmp is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹é¢çš„å¼å­æ›´éš¾çœ‹å‡ºå‡½æ•°ä½œç”¨åŸŸä¸å—çº§ä½œç”¨åŸŸçš„åŒºåˆ«</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">myFunc</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> number1 = <span class=\"number\">15</span> <span class=\"comment\">// å‡½æ•°ä½œç”¨åŸŸ</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> number1 = <span class=\"number\">20</span> <span class=\"comment\">// å—çº§ä½œç”¨åŸŸ</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// 20</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// 15</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">myFunc</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// number1 is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>è€Œå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥ä» JavaScript ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®è®¿é—®ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> number1 = <span class=\"number\">15</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">number1</span>, globalThis.<span class=\"property\">number1</span>, <span class=\"variable language_\">window</span> === globalThis) <span class=\"comment\">// 15 15 true</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­å®šæ—¶å™¨é—­åŒ…</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//5, 5, 5, 5, 5</span></span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//5 iè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å¤–éƒ¨å‡½æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å°†varæ”¹æˆletä¹‹å</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">// 0,1,2,3,4</span></span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//i is not defined iæ— æ³•æ±¡æŸ“å¤–éƒ¨å‡½æ•°</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ var å£°æ˜çš„å¾ªç¯å˜é‡ï¼Œä¼šè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å½“å‰çš„å‡½æ•°ã€‚</p>\n<h1 id=\"TDZ\"><a href=\"#TDZ\" class=\"headerlink\" title=\"TDZ\"></a>TDZ</h1><blockquote>\n<p><code>let</code>ã€<code>const</code>æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰</p>\n</blockquote>\n<p><code>let</code>,<code>const</code>å£°æ˜çš„å˜é‡æ‹¥æœ‰<strong>æš‚æ—¶æ€§æ­»åŒº</strong>ï¼šå½“è¿›å…¥å®ƒçš„ä½œç”¨åŸŸï¼Œå®ƒä¸èƒ½è¢«è®¿é—®ï¼ˆè·å–æˆ–è®¾ç½®ï¼‰ç›´åˆ°æ‰§è¡Œåˆ°è¾¾å£°æ˜ã€‚<br>ç®€å•æè¿°ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//è¿™å—åŒºåŸŸæ˜¯TDZ</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a) <span class=\"comment\">// Uncaught ReferenceError: Cannot access &#x27;a&#x27; before initialization</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"comment\">// const a = 1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// enter new scope, TDZ starts</span></span><br><span class=\"line\">  <span class=\"comment\">// Uninitialized binding for `tmp` is created</span></span><br><span class=\"line\"></span><br><span class=\"line\">  tmp = <span class=\"string\">&#x27;abc&#x27;</span> <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tmp <span class=\"comment\">// TDZ ends, `tmp` is initialized with `undefined`</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">  tmp = <span class=\"number\">123</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// 123</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹é¢ç¤ºä¾‹å°†æ¼”ç¤ºæ­»åŒºï¼ˆdead zoneï¼‰æ˜¯çœŸæ­£çŸ­æš‚æ—¶é—´çš„ï¼ˆåŸºäºæ—¶é—´ï¼‰å’Œä¸å—ç©ºé—´æ¡ä»¶é™åˆ¶ï¼ˆåŸºäºä½ç½®ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// enter new scope, TDZ starts</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> func = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myVar) <span class=\"comment\">// OK!</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Here we are within the TDZ and</span></span><br><span class=\"line\">  <span class=\"comment\">// accessing `myVar` would cause a `ReferenceError`</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> myVar = <span class=\"number\">3</span> <span class=\"comment\">// TDZ ends</span></span><br><span class=\"line\">  <span class=\"title function_\">func</span>() <span class=\"comment\">// called outside TDZ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° let myVar å˜é‡è¢«å®šä¹‰äº†ï¼Œä½†æ˜¯ä¸åƒ var ä¸€æ ·è¢«æå‡ã€‚é‚£å®ƒåˆå§‹åŒ–äº†å—ï¼Ÿæ²¡æœ‰ï¼Œè¿™å°±æ˜¯ TDZ åœ¨è¿›å…¥å—çº§ä½œç”¨åŸŸå°±å­˜åœ¨çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œå½“ let myVar å°†è¢«å®šä¹‰æ—¶ï¼Œå®ƒå°†è¿›å…¥ TDZï¼Œå¹¶åœ¨æ‚¨å£°æ˜å’Œåˆå§‹åŒ–å®ƒæ—¶ç»“æŸã€‚æ‰€ä»¥åœ¨èŒƒå›´ä¸­ï¼Œå®ƒå°†é¦–å…ˆåœ¨ TDZ ä¸­ï¼Œä½†æ˜¯ä¸€æ—¦åˆ°è¾¾å£°æ˜éƒ¨åˆ†ï¼ŒTDZ å°±ä¼šç»“æŸã€‚</p>\n<h4 id=\"ä¸ºä»€ä¹ˆä¼šå­˜åœ¨-TDZ\"><a href=\"#ä¸ºä»€ä¹ˆä¼šå­˜åœ¨-TDZ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?\"></a>ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?</h4><ul>\n<li>å®ƒå¸®åŠ©æˆ‘ä»¬å‘ç°é”™è¯¯ã€‚</li>\n<li>åœ¨å£°æ˜å˜é‡ä¹‹å‰å°è¯•è®¿é—®å®ƒæ˜¯é”™è¯¯çš„æ–¹å¼ã€‚</li>\n</ul>\n<blockquote>\n<p>ä¸ºé¿å… TDZï¼Œè¯·å§‹ç»ˆç¡®ä¿åœ¨ä»»ä½•èŒƒå›´çš„é¡¶éƒ¨å®šä¹‰ let å’Œ constã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†è§£æ¥ç®€å•åœ°ç†è§£è¿™ä¸ªæœ¯è¯­ã€‚æ—¶é—´æ„å‘³ç€æš‚æ—¶çš„ä¸œè¥¿ï¼Œæ­»äº¡æ„å‘³ç€æ²¡æœ‰ç”Ÿå‘½çš„çŠ¶æ€ï¼Œç¼–ç¨‹ä¸–ç•Œä¸­ä¸å†…å­˜ç›¸å…³çš„åŒºåŸŸã€‚æ‰€ä»¥å˜é‡æš‚æ—¶ä¸å¯ç”¨ï¼ˆæˆ–æ­»äº¡ï¼‰çš„æ—¶åŒºåœ¨ TDZ ä¸­ã€‚</p>\n<p>æˆ–è€…ç®€å•åœ°è¯´ï¼Œè¿›å…¥å—çº§ä½œç”¨åŸŸä¸å…¶å˜é‡åˆ›å»ºå£°æ˜ä¹‹é—´çš„æ—¶é—´è·¨åº¦ç§°ä¸ºæ—¶é—´æ­»åŒºã€‚</p>\n<h1 id=\"å˜é‡æå‡\"><a href=\"#å˜é‡æå‡\" class=\"headerlink\" title=\"å˜é‡æå‡\"></a>å˜é‡æå‡</h1><blockquote>\n<p><code>var</code>å˜é‡æå‡</p>\n</blockquote>\n<p>JavaScript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è¯´çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä½¿ç”¨ var å£°æ˜çš„å˜é‡ï¼Œæ— è®ºæ˜¯åœ¨ä»£ç çš„å“ªä¸ªåœ°æ–¹å£°æ˜çš„ï¼Œéƒ½ä¼šæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€é¡¶éƒ¨ï¼Œè¿™ç§è¡Œä¸ºå«åš<strong>å˜é‡æå‡ï¼ˆHoistingï¼‰</strong></p>\n<p>ä¸‹é¢ä»£ç ï¼Œæ¼”ç¤ºäº†å‡½æ•°çš„å˜é‡æå‡ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Enter a new scope</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">foo</span>()) <span class=\"comment\">// hello, due to hoisting</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œéƒ½ä¼šè¢«æå‡åˆ°å‡½æ•°å¼€å¤´ï¼Œè€Œåœ¨å…¨å±€çš„å£°æ˜ï¼Œå°±ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">test</span>()</span><br></pre></td></tr></table></figure>\n\n<p>å®é™…æ‰§è¡Œæ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸­çš„å˜é‡ a ä¼šæå‡åˆ°å‡½æ•°é¡¶éƒ¨å£°æ˜ï¼Œå³ä½¿ if è¯­å¥çš„æ¡ä»¶æ˜¯ falseï¼Œä¹Ÿä¸€æ ·ä¸å½±å“ a çš„æå‡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a</span><br><span class=\"line\">  <span class=\"comment\">//aå£°æ˜æ²¡æœ‰èµ‹å€¼</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    a = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//aå£°æ˜æ²¡æœ‰èµ‹å€¼</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨åµŒå¥—å‡½æ•°çš„æƒ…å†µï¼Œå˜é‡åªä¼šæå‡åˆ°æœ€è¿‘ä¸€ä¸ªå‡½æ•°çš„é¡¶éƒ¨ï¼Œè€Œä¸ä¼šåˆ°å¤–éƒ¨å‡½æ•°ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//bæå‡åˆ°å‡½æ•°aé¡¶éƒ¨ï¼Œä½†ä¸ä¼šæå‡åˆ°å‡½æ•°testã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">a</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> b = <span class=\"number\">2</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;b: &#x27;</span>, b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">test</span>() <span class=\"comment\">//b is not defined</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"ä¸å…è®¸é‡å¤å£°æ˜\"><a href=\"#ä¸å…è®¸é‡å¤å£°æ˜\" class=\"headerlink\" title=\"ä¸å…è®¸é‡å¤å£°æ˜\"></a>ä¸å…è®¸é‡å¤å£°æ˜</h1><blockquote>\n<p><code>let</code>ä¸å…è®¸é‡å¤å£°æ˜</p>\n</blockquote>\n<p><code>let</code>ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å› æ­¤åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½é‡æ–°å£°æ˜å‡½æ•°</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">arg</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> arg</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>() <span class=\"comment\">// æŠ¥é”™ Identifier &#x27;arg&#x27; has already been declared</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">arg</span>) &#123;</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> arg</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>() <span class=\"comment\">// ä¸æŠ¥é”™</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"const-å‘½ä»¤\"><a href=\"#const-å‘½ä»¤\" class=\"headerlink\" title=\"const å‘½ä»¤\"></a>const å‘½ä»¤</h1><blockquote>\n<p>const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>\n</blockquote>\n<p>ä¸€èˆ¬ä½¿ç”¨åœºæ™¯ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> start = <span class=\"string\">&#x27;hi all&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">getName</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;jelly&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> conf = &#123;</span><br><span class=\"line\">  <span class=\"attr\">fav</span>: <span class=\"string\">&#x27;Coding&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> msg = <span class=\"string\">`<span class=\"subst\">$&#123;start&#125;</span>, my name is <span class=\"subst\">$&#123;getName()&#125;</span>, <span class=\"subst\">$&#123;conf.fav&#125;</span> is my favourite`</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. ä¸å¼•å·æ··ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> wantToSay = <span class=\"string\">`I&#x27;m a &quot;tbfed&quot;`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2. æ”¯æŒå¤šè¡Œæ–‡æœ¬</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> slogan = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">I have a dream today!</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¯”è¾ƒé€‚åˆå†™HTML</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> resultTpl = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">  &lt;section&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;...&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/section&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>åœ¨ JavaScript ä¸­ï¼Œconst ä»…è¡¨ç¤ºç»‘å®šï¼ˆå˜é‡åå’Œå˜é‡å€¼ä¹‹é—´çš„å…³è”ï¼‰æ˜¯ä¸å¯å˜çš„ã€‚å€¼æœ¬èº«å¯èƒ½æ˜¯å¯å˜çš„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ objã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">prop</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\">obj.<span class=\"property\">prop</span> = obj.<span class=\"property\">prop</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">prop</span>) <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\"><a href=\"#å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\" class=\"headerlink\" title=\"å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\"></a>å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡</h1><p>åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå”¯ä¸€ç›´æ¥ä½äºè¯¥èŒƒå›´å†…çš„ä½ç½®æ˜¯è„šæœ¬çš„é¡¶å±‚ã€‚å…¨å±€èŒƒå›´çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼Œå¯ä»¥éšå¤„è®¿é—®ã€‚æœ‰ä¸¤ç§å…¨å±€å˜é‡ï¼š</p>\n<ul>\n<li>å…¨å±€å£°æ˜å˜é‡æ˜¯æ™®é€šå˜é‡ã€‚<br>å®ƒä»¬åªèƒ½åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ constã€let å’Œç±»å£°æ˜åˆ›å»ºã€‚</li>\n<li>å…¨å±€å¯¹è±¡å˜é‡è¢«å­˜å‚¨åœ¨æ‰€è°“å…¨å±€å¯¹è±¡çš„å±æ€§ä¸­ã€‚<br>å®ƒä»¬æ˜¯åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ var å’Œå‡½æ•°å£°æ˜åˆ›å»ºçš„ã€‚<br>å¯ä»¥é€šè¿‡å…¨å±€å˜é‡ globalThis è®¿é—®å…¨å±€å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºã€è¯»å–å’Œåˆ é™¤å…¨å±€å¯¹è±¡å˜é‡ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œå…¨å±€å¯¹è±¡å˜é‡åƒæ™®é€šå˜é‡ä¸€æ ·å·¥ä½œã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span> === globalThis <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>) <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>) <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h1><p><code>var</code>ã€<code>let</code>å’Œ<code>const</code>æ˜¯ JavaScript ç”¨æ¥å­˜å‚¨å’Œå£°æ˜å˜é‡çš„ç‰¹æ®Šå…³é”®å­—ã€‚å®ƒä»¬æ¯ä¸ªéƒ½æœ‰å”¯ä¸€æ€§ï¼ˆå·®å¼‚ï¼‰ï¼Œå°†ç®€è¦è®¨è®ºã€‚</p>\n<ul>\n<li><strong>ç›¸åŒç‚¹</strong>ï¼š<code>var</code>,<code>let</code>,<code>const</code>å£°æ˜çš„å˜é‡ï¼Œæ˜¯ä¸èƒ½è¢«<code>delete</code>çš„;</li>\n<li><strong>åŒºåˆ«</strong>ï¼š</li>\n</ul>\n<p><code>var</code>:</p>\n<ul>\n<li>var åˆ†åˆ«å…·æœ‰å…¨å±€å’Œå‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–éƒ¨çš„å˜é‡å¯ä»¥å…¨å±€è®¿é—®ï¼Œå®šä¹‰åœ¨ç‰¹å®šå‡½æ•°å†…éƒ¨çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ã€‚</li>\n<li>å…¶æ¬¡ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ var é‡æ–°å£°æ˜å˜é‡ï¼Œç”¨æˆ·å¯ä»¥æ›´æ–° var å˜é‡ã€‚</li>\n<li>å¦‚æœç”¨æˆ·åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ var å˜é‡ï¼Œå®ƒä¼šä½¿ç”¨æœªå®šä¹‰çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œå€¼ä¸º undefinedã€‚</li>\n</ul>\n<p><code>let</code>:</p>\n<ul>\n<li>let å˜é‡çš„ä½œç”¨åŸŸä»…ä¸ºå—ä½œç”¨åŸŸã€‚å®ƒä¸èƒ½åœ¨ç‰¹å®šåŠŸèƒ½å—ä¹‹å¤–è®¿é—®ï¼Œlet å…³é”®å­—æ˜¯ var å…³é”®å­—çš„æ”¹è¿›ç‰ˆæœ¬ã€‚</li>\n<li>ç”¨æˆ·ä¸èƒ½é‡æ–°å£°æ˜ä½¿ç”¨ let å…³é”®å­—å®šä¹‰çš„å˜é‡ï¼Œä½†å¯ä»¥æ›´æ–°å®ƒã€‚</li>\n<li>ç”¨æˆ·å¯ä»¥ä½¿ç”¨ let å…³é”®å­—åœ¨ä¸åŒçš„åŠŸèƒ½å—ä¸­å£°æ˜åŒåå˜é‡ã€‚</li>\n<li>æ— éœ€åˆå§‹åŒ–å³å¯å£°æ˜ã€‚</li>\n</ul>\n<p><code>const</code>:</p>\n<ul>\n<li>const å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—ä½œç”¨åŸŸã€‚</li>\n<li>å®ƒä¸èƒ½æ›´æ–°æˆ–é‡æ–°å£°æ˜åˆ°èŒƒå›´å†…</li>\n<li>æ²¡æœ‰åˆå§‹åŒ–å°±ä¸èƒ½å£°æ˜</li>\n</ul>\n<p><strong>å˜é‡æå‡</strong>ï¼š<code>var</code>å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º undefinedï¼›<br><code>let</code>,<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>\n<p><strong>æš‚æ—¶æ€§æ­»åŒº</strong>ï¼š<code>var</code>ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼›<code>let</code>ã€<code>const</code>å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰å£°æ˜å˜é‡åï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚</p>\n<p><strong>é‡å¤å£°æ˜</strong>ï¼š<code>var</code>å…è®¸é‡å¤å£°æ˜ï¼›<code>lat</code>ã€<code>const</code>åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜ã€‚</p>\n<p><strong>ä¿®æ”¹å£°æ˜çš„å˜é‡</strong>ï¼š<code>var</code>å’Œ<code>let</code>å¯ä»¥ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼›<code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>\n<h1 id=\"é¢è¯•é¢˜\"><a href=\"#é¢è¯•é¢˜\" class=\"headerlink\" title=\"é¢è¯•é¢˜\"></a>é¢è¯•é¢˜</h1><h3 id=\"1-è¯·é—®-varã€let-å’Œ-const-æœ‰ä½•åŒºåˆ«ï¼Ÿ\"><a href=\"#1-è¯·é—®-varã€let-å’Œ-const-æœ‰ä½•åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ\"></a>1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ</h3><p><strong>ä½œç”¨åŸŸä¸åŒï¼š</strong></p>\n<p>var å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ–è€…è¯´å¯¹äºå£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡æ¥è¯´æ˜¯å…¨å±€çš„</p>\n<p>let ã€ const å£°æ˜çš„æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼Œåªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p>\n<p><strong>å˜é‡æå‡ç°è±¡ï¼š</strong></p>\n<p>var å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œå¹¶åˆå§‹åŒ–ä¸º undefined</p>\n<p>letã€ const å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œä½†åœ¨å£°æ˜ä»£ç å‰ä¸èƒ½ä½¿ç”¨ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ï¼Œä¼šè¢«åˆå§‹åŒ– undefined</p>\n<p><strong>å˜é‡&#x2F;å¸¸é‡ï¼š</strong></p>\n<p>var å’Œ let å£°æ˜å˜é‡ï¼Œconst å£°æ˜åªè¯»å¸¸é‡</p>\n<p><strong>æš‚æ—¶æ€§æ­»åŒºï¼š</strong></p>\n<p>var å¯ä»¥å…ˆä½¿ç”¨ï¼Œåå£°æ˜ï¼Œå€¼ä¸º undefined</p>\n<p>let ã€const å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼›ä¸” const å¿…é¡»åˆå§‹åŒ–èµ‹å€¼</p>\n<p>åœ¨ letã€const å£°æ˜ä¹‹å‰å°±è®¿é—®å¯¹åº”çš„å˜é‡ä¸å¸¸é‡ï¼Œä¼šæŠ›å‡º ReferenceErrorï¼Œäº§ç”ŸåŸå› ï¼š</p>\n<p>ç”± let&#x2F;const å£°æ˜çš„å˜é‡ï¼Œå½“å®ƒä»¬åŒ…å«çš„è¯æ³•ç¯å¢ƒ(Lexical Environment)è¢«å®ä¾‹åŒ–æ—¶ä¼šè¢«åˆ›å»ºï¼Œä½†åªæœ‰åœ¨å˜é‡çš„è¯æ³•ç»‘å®š(LexicalBinding)å·²ç»è¢«æ±‚å€¼è¿ç®—åï¼Œæ‰èƒ½å¤Ÿè¢«è®¿é—®ï¼ˆæ‘˜è‡ª ES2015 è¯­è¨€æ ‡å‡†ï¼‰</p>\n<p>ç®€å•æ¥è¯´ï¼šç”¨ let&#x2F;const å£°æ˜çš„å˜é‡ä¼šå…ˆåœ¨ä½œç”¨åŸŸä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ­¤æ—¶è¿˜æœªè¿›è¡Œè¯æ³•ç»‘å®šï¼Œæ˜¯ä¸èƒ½è¢«è®¿é—®çš„ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚<strong>ä»åœ¨ä½œç”¨åŸŸåˆ›å»ºå˜é‡å¼€å§‹ï¼Œåˆ°å˜é‡å¼€å§‹å¯è¢«è®¿é—®ä¹‹é—´çš„ä¸€æ®µæ—¶é—´ï¼Œç§°ä¹‹ä¸º TDZ(æš‚æ—¶æ€§æ­»åŒº)</strong></p>\n<h3 id=\"2-const-å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\"><a href=\"#2-const-å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\" class=\"headerlink\" title=\"2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\"></a>2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ</h3><p>å®é™…ä¸Šï¼Œä¸æ˜¯ const å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºåŸºç¡€ç±»å‹æ•°æ®ï¼Œå€¼ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œç­‰åŒäºå¸¸é‡</p>\n<p>å¯¹äºå¤åˆç±»å‹æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconst åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸å˜çš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œæ˜¯ä¸å¯æ§çš„ã€‚</p>\n<p>ä¾‹å¦‚ const å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼æ˜¯å¯å˜çš„ã€‚</p>\n<p><strong>åŸæ–‡åœ°å€</strong> <a href=\"https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/README.md\">ç¬¬ä¸€ç«  å˜é‡</a><br><strong>ä¸‹ä¸€ç« </strong>ï¼š<a href=\"https://github.com/yihan12/build-up_ES6/blob/main/strings/README.md\">ç¬¬äºŒç«  æ¨¡æ¿å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ–°ç‰¹æ€§</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h1 id=\"æ¦‚è§ˆ\"><a href=\"#æ¦‚è§ˆ\" class=\"headerlink\" title=\"æ¦‚è§ˆ\"></a>æ¦‚è§ˆ</h1><p>ES6 æ–°å¢äº†ä¸¤ä¸ªå®šä¹‰å˜é‡çš„å…³é”®å­—ï¼š<code>let</code> ä¸ <code>const</code>ï¼Œå®ƒä»¬å‡ ä¹å–ä»£äº† ES5 å®šä¹‰å˜é‡çš„æ–¹å¼ï¼š<code>var</code>ã€‚<code>let</code>æ˜¯æ–°çš„<code>var</code>,<code>const</code>ç®€å•çš„å¸¸é‡å£°æ˜ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">f</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> x</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">// okay, block scoped name</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> x = <span class=\"string\">&#x27;sneaky&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// error, const</span></span><br><span class=\"line\">      x = <span class=\"string\">&#x27;foo&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// error, already declared in block</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> x = <span class=\"string\">&#x27;inner&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ES6 ä¹‹å‰å˜é‡ä¹‹å‰å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>JS æ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚åœ¨ JS å‡½æ•°ä¸­çš„ var å£°æ˜ï¼Œå…¶ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½“çš„å…¨éƒ¨ã€‚</li>\n<li>å¾ªç¯å†…å˜é‡è¿‡åº¦å…±äº«</li>\n</ul>\n<h1 id=\"å—çº§ä½œç”¨åŸŸ\"><a href=\"#å—çº§ä½œç”¨åŸŸ\" class=\"headerlink\" title=\"å—çº§ä½œç”¨åŸŸ\"></a>å—çº§ä½œç”¨åŸŸ</h1><p><code>let</code>,<code>const</code>åˆ›å»ºçš„å˜é‡éƒ½æ˜¯<strong>å—çº§ä½œç”¨åŸŸ</strong>ï¼šå®ƒä»¬åªå­˜åœ¨åŒ…å›´å®ƒä»¬çš„æœ€æ·±ä»£ç å—ä¸­ã€‚</p>\n<p>ä½œç”¨åŸŸæœ‰å“ªäº›ï¼Ÿ</p>\n<ul>\n<li>å—çº§ä½œç”¨åŸŸ</li>\n<li>å‡½æ•°ä½œç”¨åŸŸ</li>\n<li>å…¨å±€ä½œç”¨åŸŸ</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> tmp = <span class=\"number\">123</span></span><br><span class=\"line\">    <span class=\"comment\">// const tmp = 123;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError: tmp is not defined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError: tmp is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>var</code>å£°æ˜çš„æ˜¯å‡½æ•°åŸŸã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> tmp = <span class=\"number\">123</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// 123</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// tmp is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹é¢çš„å¼å­æ›´éš¾çœ‹å‡ºå‡½æ•°ä½œç”¨åŸŸä¸å—çº§ä½œç”¨åŸŸçš„åŒºåˆ«</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">myFunc</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> number1 = <span class=\"number\">15</span> <span class=\"comment\">// å‡½æ•°ä½œç”¨åŸŸ</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> number1 = <span class=\"number\">20</span> <span class=\"comment\">// å—çº§ä½œç”¨åŸŸ</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// 20</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// 15</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">myFunc</span>()</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(number1) <span class=\"comment\">// number1 is not defined</span></span><br></pre></td></tr></table></figure>\n\n<p>è€Œå…¨å±€ä½œç”¨åŸŸï¼Œå¯ä»¥ä» JavaScript ç¨‹åºä¸­çš„ä»»ä½•ä½ç½®è®¿é—®ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> number1 = <span class=\"number\">15</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">number1</span>, globalThis.<span class=\"property\">number1</span>, <span class=\"variable language_\">window</span> === globalThis) <span class=\"comment\">// 15 15 true</span></span><br></pre></td></tr></table></figure>\n\n<p><strong>é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­å®šæ—¶å™¨é—­åŒ…</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//5, 5, 5, 5, 5</span></span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//5 iè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å¤–éƒ¨å‡½æ•°</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å°†varæ”¹æˆletä¹‹å</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; <span class=\"number\">5</span>; i++) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">// 0,1,2,3,4</span></span><br><span class=\"line\">  &#125;, <span class=\"number\">0</span>)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(i) <span class=\"comment\">//i is not defined iæ— æ³•æ±¡æŸ“å¤–éƒ¨å‡½æ•°</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨ for å¾ªç¯ä¸­ä½¿ç”¨ var å£°æ˜çš„å¾ªç¯å˜é‡ï¼Œä¼šè·³å‡ºå¾ªç¯ä½“æ±¡æŸ“å½“å‰çš„å‡½æ•°ã€‚</p>\n<h1 id=\"TDZ\"><a href=\"#TDZ\" class=\"headerlink\" title=\"TDZ\"></a>TDZ</h1><blockquote>\n<p><code>let</code>ã€<code>const</code>æš‚æ—¶æ€§æ­»åŒºï¼ˆtemporal dead zoneï¼‰</p>\n</blockquote>\n<p><code>let</code>,<code>const</code>å£°æ˜çš„å˜é‡æ‹¥æœ‰<strong>æš‚æ—¶æ€§æ­»åŒº</strong>ï¼šå½“è¿›å…¥å®ƒçš„ä½œç”¨åŸŸï¼Œå®ƒä¸èƒ½è¢«è®¿é—®ï¼ˆè·å–æˆ–è®¾ç½®ï¼‰ç›´åˆ°æ‰§è¡Œåˆ°è¾¾å£°æ˜ã€‚<br>ç®€å•æè¿°ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">//è¿™å—åŒºåŸŸæ˜¯TDZ</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(a) <span class=\"comment\">// Uncaught ReferenceError: Cannot access &#x27;a&#x27; before initialization</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">  <span class=\"comment\">// const a = 1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// enter new scope, TDZ starts</span></span><br><span class=\"line\">  <span class=\"comment\">// Uninitialized binding for `tmp` is created</span></span><br><span class=\"line\"></span><br><span class=\"line\">  tmp = <span class=\"string\">&#x27;abc&#x27;</span> <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// ReferenceError</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> tmp <span class=\"comment\">// TDZ ends, `tmp` is initialized with `undefined`</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// undefined</span></span><br><span class=\"line\"></span><br><span class=\"line\">  tmp = <span class=\"number\">123</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(tmp) <span class=\"comment\">// 123</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸‹é¢ç¤ºä¾‹å°†æ¼”ç¤ºæ­»åŒºï¼ˆdead zoneï¼‰æ˜¯çœŸæ­£çŸ­æš‚æ—¶é—´çš„ï¼ˆåŸºäºæ—¶é—´ï¼‰å’Œä¸å—ç©ºé—´æ¡ä»¶é™åˆ¶ï¼ˆåŸºäºä½ç½®ï¼‰</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> (<span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// enter new scope, TDZ starts</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> func = <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(myVar) <span class=\"comment\">// OK!</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// Here we are within the TDZ and</span></span><br><span class=\"line\">  <span class=\"comment\">// accessing `myVar` would cause a `ReferenceError`</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">let</span> myVar = <span class=\"number\">3</span> <span class=\"comment\">// TDZ ends</span></span><br><span class=\"line\">  <span class=\"title function_\">func</span>() <span class=\"comment\">// called outside TDZ</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ° let myVar å˜é‡è¢«å®šä¹‰äº†ï¼Œä½†æ˜¯ä¸åƒ var ä¸€æ ·è¢«æå‡ã€‚é‚£å®ƒåˆå§‹åŒ–äº†å—ï¼Ÿæ²¡æœ‰ï¼Œè¿™å°±æ˜¯ TDZ åœ¨è¿›å…¥å—çº§ä½œç”¨åŸŸå°±å­˜åœ¨çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œå½“ let myVar å°†è¢«å®šä¹‰æ—¶ï¼Œå®ƒå°†è¿›å…¥ TDZï¼Œå¹¶åœ¨æ‚¨å£°æ˜å’Œåˆå§‹åŒ–å®ƒæ—¶ç»“æŸã€‚æ‰€ä»¥åœ¨èŒƒå›´ä¸­ï¼Œå®ƒå°†é¦–å…ˆåœ¨ TDZ ä¸­ï¼Œä½†æ˜¯ä¸€æ—¦åˆ°è¾¾å£°æ˜éƒ¨åˆ†ï¼ŒTDZ å°±ä¼šç»“æŸã€‚</p>\n<h4 id=\"ä¸ºä»€ä¹ˆä¼šå­˜åœ¨-TDZ\"><a href=\"#ä¸ºä»€ä¹ˆä¼šå­˜åœ¨-TDZ\" class=\"headerlink\" title=\"ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?\"></a>ä¸ºä»€ä¹ˆä¼šå­˜åœ¨ TDZ?</h4><ul>\n<li>å®ƒå¸®åŠ©æˆ‘ä»¬å‘ç°é”™è¯¯ã€‚</li>\n<li>åœ¨å£°æ˜å˜é‡ä¹‹å‰å°è¯•è®¿é—®å®ƒæ˜¯é”™è¯¯çš„æ–¹å¼ã€‚</li>\n</ul>\n<blockquote>\n<p>ä¸ºé¿å… TDZï¼Œè¯·å§‹ç»ˆç¡®ä¿åœ¨ä»»ä½•èŒƒå›´çš„é¡¶éƒ¨å®šä¹‰ let å’Œ constã€‚</p>\n</blockquote>\n<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡åˆ†è§£æ¥ç®€å•åœ°ç†è§£è¿™ä¸ªæœ¯è¯­ã€‚æ—¶é—´æ„å‘³ç€æš‚æ—¶çš„ä¸œè¥¿ï¼Œæ­»äº¡æ„å‘³ç€æ²¡æœ‰ç”Ÿå‘½çš„çŠ¶æ€ï¼Œç¼–ç¨‹ä¸–ç•Œä¸­ä¸å†…å­˜ç›¸å…³çš„åŒºåŸŸã€‚æ‰€ä»¥å˜é‡æš‚æ—¶ä¸å¯ç”¨ï¼ˆæˆ–æ­»äº¡ï¼‰çš„æ—¶åŒºåœ¨ TDZ ä¸­ã€‚</p>\n<p>æˆ–è€…ç®€å•åœ°è¯´ï¼Œè¿›å…¥å—çº§ä½œç”¨åŸŸä¸å…¶å˜é‡åˆ›å»ºå£°æ˜ä¹‹é—´çš„æ—¶é—´è·¨åº¦ç§°ä¸ºæ—¶é—´æ­»åŒºã€‚</p>\n<h1 id=\"å˜é‡æå‡\"><a href=\"#å˜é‡æå‡\" class=\"headerlink\" title=\"å˜é‡æå‡\"></a>å˜é‡æå‡</h1><blockquote>\n<p><code>var</code>å˜é‡æå‡</p>\n</blockquote>\n<p>JavaScript ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸è¯´çš„ä½œç”¨åŸŸæ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä½¿ç”¨ var å£°æ˜çš„å˜é‡ï¼Œæ— è®ºæ˜¯åœ¨ä»£ç çš„å“ªä¸ªåœ°æ–¹å£°æ˜çš„ï¼Œéƒ½ä¼šæå‡åˆ°å½“å‰ä½œç”¨åŸŸçš„æœ€é¡¶éƒ¨ï¼Œè¿™ç§è¡Œä¸ºå«åš<strong>å˜é‡æå‡ï¼ˆHoistingï¼‰</strong></p>\n<p>ä¸‹é¢ä»£ç ï¼Œæ¼”ç¤ºäº†å‡½æ•°çš„å˜é‡æå‡ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"comment\">// Enter a new scope</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"title function_\">foo</span>()) <span class=\"comment\">// hello, due to hoisting</span></span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">foo</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&#x27;hello&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡ï¼Œéƒ½ä¼šè¢«æå‡åˆ°å‡½æ•°å¼€å¤´ï¼Œè€Œåœ¨å…¨å±€çš„å£°æ˜ï¼Œå°±ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">test</span>()</span><br></pre></td></tr></table></figure>\n\n<p>å®é™…æ‰§è¡Œæ—¶ï¼Œä¸Šé¢çš„ä»£ç ä¸­çš„å˜é‡ a ä¼šæå‡åˆ°å‡½æ•°é¡¶éƒ¨å£°æ˜ï¼Œå³ä½¿ if è¯­å¥çš„æ¡ä»¶æ˜¯ falseï¼Œä¹Ÿä¸€æ ·ä¸å½±å“ a çš„æå‡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a</span><br><span class=\"line\">  <span class=\"comment\">//aå£°æ˜æ²¡æœ‰èµ‹å€¼</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;1: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">    a = <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">//aå£°æ˜æ²¡æœ‰èµ‹å€¼</span></span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;3: &#x27;</span>, a) <span class=\"comment\">//undefined</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨åµŒå¥—å‡½æ•°çš„æƒ…å†µï¼Œå˜é‡åªä¼šæå‡åˆ°æœ€è¿‘ä¸€ä¸ªå‡½æ•°çš„é¡¶éƒ¨ï¼Œè€Œä¸ä¼šåˆ°å¤–éƒ¨å‡½æ•°ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//bæå‡åˆ°å‡½æ•°aé¡¶éƒ¨ï¼Œä½†ä¸ä¼šæå‡åˆ°å‡½æ•°testã€‚</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">test</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">function</span> <span class=\"title function_\">a</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (<span class=\"literal\">false</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> b = <span class=\"number\">2</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;b: &#x27;</span>, b)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">test</span>() <span class=\"comment\">//b is not defined</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"ä¸å…è®¸é‡å¤å£°æ˜\"><a href=\"#ä¸å…è®¸é‡å¤å£°æ˜\" class=\"headerlink\" title=\"ä¸å…è®¸é‡å¤å£°æ˜\"></a>ä¸å…è®¸é‡å¤å£°æ˜</h1><blockquote>\n<p><code>let</code>ä¸å…è®¸é‡å¤å£°æ˜</p>\n</blockquote>\n<p><code>let</code>ä¸å…è®¸åœ¨ç›¸åŒä½œç”¨åŸŸå†…ï¼Œé‡å¤å£°æ˜åŒä¸€ä¸ªå˜é‡ã€‚</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŠ¥é”™</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">10</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> a = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å› æ­¤åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½é‡æ–°å£°æ˜å‡½æ•°</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">arg</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> arg</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>() <span class=\"comment\">// æŠ¥é”™ Identifier &#x27;arg&#x27; has already been declared</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">func</span>(<span class=\"params\">arg</span>) &#123;</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> arg</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">func</span>() <span class=\"comment\">// ä¸æŠ¥é”™</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"const-å‘½ä»¤\"><a href=\"#const-å‘½ä»¤\" class=\"headerlink\" title=\"const å‘½ä»¤\"></a>const å‘½ä»¤</h1><blockquote>\n<p>const å£°æ˜ä¸€ä¸ªåªè¯»çš„å¸¸é‡ã€‚ä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>\n</blockquote>\n<p>ä¸€èˆ¬ä½¿ç”¨åœºæ™¯ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> start = <span class=\"string\">&#x27;hi all&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">getName</span> = (<span class=\"params\"></span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"string\">&#x27;jelly&#x27;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> conf = &#123;</span><br><span class=\"line\">  <span class=\"attr\">fav</span>: <span class=\"string\">&#x27;Coding&#x27;</span>,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¨¡æ¿</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> msg = <span class=\"string\">`<span class=\"subst\">$&#123;start&#125;</span>, my name is <span class=\"subst\">$&#123;getName()&#125;</span>, <span class=\"subst\">$&#123;conf.fav&#125;</span> is my favourite`</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹ï¼š</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. ä¸å¼•å·æ··ç”¨</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> wantToSay = <span class=\"string\">`I&#x27;m a &quot;tbfed&quot;`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 2. æ”¯æŒå¤šè¡Œæ–‡æœ¬</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> slogan = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">I have a dream today!</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æ¯”è¾ƒé€‚åˆå†™HTML</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> resultTpl = <span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">  &lt;section&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div&gt;...&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">  &lt;/section&gt;</span></span><br><span class=\"line\"><span class=\"string\">`</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>åœ¨ JavaScript ä¸­ï¼Œconst ä»…è¡¨ç¤ºç»‘å®šï¼ˆå˜é‡åå’Œå˜é‡å€¼ä¹‹é—´çš„å…³è”ï¼‰æ˜¯ä¸å¯å˜çš„ã€‚å€¼æœ¬èº«å¯èƒ½æ˜¯å¯å˜çš„ï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„ objã€‚</p>\n</blockquote>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123; <span class=\"attr\">prop</span>: <span class=\"number\">0</span> &#125;</span><br><span class=\"line\">obj.<span class=\"property\">prop</span> = obj.<span class=\"property\">prop</span> + <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(obj.<span class=\"property\">prop</span>) <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\"><a href=\"#å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\" class=\"headerlink\" title=\"å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡\"></a>å…¨å±€å˜é‡å’Œå…¨å±€å¯¹è±¡</h1><p>åœ¨ Web æµè§ˆå™¨ä¸­ï¼Œå”¯ä¸€ç›´æ¥ä½äºè¯¥èŒƒå›´å†…çš„ä½ç½®æ˜¯è„šæœ¬çš„é¡¶å±‚ã€‚å…¨å±€èŒƒå›´çš„å˜é‡ç§°ä¸ºå…¨å±€å˜é‡ï¼Œå¯ä»¥éšå¤„è®¿é—®ã€‚æœ‰ä¸¤ç§å…¨å±€å˜é‡ï¼š</p>\n<ul>\n<li>å…¨å±€å£°æ˜å˜é‡æ˜¯æ™®é€šå˜é‡ã€‚<br>å®ƒä»¬åªèƒ½åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ constã€let å’Œç±»å£°æ˜åˆ›å»ºã€‚</li>\n<li>å…¨å±€å¯¹è±¡å˜é‡è¢«å­˜å‚¨åœ¨æ‰€è°“å…¨å±€å¯¹è±¡çš„å±æ€§ä¸­ã€‚<br>å®ƒä»¬æ˜¯åœ¨è„šæœ¬çš„é¡¶å±‚é€šè¿‡ var å’Œå‡½æ•°å£°æ˜åˆ›å»ºçš„ã€‚<br>å¯ä»¥é€šè¿‡å…¨å±€å˜é‡ globalThis è®¿é—®å…¨å±€å¯¹è±¡ï¼Œå®ƒå¯ä»¥ç”¨æ¥åˆ›å»ºã€è¯»å–å’Œåˆ é™¤å…¨å±€å¯¹è±¡å˜é‡ã€‚<br>é™¤æ­¤ä¹‹å¤–ï¼Œå…¨å±€å¯¹è±¡å˜é‡åƒæ™®é€šå˜é‡ä¸€æ ·å·¥ä½œã€‚</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">window</span> === globalThis <span class=\"comment\">// true</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>) <span class=\"comment\">// 1</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> a = <span class=\"number\">1</span></span><br><span class=\"line\"><span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">window</span>.<span class=\"property\">a</span>) <span class=\"comment\">// 1</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"åŒºåˆ«\"><a href=\"#åŒºåˆ«\" class=\"headerlink\" title=\"åŒºåˆ«\"></a>åŒºåˆ«</h1><p><code>var</code>ã€<code>let</code>å’Œ<code>const</code>æ˜¯ JavaScript ç”¨æ¥å­˜å‚¨å’Œå£°æ˜å˜é‡çš„ç‰¹æ®Šå…³é”®å­—ã€‚å®ƒä»¬æ¯ä¸ªéƒ½æœ‰å”¯ä¸€æ€§ï¼ˆå·®å¼‚ï¼‰ï¼Œå°†ç®€è¦è®¨è®ºã€‚</p>\n<ul>\n<li><strong>ç›¸åŒç‚¹</strong>ï¼š<code>var</code>,<code>let</code>,<code>const</code>å£°æ˜çš„å˜é‡ï¼Œæ˜¯ä¸èƒ½è¢«<code>delete</code>çš„;</li>\n<li><strong>åŒºåˆ«</strong>ï¼š</li>\n</ul>\n<p><code>var</code>:</p>\n<ul>\n<li>var åˆ†åˆ«å…·æœ‰å…¨å±€å’Œå‡½æ•°ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®šä¹‰åœ¨å‡½æ•°å¤–éƒ¨çš„å˜é‡å¯ä»¥å…¨å±€è®¿é—®ï¼Œå®šä¹‰åœ¨ç‰¹å®šå‡½æ•°å†…éƒ¨çš„å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ã€‚</li>\n<li>å…¶æ¬¡ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ var é‡æ–°å£°æ˜å˜é‡ï¼Œç”¨æˆ·å¯ä»¥æ›´æ–° var å˜é‡ã€‚</li>\n<li>å¦‚æœç”¨æˆ·åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ var å˜é‡ï¼Œå®ƒä¼šä½¿ç”¨æœªå®šä¹‰çš„å€¼è¿›è¡Œåˆå§‹åŒ–ï¼Œå€¼ä¸º undefinedã€‚</li>\n</ul>\n<p><code>let</code>:</p>\n<ul>\n<li>let å˜é‡çš„ä½œç”¨åŸŸä»…ä¸ºå—ä½œç”¨åŸŸã€‚å®ƒä¸èƒ½åœ¨ç‰¹å®šåŠŸèƒ½å—ä¹‹å¤–è®¿é—®ï¼Œlet å…³é”®å­—æ˜¯ var å…³é”®å­—çš„æ”¹è¿›ç‰ˆæœ¬ã€‚</li>\n<li>ç”¨æˆ·ä¸èƒ½é‡æ–°å£°æ˜ä½¿ç”¨ let å…³é”®å­—å®šä¹‰çš„å˜é‡ï¼Œä½†å¯ä»¥æ›´æ–°å®ƒã€‚</li>\n<li>ç”¨æˆ·å¯ä»¥ä½¿ç”¨ let å…³é”®å­—åœ¨ä¸åŒçš„åŠŸèƒ½å—ä¸­å£°æ˜åŒåå˜é‡ã€‚</li>\n<li>æ— éœ€åˆå§‹åŒ–å³å¯å£°æ˜ã€‚</li>\n</ul>\n<p><code>const</code>:</p>\n<ul>\n<li>const å˜é‡çš„ä½œç”¨åŸŸæ˜¯å—ä½œç”¨åŸŸã€‚</li>\n<li>å®ƒä¸èƒ½æ›´æ–°æˆ–é‡æ–°å£°æ˜åˆ°èŒƒå›´å†…</li>\n<li>æ²¡æœ‰åˆå§‹åŒ–å°±ä¸èƒ½å£°æ˜</li>\n</ul>\n<p><strong>å˜é‡æå‡</strong>ï¼š<code>var</code>å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå³å˜é‡å¯ä»¥åœ¨å£°æ˜ä¹‹å‰è°ƒç”¨ï¼Œå€¼ä¸º undefinedï¼›<br><code>let</code>,<code>const</code>ä¸å­˜åœ¨å˜é‡æå‡ï¼Œå³å®ƒä»¬å£°æ˜çš„å˜é‡ä¸€å®šè¦åœ¨å£°æ˜åä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</p>\n<p><strong>æš‚æ—¶æ€§æ­»åŒº</strong>ï¼š<code>var</code>ä¸å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼›<code>let</code>ã€<code>const</code>å­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œåªæœ‰ç­‰å£°æ˜å˜é‡åï¼Œæ‰å¯ä»¥è·å–å’Œä½¿ç”¨è¯¥å˜é‡ã€‚</p>\n<p><strong>é‡å¤å£°æ˜</strong>ï¼š<code>var</code>å…è®¸é‡å¤å£°æ˜ï¼›<code>lat</code>ã€<code>const</code>åœ¨åŒä¸€ä½œç”¨åŸŸä¸å…è®¸é‡å¤å£°æ˜ã€‚</p>\n<p><strong>ä¿®æ”¹å£°æ˜çš„å˜é‡</strong>ï¼š<code>var</code>å’Œ<code>let</code>å¯ä»¥ä¿®æ”¹å£°æ˜çš„å˜é‡ï¼›<code>const</code>å£°æ˜ä¸€ä¸ªåªè¯»å¸¸é‡ï¼Œä¸€æ—¦å£°æ˜ï¼Œå¸¸é‡çš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚</p>\n<h1 id=\"é¢è¯•é¢˜\"><a href=\"#é¢è¯•é¢˜\" class=\"headerlink\" title=\"é¢è¯•é¢˜\"></a>é¢è¯•é¢˜</h1><h3 id=\"1-è¯·é—®-varã€let-å’Œ-const-æœ‰ä½•åŒºåˆ«ï¼Ÿ\"><a href=\"#1-è¯·é—®-varã€let-å’Œ-const-æœ‰ä½•åŒºåˆ«ï¼Ÿ\" class=\"headerlink\" title=\"1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ\"></a>1.è¯·é—® varã€let å’Œ const æœ‰ä½•åŒºåˆ«ï¼Ÿ</h3><p><strong>ä½œç”¨åŸŸä¸åŒï¼š</strong></p>\n<p>var å£°æ˜çš„å˜é‡çš„ä½œç”¨åŸŸæ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæˆ–è€…è¯´å¯¹äºå£°æ˜åœ¨ä»»ä½•å‡½æ•°å¤–çš„å˜é‡æ¥è¯´æ˜¯å…¨å±€çš„</p>\n<p>let ã€ const å£°æ˜çš„æ˜¯å—çº§ä½œç”¨åŸŸå˜é‡ï¼Œåªåœ¨å®ƒæ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆ</p>\n<p><strong>å˜é‡æå‡ç°è±¡ï¼š</strong></p>\n<p>var å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸé¡¶éƒ¨ï¼Œå¹¶åˆå§‹åŒ–ä¸º undefined</p>\n<p>letã€ const å£°æ˜çš„å˜é‡ä¼šè¢«æå‡åˆ°é¡¶éƒ¨ï¼Œä½†åœ¨å£°æ˜ä»£ç å‰ä¸èƒ½ä½¿ç”¨ï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰ï¼Œä¼šè¢«åˆå§‹åŒ– undefined</p>\n<p><strong>å˜é‡&#x2F;å¸¸é‡ï¼š</strong></p>\n<p>var å’Œ let å£°æ˜å˜é‡ï¼Œconst å£°æ˜åªè¯»å¸¸é‡</p>\n<p><strong>æš‚æ—¶æ€§æ­»åŒºï¼š</strong></p>\n<p>var å¯ä»¥å…ˆä½¿ç”¨ï¼Œåå£°æ˜ï¼Œå€¼ä¸º undefined</p>\n<p>let ã€const å¿…é¡»å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼›ä¸” const å¿…é¡»åˆå§‹åŒ–èµ‹å€¼</p>\n<p>åœ¨ letã€const å£°æ˜ä¹‹å‰å°±è®¿é—®å¯¹åº”çš„å˜é‡ä¸å¸¸é‡ï¼Œä¼šæŠ›å‡º ReferenceErrorï¼Œäº§ç”ŸåŸå› ï¼š</p>\n<p>ç”± let&#x2F;const å£°æ˜çš„å˜é‡ï¼Œå½“å®ƒä»¬åŒ…å«çš„è¯æ³•ç¯å¢ƒ(Lexical Environment)è¢«å®ä¾‹åŒ–æ—¶ä¼šè¢«åˆ›å»ºï¼Œä½†åªæœ‰åœ¨å˜é‡çš„è¯æ³•ç»‘å®š(LexicalBinding)å·²ç»è¢«æ±‚å€¼è¿ç®—åï¼Œæ‰èƒ½å¤Ÿè¢«è®¿é—®ï¼ˆæ‘˜è‡ª ES2015 è¯­è¨€æ ‡å‡†ï¼‰</p>\n<p>ç®€å•æ¥è¯´ï¼šç”¨ let&#x2F;const å£°æ˜çš„å˜é‡ä¼šå…ˆåœ¨ä½œç”¨åŸŸä¸­è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½†æ­¤æ—¶è¿˜æœªè¿›è¡Œè¯æ³•ç»‘å®šï¼Œæ˜¯ä¸èƒ½è¢«è®¿é—®çš„ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚<strong>ä»åœ¨ä½œç”¨åŸŸåˆ›å»ºå˜é‡å¼€å§‹ï¼Œåˆ°å˜é‡å¼€å§‹å¯è¢«è®¿é—®ä¹‹é—´çš„ä¸€æ®µæ—¶é—´ï¼Œç§°ä¹‹ä¸º TDZ(æš‚æ—¶æ€§æ­»åŒº)</strong></p>\n<h3 id=\"2-const-å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\"><a href=\"#2-const-å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\" class=\"headerlink\" title=\"2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ\"></a>2.const å£°æ˜çš„å˜é‡æ˜¯ç»å¯¹çš„ä¸å¯å˜å—ï¼Ÿ</h3><p>å®é™…ä¸Šï¼Œä¸æ˜¯ const å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºåŸºç¡€ç±»å‹æ•°æ®ï¼Œå€¼ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œç­‰åŒäºå¸¸é‡</p>\n<p>å¯¹äºå¤åˆç±»å‹æ•°æ®ï¼ˆä¸»è¦æ˜¯å¯¹è±¡å’Œæ•°ç»„ï¼‰ï¼Œå˜é‡æŒ‡å‘çš„å†…å­˜åœ°å€ï¼Œä¿å­˜çš„åªæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œconst åªèƒ½ä¿è¯è¿™ä¸ªæŒ‡é’ˆæ˜¯ä¸å˜çš„ï¼Œè‡³äºå®ƒæŒ‡å‘çš„æ•°æ®ç»“æ„æ˜¯å¦å˜åŒ–ï¼Œæ˜¯ä¸å¯æ§çš„ã€‚</p>\n<p>ä¾‹å¦‚ const å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„å±æ€§çš„å€¼æ˜¯å¯å˜çš„ã€‚</p>\n<p><strong>åŸæ–‡åœ°å€</strong> <a href=\"https://github.com/yihan12/build-up_ES6-ES12/blob/main/variable/README.md\">ç¬¬ä¸€ç«  å˜é‡</a><br><strong>ä¸‹ä¸€ç« </strong>ï¼š<a href=\"https://github.com/yihan12/build-up_ES6/blob/main/strings/README.md\">ç¬¬äºŒç«  æ¨¡æ¿å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ–°ç‰¹æ€§</a></p>\n"},{"title":"ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰","date":"2022-07-20T15:36:24.591Z","_content":"\n## å‰è¨€\n\næ•°ç»„å»é‡åœ¨é¢è¯•å’Œå·¥ä½œä¸­éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“è§åˆ°çš„é—®é¢˜ã€‚\n\nè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ¥æµ‹è¯•å¤šä¸ªæ–¹æ³•ï¼Œå¯¹ä¸‹é¢è¿™ä¸ªæ•°ç»„çš„å»é‡ç»“æœè¿›è¡Œåˆ†æè®¨è®ºã€‚å¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚\n\n```\n const arr = [ 1, 1, \"1\", \"1\", 0, 0, \"0\", \"0\", true, false, \"true\", \"false\", \"a\", \"A\", undefined, undefined, \"undefined\", null, null, 'null', NaN, NaN, +0, -0, new String(\"1\"), new String(\"1\"), Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], [] ];\n```\n\n## ç‰¹æ®Šç±»å‹\n\n```\nconsole.log(1 == \"1\"); // true\nconsole.log(1 === \"1\"); // false\n\nconsole.log(0 == \"0\"); // true\nconsole.log(0 === \"0\"); // false\n\nconsole.log(0 == +0); // true\nconsole.log(0 === +0); // true\n\nconsole.log(0 == -0); // true\nconsole.log(0 === -0); // true\n\nconsole.log(+0 == -0); // true\nconsole.log(+0 === -0); // true\n\nconsole.log(0 == false); // true\nconsole.log(0 === false); // false\n\nconsole.log(0 == undefined); // false\nconsole.log(0 === undefined); // false\n\nconsole.log(0 == null); // false\nconsole.log(0 === null); // false\n\nconsole.log(1 == true); // true\nconsole.log(1 === true); // false\n\nconsole.log(undefined == null); // true\nconsole.log(undefined === null); // false\n\nconsole.log(NaN == NaN); // false\nconsole.log(NaN === NaN); // false\n\nconsole.log(new String(\"1\") == new String(\"1\")); // false\nconsole.log(new String(\"1\") === new String(\"1\")); // false\nObject.prototype.toString.call(new String('1')) // '[object String]'\n\n\nconsole.log(/a/ == /a/); // false\nconsole.log(/a/ === /a/); // false\nObject.prototype.toString.call(/a/); //'[object RegExp]'\n\n\nconsole.log(Symbol(1) == Symbol(1)); // false\nconsole.log(Symbol(1) === Symbol(1)); // false\n\nconsole.log({} == {}); // false\nconsole.log({} === {}); // false\n\nconsole.log([] == []); // false\nconsole.log([] === []); // false\n```\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢å¤šä¸ªå»é‡æ–¹æ³•ï¼Œå¯¹ä»¥ä¸Šç‰¹æ®Šç±»å‹çš„å»é‡æ•ˆæœã€‚\n\n## ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\n\n```\n// æš´åŠ›è§£æ³•ä¸€\n\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n    const res = [array[0]];\n    let arrLen = array.length;\n    let resLen = res.length;\n\n    for (let i = 0; i < arrLen; i++) {\n      let flag = true;\n      for (let j = 0; j < resLen; j++) {\n        if (array[i] === res[j]) {\n          flag = false;\n          break;\n        }\n      }\n      if (flag) {\n        res.push(array[i]);\n        resLen = res.length;\n      }\n    }\n    return res;\n}\n// [1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\næš´åŠ›è§£æ³•ï¼Œç®€å•æ˜“ç†è§£ï¼Œå…¼å®¹æ€§å¥½ã€‚å»é‡ç»“æœå¦‚ä¸Šæ‰€ç¤ºã€‚\n\n## ä»£ç äºŒï¼ˆES6ï¼‰\n\n```\n// ES6 Array.from + Set æ–¹æ³•ä¸€\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return Array.from(new Set(array))\n}\n\n// ES6 ç‚¹è¿ç®— + Set æ–¹æ³•äºŒ\nfunction unique1(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return [...new Set(arr)]\n}\n\n// ES6 ç®­å¤´å‡½æ•° + ç‚¹è¿ç®— + Set æ–¹æ³•ä¸‰\nconst unique2 = (array) => {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return [...new Set(arr)]\n}\n\n// ES6 Map + ES5 filter  æ–¹æ³•å››\nfunction unique3(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    const seen = new Map()\n    return array.filter((a) => !seen.has(a) && seen.set(a, 1))\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n### ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰\n\n> åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\n\n```\n// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n        console.log('type error!')\n        return\n    }\n    const newArr = [];\n    array.forEach((el) => {\n      if (newArr.indexOf(el) === -1) {\n        newArr.push(el);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n### ä»£ç å››ï¼ˆindexOf + filterï¼‰\n\n> åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯å¦å’Œå…ƒç´ ç°åœ¨çš„ä½ç½®ç›¸ç­‰\n\n```\n// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n        console.log('type error!')\n        return\n    }\n    return array.filter((item, index) => {\n        return array.indexOf(item) === index;\n    });\n}\n\nconsole.log([NaN].indexOf(NaN)); // -1\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. **ä¸¤ä¸ª`NaN`éƒ½ä¼šè¢«åˆ é™¤**\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n**é‡ç‚¹ï¼š**\n\n```\nconsole.log([NaN].indexOf(NaN)); // -1\n```\n\n## ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰\n\n> sort()æ–¹æ³•ä¸»è¦æ˜¯ç”¨äºå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•æ˜¯å°†æ•°ç»„å…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ç…§ ASC ç è¿›è¡Œæ’åº\n\n```\n// sort()æ–¹æ³•ä¸æ”¯æŒSymbolï¼ŒSymbolä¸æ”¯æŒè½¬æ¢æˆå­—ç¬¦ä¸²\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n    const sortArr = array.sort();\n    const newArr = [];\n    sortArr.forEach((el, i) => {\n      if (sortArr[i] !== sortArr[i - 1]) {\n        newArr.push(el);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[[], [], /a/, /a/, 0, \"0\", 0, 1, \"1\", String {'1'}, String {'1'}, \"A\", NaN, NaN, {}, {}, \"a\", false, \"false\", null, \"null\", true, \"true\", \"undefined\", undefined]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. `+0`ã€`-0`ã€`0`ã€`\"0\"`ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº†\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. **sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰`Symbol`çš„æ•°ç»„**\n\n## ä»£ç å…­ï¼ˆincludesï¼‰\n\n> åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\n\n```\n// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    const newArr = [];\n    array.forEach((el) => {\n      newArr.includes(el) ? newArr : newArr.push(el);\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol`ä¸å»é‡\n\n## ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰\n\n> åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\n\n```\n// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    return array.reduce((pre, cur) => {\n      !pre.includes(cur) && pre.push(cur);\n      return pre;\n    }, []);\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol`ä¸å»é‡\n\n## ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰\n\n> åˆ©ç”¨äº†å¯¹è±¡çš„ key ä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡\n\n```\n// åˆ©ç”¨äº†å¯¹è±¡çš„keyä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    const obj = {};\n    const newArr = [];\n    array.forEach((val) => {\n      if (!obj[typeof val + JSON.stringify(val)]) {\n        // å°†å¯¹è±¡åºåˆ—åŒ–ä¹‹åä½œä¸ºkeyæ¥ä½¿ç”¨\n        obj[typeof val + JSON.stringify(val)] = 1;\n        newArr.push(val);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, Symbol(1), {}, []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. **å»é‡`NaN`**\n3. **å»é‡å¯¹è±¡`new String(\"1\")`ã€`{}`;ä¸¤ä¸ª`/a/`å…¨éƒ¨è¢«åˆ é™¤äº†**\n4. **å»é‡æ•°ç»„`[]`**\n5. **å»é‡`Symbol`**\n\n**å°†ä¸è¯¥å»é‡çš„`Symbol`å»é‡äº†;å°†ä¸¤ä¸ª`/a/`å…¨éƒ¨åˆ é™¤äº†**\n\n## æ€»ç»“\n\n| æ–¹æ³•                         | ç»“æœ                                                                                                                                                                                   | è¯´æ˜                                                                                                                                                   |\n| ---------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| **for å¾ªç¯æš´åŠ›è§£æ³•**         | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]` | 1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                             |\n| **ES6 è§£æ³•**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []`       | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **indexOf + forEach**        | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]` | 1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                             |\n| **indexOf + filter**         | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`           | 1.å»é‡+0ã€-0ã€0ï¼› 2.ä¸¤ä¸ª NaN éƒ½ä¼šè¢«åˆ é™¤ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                    |\n| **sort æ’åºï¼Œä¸æ”¯æŒ Symbol** | `[[], [], /a/, /a/, 0, \"0\", 0, 1, \"1\", String {'1'}, String {'1'}, \"A\", NaN, NaN, {}, {}, \"a\", false, \"false\", null, \"null\", true, \"true\", \"undefined\", undefined]`                    | 1.+0ã€-0ã€0ã€\"0\"ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº† 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰ Symbol çš„æ•°ç»„ï¼› |\n| **includes**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`      | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **includes+reduce**          | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`      | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **å¯¹è±¡ key**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, Symbol(1), {}, []]`                                                 | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å»é‡å¯¹è±¡ new String(\"1\")ã€{};ä¸¤ä¸ª/a/å…¨éƒ¨è¢«åˆ é™¤äº†ï¼›4.å»é‡æ•°ç»„[]ï¼›5.å»é‡ Symbol                                          |\n\nä¸Šé¢åªæ˜¯ç®€å•ç»“æœçš„å»é‡æ€»ç»“ï¼Œå…·ä½“çš„å»é‡é€‰æ‹©è¿˜éœ€è¦æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©å»é‡æ–¹æ³•ã€‚\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/unique)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [è§£é”å¤šç§ JavaScript æ•°ç»„å»é‡å§¿åŠ¿](https://juejin.cn/post/6844903608467587085)\n- [æ•°ç»„å»é‡çš„å…­ç§æ–¹æ³•](https://juejin.cn/post/6844903790257111054)\n- [7 ç§æ–¹æ³•å®ç°æ•°ç»„å»é‡](https://juejin.cn/post/6844903602197102605)\n- [JavaScript ä¸“é¢˜ä¹‹æ•°ç»„å»é‡\n  ](https://github.com/mqyqingfeng/Blog/issues/27)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰](https://github.com/yihan12/Blog/issues/5)\n","source":"_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰.md","raw":"---\ntitle: ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰\ndate:\ntags: [JavaScript]\ncategories: [å‰ç«¯, JavaScript, JavaScriptæ·±å…¥ç†è§£, æ•°ç»„å»é‡]\n---\n\n## å‰è¨€\n\næ•°ç»„å»é‡åœ¨é¢è¯•å’Œå·¥ä½œä¸­éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“è§åˆ°çš„é—®é¢˜ã€‚\n\nè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ¥æµ‹è¯•å¤šä¸ªæ–¹æ³•ï¼Œå¯¹ä¸‹é¢è¿™ä¸ªæ•°ç»„çš„å»é‡ç»“æœè¿›è¡Œåˆ†æè®¨è®ºã€‚å¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚\n\n```\n const arr = [ 1, 1, \"1\", \"1\", 0, 0, \"0\", \"0\", true, false, \"true\", \"false\", \"a\", \"A\", undefined, undefined, \"undefined\", null, null, 'null', NaN, NaN, +0, -0, new String(\"1\"), new String(\"1\"), Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], [] ];\n```\n\n## ç‰¹æ®Šç±»å‹\n\n```\nconsole.log(1 == \"1\"); // true\nconsole.log(1 === \"1\"); // false\n\nconsole.log(0 == \"0\"); // true\nconsole.log(0 === \"0\"); // false\n\nconsole.log(0 == +0); // true\nconsole.log(0 === +0); // true\n\nconsole.log(0 == -0); // true\nconsole.log(0 === -0); // true\n\nconsole.log(+0 == -0); // true\nconsole.log(+0 === -0); // true\n\nconsole.log(0 == false); // true\nconsole.log(0 === false); // false\n\nconsole.log(0 == undefined); // false\nconsole.log(0 === undefined); // false\n\nconsole.log(0 == null); // false\nconsole.log(0 === null); // false\n\nconsole.log(1 == true); // true\nconsole.log(1 === true); // false\n\nconsole.log(undefined == null); // true\nconsole.log(undefined === null); // false\n\nconsole.log(NaN == NaN); // false\nconsole.log(NaN === NaN); // false\n\nconsole.log(new String(\"1\") == new String(\"1\")); // false\nconsole.log(new String(\"1\") === new String(\"1\")); // false\nObject.prototype.toString.call(new String('1')) // '[object String]'\n\n\nconsole.log(/a/ == /a/); // false\nconsole.log(/a/ === /a/); // false\nObject.prototype.toString.call(/a/); //'[object RegExp]'\n\n\nconsole.log(Symbol(1) == Symbol(1)); // false\nconsole.log(Symbol(1) === Symbol(1)); // false\n\nconsole.log({} == {}); // false\nconsole.log({} === {}); // false\n\nconsole.log([] == []); // false\nconsole.log([] === []); // false\n```\n\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢å¤šä¸ªå»é‡æ–¹æ³•ï¼Œå¯¹ä»¥ä¸Šç‰¹æ®Šç±»å‹çš„å»é‡æ•ˆæœã€‚\n\n## ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\n\n```\n// æš´åŠ›è§£æ³•ä¸€\n\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n    const res = [array[0]];\n    let arrLen = array.length;\n    let resLen = res.length;\n\n    for (let i = 0; i < arrLen; i++) {\n      let flag = true;\n      for (let j = 0; j < resLen; j++) {\n        if (array[i] === res[j]) {\n          flag = false;\n          break;\n        }\n      }\n      if (flag) {\n        res.push(array[i]);\n        resLen = res.length;\n      }\n    }\n    return res;\n}\n// [1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\næš´åŠ›è§£æ³•ï¼Œç®€å•æ˜“ç†è§£ï¼Œå…¼å®¹æ€§å¥½ã€‚å»é‡ç»“æœå¦‚ä¸Šæ‰€ç¤ºã€‚\n\n## ä»£ç äºŒï¼ˆES6ï¼‰\n\n```\n// ES6 Array.from + Set æ–¹æ³•ä¸€\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return Array.from(new Set(array))\n}\n\n// ES6 ç‚¹è¿ç®— + Set æ–¹æ³•äºŒ\nfunction unique1(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return [...new Set(arr)]\n}\n\n// ES6 ç®­å¤´å‡½æ•° + ç‚¹è¿ç®— + Set æ–¹æ³•ä¸‰\nconst unique2 = (array) => {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    return [...new Set(arr)]\n}\n\n// ES6 Map + ES5 filter  æ–¹æ³•å››\nfunction unique3(array) {\n    if (!Array.isArray(array)) {\n      console.log('type error!')\n      return\n    }\n    const seen = new Map()\n    return array.filter((a) => !seen.has(a) && seen.set(a, 1))\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n### ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰\n\n> åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\n\n```\n// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n        console.log('type error!')\n        return\n    }\n    const newArr = [];\n    array.forEach((el) => {\n      if (newArr.indexOf(el) === -1) {\n        newArr.push(el);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n### ä»£ç å››ï¼ˆindexOf + filterï¼‰\n\n> åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯å¦å’Œå…ƒç´ ç°åœ¨çš„ä½ç½®ç›¸ç­‰\n\n```\n// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n        console.log('type error!')\n        return\n    }\n    return array.filter((item, index) => {\n        return array.indexOf(item) === index;\n    });\n}\n\nconsole.log([NaN].indexOf(NaN)); // -1\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. **ä¸¤ä¸ª`NaN`éƒ½ä¼šè¢«åˆ é™¤**\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol(1)`ä¸å»é‡\n\n**é‡ç‚¹ï¼š**\n\n```\nconsole.log([NaN].indexOf(NaN)); // -1\n```\n\n## ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰\n\n> sort()æ–¹æ³•ä¸»è¦æ˜¯ç”¨äºå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•æ˜¯å°†æ•°ç»„å…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ç…§ ASC ç è¿›è¡Œæ’åº\n\n```\n// sort()æ–¹æ³•ä¸æ”¯æŒSymbolï¼ŒSymbolä¸æ”¯æŒè½¬æ¢æˆå­—ç¬¦ä¸²\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n    const sortArr = array.sort();\n    const newArr = [];\n    sortArr.forEach((el, i) => {\n      if (sortArr[i] !== sortArr[i - 1]) {\n        newArr.push(el);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[[], [], /a/, /a/, 0, \"0\", 0, 1, \"1\", String {'1'}, String {'1'}, \"A\", NaN, NaN, {}, {}, \"a\", false, \"false\", null, \"null\", true, \"true\", \"undefined\", undefined]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. `+0`ã€`-0`ã€`0`ã€`\"0\"`ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº†\n2. `NaN`ä¸å»é‡\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. **sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰`Symbol`çš„æ•°ç»„**\n\n## ä»£ç å…­ï¼ˆincludesï¼‰\n\n> åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\n\n```\n// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    const newArr = [];\n    array.forEach((el) => {\n      newArr.includes(el) ? newArr : newArr.push(el);\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol`ä¸å»é‡\n\n## ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰\n\n> åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\n\n```\n// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    return array.reduce((pre, cur) => {\n      !pre.includes(cur) && pre.push(cur);\n      return pre;\n    }, []);\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. å»é‡`NaN`\n3. å¯¹è±¡`new String(\"1\")`ã€`/a/`ã€`{}`ä¸å»é‡\n4. æ•°ç»„`[]`ä¸å»é‡\n5. `Symbol`ä¸å»é‡\n\n## ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰\n\n> åˆ©ç”¨äº†å¯¹è±¡çš„ key ä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡\n\n```\n// åˆ©ç”¨äº†å¯¹è±¡çš„keyä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡\nfunction unique(array) {\n    if (!Array.isArray(array)) {\n      console.log(\"type error!\");\n      return;\n    }\n\n    const obj = {};\n    const newArr = [];\n    array.forEach((val) => {\n      if (!obj[typeof val + JSON.stringify(val)]) {\n        // å°†å¯¹è±¡åºåˆ—åŒ–ä¹‹åä½œä¸ºkeyæ¥ä½¿ç”¨\n        obj[typeof val + JSON.stringify(val)] = 1;\n        newArr.push(val);\n      }\n    });\n    return newArr;\n}\n```\n\n**è¾“å‡ºï¼š**\n\n```\n[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, Symbol(1), {}, []]\n```\n\n**è¾“å‡ºç»“æœè¯´æ˜ï¼š**\n\n1. å»é‡`+0`ã€`-0`ã€`0`\n2. **å»é‡`NaN`**\n3. **å»é‡å¯¹è±¡`new String(\"1\")`ã€`{}`;ä¸¤ä¸ª`/a/`å…¨éƒ¨è¢«åˆ é™¤äº†**\n4. **å»é‡æ•°ç»„`[]`**\n5. **å»é‡`Symbol`**\n\n**å°†ä¸è¯¥å»é‡çš„`Symbol`å»é‡äº†;å°†ä¸¤ä¸ª`/a/`å…¨éƒ¨åˆ é™¤äº†**\n\n## æ€»ç»“\n\n| æ–¹æ³•                         | ç»“æœ                                                                                                                                                                                   | è¯´æ˜                                                                                                                                                   |\n| ---------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |\n| **for å¾ªç¯æš´åŠ›è§£æ³•**         | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]` | 1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                             |\n| **ES6 è§£æ³•**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []`       | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **indexOf + forEach**        | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]` | 1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                             |\n| **indexOf + filter**         | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`           | 1.å»é‡+0ã€-0ã€0ï¼› 2.ä¸¤ä¸ª NaN éƒ½ä¼šè¢«åˆ é™¤ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                    |\n| **sort æ’åºï¼Œä¸æ”¯æŒ Symbol** | `[[], [], /a/, /a/, 0, \"0\", 0, 1, \"1\", String {'1'}, String {'1'}, \"A\", NaN, NaN, {}, {}, \"a\", false, \"false\", null, \"null\", true, \"true\", \"undefined\", undefined]`                    | 1.+0ã€-0ã€0ã€\"0\"ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº† 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰ Symbol çš„æ•°ç»„ï¼› |\n| **includes**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`      | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **includes+reduce**          | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, String {'1'}, Symbol(1), Symbol(1), {}, {}, /a/, /a/, [], []]`      | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(\"1\")ã€/a/ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›                                               |\n| **å¯¹è±¡ key**                 | `[1, '1', 0, '0', true, false, 'true', 'false', 'a', 'A', undefined, 'undefined', null, 'null', NaN, String {'1'}, Symbol(1), {}, []]`                                                 | 1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å»é‡å¯¹è±¡ new String(\"1\")ã€{};ä¸¤ä¸ª/a/å…¨éƒ¨è¢«åˆ é™¤äº†ï¼›4.å»é‡æ•°ç»„[]ï¼›5.å»é‡ Symbol                                          |\n\nä¸Šé¢åªæ˜¯ç®€å•ç»“æœçš„å»é‡æ€»ç»“ï¼Œå…·ä½“çš„å»é‡é€‰æ‹©è¿˜éœ€è¦æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©å»é‡æ–¹æ³•ã€‚\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/unique)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [è§£é”å¤šç§ JavaScript æ•°ç»„å»é‡å§¿åŠ¿](https://juejin.cn/post/6844903608467587085)\n- [æ•°ç»„å»é‡çš„å…­ç§æ–¹æ³•](https://juejin.cn/post/6844903790257111054)\n- [7 ç§æ–¹æ³•å®ç°æ•°ç»„å»é‡](https://juejin.cn/post/6844903602197102605)\n- [JavaScript ä¸“é¢˜ä¹‹æ•°ç»„å»é‡\n  ](https://github.com/mqyqingfeng/Blog/issues/27)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰](https://github.com/yihan12/Blog/issues/5)\n","slug":"JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰","published":1,"updated":"2023-08-14T04:11:10.682Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywm0012q42vf9peh25a","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æ•°ç»„å»é‡åœ¨é¢è¯•å’Œå·¥ä½œä¸­éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“è§åˆ°çš„é—®é¢˜ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ¥æµ‹è¯•å¤šä¸ªæ–¹æ³•ï¼Œå¯¹ä¸‹é¢è¿™ä¸ªæ•°ç»„çš„å»é‡ç»“æœè¿›è¡Œåˆ†æè®¨è®ºã€‚å¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const arr = [ 1, 1, &quot;1&quot;, &quot;1&quot;, 0, 0, &quot;0&quot;, &quot;0&quot;, true, false, &quot;true&quot;, &quot;false&quot;, &quot;a&quot;, &quot;A&quot;, undefined, undefined, &quot;undefined&quot;, null, null, &#x27;null&#x27;, NaN, NaN, +0, -0, new String(&quot;1&quot;), new String(&quot;1&quot;), Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], [] ];</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç‰¹æ®Šç±»å‹\"><a href=\"#ç‰¹æ®Šç±»å‹\" class=\"headerlink\" title=\"ç‰¹æ®Šç±»å‹\"></a>ç‰¹æ®Šç±»å‹</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(1 == &quot;1&quot;); // true</span><br><span class=\"line\">console.log(1 === &quot;1&quot;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == &quot;0&quot;); // true</span><br><span class=\"line\">console.log(0 === &quot;0&quot;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == +0); // true</span><br><span class=\"line\">console.log(0 === +0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == -0); // true</span><br><span class=\"line\">console.log(0 === -0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(+0 == -0); // true</span><br><span class=\"line\">console.log(+0 === -0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == false); // true</span><br><span class=\"line\">console.log(0 === false); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == undefined); // false</span><br><span class=\"line\">console.log(0 === undefined); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == null); // false</span><br><span class=\"line\">console.log(0 === null); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(1 == true); // true</span><br><span class=\"line\">console.log(1 === true); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(undefined == null); // true</span><br><span class=\"line\">console.log(undefined === null); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(NaN == NaN); // false</span><br><span class=\"line\">console.log(NaN === NaN); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(new String(&quot;1&quot;) == new String(&quot;1&quot;)); // false</span><br><span class=\"line\">console.log(new String(&quot;1&quot;) === new String(&quot;1&quot;)); // false</span><br><span class=\"line\">Object.prototype.toString.call(new String(&#x27;1&#x27;)) // &#x27;[object String]&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">console.log(/a/ == /a/); // false</span><br><span class=\"line\">console.log(/a/ === /a/); // false</span><br><span class=\"line\">Object.prototype.toString.call(/a/); //&#x27;[object RegExp]&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">console.log(Symbol(1) == Symbol(1)); // false</span><br><span class=\"line\">console.log(Symbol(1) === Symbol(1)); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(&#123;&#125; == &#123;&#125;); // false</span><br><span class=\"line\">console.log(&#123;&#125; === &#123;&#125;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([] == []); // false</span><br><span class=\"line\">console.log([] === []); // false</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢å¤šä¸ªå»é‡æ–¹æ³•ï¼Œå¯¹ä»¥ä¸Šç‰¹æ®Šç±»å‹çš„å»é‡æ•ˆæœã€‚</p>\n<h2 id=\"ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\"><a href=\"#ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\"></a>ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// æš´åŠ›è§£æ³•ä¸€</span><br><span class=\"line\"></span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const res = [array[0]];</span><br><span class=\"line\">    let arrLen = array.length;</span><br><span class=\"line\">    let resLen = res.length;</span><br><span class=\"line\"></span><br><span class=\"line\">    for (let i = 0; i &lt; arrLen; i++) &#123;</span><br><span class=\"line\">      let flag = true;</span><br><span class=\"line\">      for (let j = 0; j &lt; resLen; j++) &#123;</span><br><span class=\"line\">        if (array[i] === res[j]) &#123;</span><br><span class=\"line\">          flag = false;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (flag) &#123;</span><br><span class=\"line\">        res.push(array[i]);</span><br><span class=\"line\">        resLen = res.length;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// [1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<p>æš´åŠ›è§£æ³•ï¼Œç®€å•æ˜“ç†è§£ï¼Œå…¼å®¹æ€§å¥½ã€‚å»é‡ç»“æœå¦‚ä¸Šæ‰€ç¤ºã€‚</p>\n<h2 id=\"ä»£ç äºŒï¼ˆES6ï¼‰\"><a href=\"#ä»£ç äºŒï¼ˆES6ï¼‰\" class=\"headerlink\" title=\"ä»£ç äºŒï¼ˆES6ï¼‰\"></a>ä»£ç äºŒï¼ˆES6ï¼‰</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ES6 Array.from + Set æ–¹æ³•ä¸€</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Array.from(new Set(array))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 ç‚¹è¿ç®— + Set æ–¹æ³•äºŒ</span><br><span class=\"line\">function unique1(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return [...new Set(arr)]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 ç®­å¤´å‡½æ•° + ç‚¹è¿ç®— + Set æ–¹æ³•ä¸‰</span><br><span class=\"line\">const unique2 = (array) =&gt; &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return [...new Set(arr)]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 Map + ES5 filter  æ–¹æ³•å››</span><br><span class=\"line\">function unique3(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const seen = new Map()</span><br><span class=\"line\">    return array.filter((a) =&gt; !seen.has(a) &amp;&amp; seen.set(a, 1))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<h3 id=\"ä»£ç ä¸‰ï¼ˆindexOf-forEachï¼‰\"><a href=\"#ä»£ç ä¸‰ï¼ˆindexOf-forEachï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰\"></a>ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰</h3><blockquote>\n<p>åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">        console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((el) =&gt; &#123;</span><br><span class=\"line\">      if (newArr.indexOf(el) === -1) &#123;</span><br><span class=\"line\">        newArr.push(el);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<h3 id=\"ä»£ç å››ï¼ˆindexOf-filterï¼‰\"><a href=\"#ä»£ç å››ï¼ˆindexOf-filterï¼‰\" class=\"headerlink\" title=\"ä»£ç å››ï¼ˆindexOf + filterï¼‰\"></a>ä»£ç å››ï¼ˆindexOf + filterï¼‰</h3><blockquote>\n<p>åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯å¦å’Œå…ƒç´ ç°åœ¨çš„ä½ç½®ç›¸ç­‰</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">        console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return array.filter((item, index) =&gt; &#123;</span><br><span class=\"line\">        return array.indexOf(item) === index;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([NaN].indexOf(NaN)); // -1</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><strong>ä¸¤ä¸ª<code>NaN</code>éƒ½ä¼šè¢«åˆ é™¤</strong></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<p><strong>é‡ç‚¹ï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log([NaN].indexOf(NaN)); // -1</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä»£ç äº”ï¼ˆsort-æ’åºï¼Œä¸æ”¯æŒ-Symbolï¼‰\"><a href=\"#ä»£ç äº”ï¼ˆsort-æ’åºï¼Œä¸æ”¯æŒ-Symbolï¼‰\" class=\"headerlink\" title=\"ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰\"></a>ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰</h2><blockquote>\n<p>sort()æ–¹æ³•ä¸»è¦æ˜¯ç”¨äºå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•æ˜¯å°†æ•°ç»„å…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ç…§ ASC ç è¿›è¡Œæ’åº</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// sort()æ–¹æ³•ä¸æ”¯æŒSymbolï¼ŒSymbolä¸æ”¯æŒè½¬æ¢æˆå­—ç¬¦ä¸²</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const sortArr = array.sort();</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    sortArr.forEach((el, i) =&gt; &#123;</span><br><span class=\"line\">      if (sortArr[i] !== sortArr[i - 1]) &#123;</span><br><span class=\"line\">        newArr.push(el);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[[], [], /a/, /a/, 0, &quot;0&quot;, 0, 1, &quot;1&quot;, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, &quot;A&quot;, NaN, NaN, &#123;&#125;, &#123;&#125;, &quot;a&quot;, false, &quot;false&quot;, null, &quot;null&quot;, true, &quot;true&quot;, &quot;undefined&quot;, undefined]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li><code>+0</code>ã€<code>-0</code>ã€<code>0</code>ã€<code>&quot;0&quot;</code>ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº†</li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><strong>sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰<code>Symbol</code>çš„æ•°ç»„</strong></li>\n</ol>\n<h2 id=\"ä»£ç å…­ï¼ˆincludesï¼‰\"><a href=\"#ä»£ç å…­ï¼ˆincludesï¼‰\" class=\"headerlink\" title=\"ä»£ç å…­ï¼ˆincludesï¼‰\"></a>ä»£ç å…­ï¼ˆincludesï¼‰</h2><blockquote>\n<p>åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((el) =&gt; &#123;</span><br><span class=\"line\">      newArr.includes(el) ? newArr : newArr.push(el);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol</code>ä¸å»é‡</li>\n</ol>\n<h2 id=\"ä»£ç ä¸ƒï¼ˆincludes-reduceï¼‰\"><a href=\"#ä»£ç ä¸ƒï¼ˆincludes-reduceï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰\"></a>ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰</h2><blockquote>\n<p>åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return array.reduce((pre, cur) =&gt; &#123;</span><br><span class=\"line\">      !pre.includes(cur) &amp;&amp; pre.push(cur);</span><br><span class=\"line\">      return pre;</span><br><span class=\"line\">    &#125;, []);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol</code>ä¸å»é‡</li>\n</ol>\n<h2 id=\"ä»£ç å…«ï¼ˆå¯¹è±¡-keyï¼‰\"><a href=\"#ä»£ç å…«ï¼ˆå¯¹è±¡-keyï¼‰\" class=\"headerlink\" title=\"ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰\"></a>ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰</h2><blockquote>\n<p>åˆ©ç”¨äº†å¯¹è±¡çš„ key ä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨äº†å¯¹è±¡çš„keyä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const obj = &#123;&#125;;</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((val) =&gt; &#123;</span><br><span class=\"line\">      if (!obj[typeof val + JSON.stringify(val)]) &#123;</span><br><span class=\"line\">        // å°†å¯¹è±¡åºåˆ—åŒ–ä¹‹åä½œä¸ºkeyæ¥ä½¿ç”¨</span><br><span class=\"line\">        obj[typeof val + JSON.stringify(val)] = 1;</span><br><span class=\"line\">        newArr.push(val);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, Symbol(1), &#123;&#125;, []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><strong>å»é‡<code>NaN</code></strong></li>\n<li><strong>å»é‡å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>&#123;&#125;</code>;ä¸¤ä¸ª<code>/a/</code>å…¨éƒ¨è¢«åˆ é™¤äº†</strong></li>\n<li><strong>å»é‡æ•°ç»„<code>[]</code></strong></li>\n<li><strong>å»é‡<code>Symbol</code></strong></li>\n</ol>\n<p><strong>å°†ä¸è¯¥å»é‡çš„<code>Symbol</code>å»é‡äº†;å°†ä¸¤ä¸ª<code>/a/</code>å…¨éƒ¨åˆ é™¤äº†</strong></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th>ç»“æœ</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>for å¾ªç¯æš´åŠ›è§£æ³•</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>ES6 è§£æ³•</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>indexOf + forEach</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>indexOf + filter</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.ä¸¤ä¸ª NaN éƒ½ä¼šè¢«åˆ é™¤ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>sort æ’åºï¼Œä¸æ”¯æŒ Symbol</strong></td>\n<td><code>[[], [], /a/, /a/, 0, &quot;0&quot;, 0, 1, &quot;1&quot;, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, &quot;A&quot;, NaN, NaN, &#123;&#125;, &#123;&#125;, &quot;a&quot;, false, &quot;false&quot;, null, &quot;null&quot;, true, &quot;true&quot;, &quot;undefined&quot;, undefined]</code></td>\n<td>1.+0ã€-0ã€0ã€â€0â€ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº† 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰ Symbol çš„æ•°ç»„ï¼›</td>\n</tr>\n<tr>\n<td><strong>includes</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>includes+reduce</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>å¯¹è±¡ key</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, Symbol(1), &#123;&#125;, []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å»é‡å¯¹è±¡ new String(â€œ1â€)ã€{};ä¸¤ä¸ª&#x2F;a&#x2F;å…¨éƒ¨è¢«åˆ é™¤äº†ï¼›4.å»é‡æ•°ç»„[]ï¼›5.å»é‡ Symbol</td>\n</tr>\n</tbody></table>\n<p>ä¸Šé¢åªæ˜¯ç®€å•ç»“æœçš„å»é‡æ€»ç»“ï¼Œå…·ä½“çš„å»é‡é€‰æ‹©è¿˜éœ€è¦æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©å»é‡æ–¹æ³•ã€‚</p>\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/unique\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://juejin.cn/post/6844903608467587085\">è§£é”å¤šç§ JavaScript æ•°ç»„å»é‡å§¿åŠ¿</a></li>\n<li><a href=\"https://juejin.cn/post/6844903790257111054\">æ•°ç»„å»é‡çš„å…­ç§æ–¹æ³•</a></li>\n<li><a href=\"https://juejin.cn/post/6844903602197102605\">7 ç§æ–¹æ³•å®ç°æ•°ç»„å»é‡</a></li>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/27\">JavaScript ä¸“é¢˜ä¹‹æ•°ç»„å»é‡\n</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/5\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>æ•°ç»„å»é‡åœ¨é¢è¯•å’Œå·¥ä½œä¸­éƒ½æ˜¯æ¯”è¾ƒå®¹æ˜“è§åˆ°çš„é—®é¢˜ã€‚</p>\n<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯æ¥æµ‹è¯•å¤šä¸ªæ–¹æ³•ï¼Œå¯¹ä¸‹é¢è¿™ä¸ªæ•°ç»„çš„å»é‡ç»“æœè¿›è¡Œåˆ†æè®¨è®ºã€‚å¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹ï¼Œè¿˜è¯·å¤§å®¶æŒ‡å‡ºã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const arr = [ 1, 1, &quot;1&quot;, &quot;1&quot;, 0, 0, &quot;0&quot;, &quot;0&quot;, true, false, &quot;true&quot;, &quot;false&quot;, &quot;a&quot;, &quot;A&quot;, undefined, undefined, &quot;undefined&quot;, null, null, &#x27;null&#x27;, NaN, NaN, +0, -0, new String(&quot;1&quot;), new String(&quot;1&quot;), Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], [] ];</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ç‰¹æ®Šç±»å‹\"><a href=\"#ç‰¹æ®Šç±»å‹\" class=\"headerlink\" title=\"ç‰¹æ®Šç±»å‹\"></a>ç‰¹æ®Šç±»å‹</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log(1 == &quot;1&quot;); // true</span><br><span class=\"line\">console.log(1 === &quot;1&quot;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == &quot;0&quot;); // true</span><br><span class=\"line\">console.log(0 === &quot;0&quot;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == +0); // true</span><br><span class=\"line\">console.log(0 === +0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == -0); // true</span><br><span class=\"line\">console.log(0 === -0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(+0 == -0); // true</span><br><span class=\"line\">console.log(+0 === -0); // true</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == false); // true</span><br><span class=\"line\">console.log(0 === false); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == undefined); // false</span><br><span class=\"line\">console.log(0 === undefined); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(0 == null); // false</span><br><span class=\"line\">console.log(0 === null); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(1 == true); // true</span><br><span class=\"line\">console.log(1 === true); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(undefined == null); // true</span><br><span class=\"line\">console.log(undefined === null); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(NaN == NaN); // false</span><br><span class=\"line\">console.log(NaN === NaN); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(new String(&quot;1&quot;) == new String(&quot;1&quot;)); // false</span><br><span class=\"line\">console.log(new String(&quot;1&quot;) === new String(&quot;1&quot;)); // false</span><br><span class=\"line\">Object.prototype.toString.call(new String(&#x27;1&#x27;)) // &#x27;[object String]&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">console.log(/a/ == /a/); // false</span><br><span class=\"line\">console.log(/a/ === /a/); // false</span><br><span class=\"line\">Object.prototype.toString.call(/a/); //&#x27;[object RegExp]&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">console.log(Symbol(1) == Symbol(1)); // false</span><br><span class=\"line\">console.log(Symbol(1) === Symbol(1)); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log(&#123;&#125; == &#123;&#125;); // false</span><br><span class=\"line\">console.log(&#123;&#125; === &#123;&#125;); // false</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([] == []); // false</span><br><span class=\"line\">console.log([] === []); // false</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ä¸‹é¢å¤šä¸ªå»é‡æ–¹æ³•ï¼Œå¯¹ä»¥ä¸Šç‰¹æ®Šç±»å‹çš„å»é‡æ•ˆæœã€‚</p>\n<h2 id=\"ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\"><a href=\"#ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰\"></a>ä»£ç ä¸€ï¼ˆæš´åŠ›è§£æ³•ï¼‰</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// æš´åŠ›è§£æ³•ä¸€</span><br><span class=\"line\"></span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const res = [array[0]];</span><br><span class=\"line\">    let arrLen = array.length;</span><br><span class=\"line\">    let resLen = res.length;</span><br><span class=\"line\"></span><br><span class=\"line\">    for (let i = 0; i &lt; arrLen; i++) &#123;</span><br><span class=\"line\">      let flag = true;</span><br><span class=\"line\">      for (let j = 0; j &lt; resLen; j++) &#123;</span><br><span class=\"line\">        if (array[i] === res[j]) &#123;</span><br><span class=\"line\">          flag = false;</span><br><span class=\"line\">          break;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (flag) &#123;</span><br><span class=\"line\">        res.push(array[i]);</span><br><span class=\"line\">        resLen = res.length;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return res;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">// [1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<p>æš´åŠ›è§£æ³•ï¼Œç®€å•æ˜“ç†è§£ï¼Œå…¼å®¹æ€§å¥½ã€‚å»é‡ç»“æœå¦‚ä¸Šæ‰€ç¤ºã€‚</p>\n<h2 id=\"ä»£ç äºŒï¼ˆES6ï¼‰\"><a href=\"#ä»£ç äºŒï¼ˆES6ï¼‰\" class=\"headerlink\" title=\"ä»£ç äºŒï¼ˆES6ï¼‰\"></a>ä»£ç äºŒï¼ˆES6ï¼‰</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ES6 Array.from + Set æ–¹æ³•ä¸€</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return Array.from(new Set(array))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 ç‚¹è¿ç®— + Set æ–¹æ³•äºŒ</span><br><span class=\"line\">function unique1(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return [...new Set(arr)]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 ç®­å¤´å‡½æ•° + ç‚¹è¿ç®— + Set æ–¹æ³•ä¸‰</span><br><span class=\"line\">const unique2 = (array) =&gt; &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return [...new Set(arr)]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// ES6 Map + ES5 filter  æ–¹æ³•å››</span><br><span class=\"line\">function unique3(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">      return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const seen = new Map()</span><br><span class=\"line\">    return array.filter((a) =&gt; !seen.has(a) &amp;&amp; seen.set(a, 1))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<h3 id=\"ä»£ç ä¸‰ï¼ˆindexOf-forEachï¼‰\"><a href=\"#ä»£ç ä¸‰ï¼ˆindexOf-forEachï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰\"></a>ä»£ç ä¸‰ï¼ˆindexOf + forEachï¼‰</h3><blockquote>\n<p>åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">        console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((el) =&gt; &#123;</span><br><span class=\"line\">      if (newArr.indexOf(el) === -1) &#123;</span><br><span class=\"line\">        newArr.push(el);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<h3 id=\"ä»£ç å››ï¼ˆindexOf-filterï¼‰\"><a href=\"#ä»£ç å››ï¼ˆindexOf-filterï¼‰\" class=\"headerlink\" title=\"ä»£ç å››ï¼ˆindexOf + filterï¼‰\"></a>ä»£ç å››ï¼ˆindexOf + filterï¼‰</h3><blockquote>\n<p>åˆ©ç”¨ indexOf æ£€æµ‹å…ƒç´ åœ¨æ•°ç»„ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®æ˜¯å¦å’Œå…ƒç´ ç°åœ¨çš„ä½ç½®ç›¸ç­‰</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// indexOf + forEach åˆ©ç”¨indexOfæ£€æµ‹å…ƒç´ åœ¨æ–°æ•°ç»„æ˜¯å¦å­˜åœ¨</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">        console.log(&#x27;type error!&#x27;)</span><br><span class=\"line\">        return</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return array.filter((item, index) =&gt; &#123;</span><br><span class=\"line\">        return array.indexOf(item) === index;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">console.log([NaN].indexOf(NaN)); // -1</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><strong>ä¸¤ä¸ª<code>NaN</code>éƒ½ä¼šè¢«åˆ é™¤</strong></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol(1)</code>ä¸å»é‡</li>\n</ol>\n<p><strong>é‡ç‚¹ï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">console.log([NaN].indexOf(NaN)); // -1</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"ä»£ç äº”ï¼ˆsort-æ’åºï¼Œä¸æ”¯æŒ-Symbolï¼‰\"><a href=\"#ä»£ç äº”ï¼ˆsort-æ’åºï¼Œä¸æ”¯æŒ-Symbolï¼‰\" class=\"headerlink\" title=\"ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰\"></a>ä»£ç äº”ï¼ˆsort æ’åºï¼Œä¸æ”¯æŒ Symbolï¼‰</h2><blockquote>\n<p>sort()æ–¹æ³•ä¸»è¦æ˜¯ç”¨äºå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œé»˜è®¤æƒ…å†µä¸‹è¯¥æ–¹æ³•æ˜¯å°†æ•°ç»„å…ƒç´ è½¬æ¢æˆå­—ç¬¦ä¸²ï¼Œç„¶åæŒ‰ç…§ ASC ç è¿›è¡Œæ’åº</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// sort()æ–¹æ³•ä¸æ”¯æŒSymbolï¼ŒSymbolä¸æ”¯æŒè½¬æ¢æˆå­—ç¬¦ä¸²</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    const sortArr = array.sort();</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    sortArr.forEach((el, i) =&gt; &#123;</span><br><span class=\"line\">      if (sortArr[i] !== sortArr[i - 1]) &#123;</span><br><span class=\"line\">        newArr.push(el);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[[], [], /a/, /a/, 0, &quot;0&quot;, 0, 1, &quot;1&quot;, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, &quot;A&quot;, NaN, NaN, &#123;&#125;, &#123;&#125;, &quot;a&quot;, false, &quot;false&quot;, null, &quot;null&quot;, true, &quot;true&quot;, &quot;undefined&quot;, undefined]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li><code>+0</code>ã€<code>-0</code>ã€<code>0</code>ã€<code>&quot;0&quot;</code>ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº†</li>\n<li><code>NaN</code>ä¸å»é‡</li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><strong>sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰<code>Symbol</code>çš„æ•°ç»„</strong></li>\n</ol>\n<h2 id=\"ä»£ç å…­ï¼ˆincludesï¼‰\"><a href=\"#ä»£ç å…­ï¼ˆincludesï¼‰\" class=\"headerlink\" title=\"ä»£ç å…­ï¼ˆincludesï¼‰\"></a>ä»£ç å…­ï¼ˆincludesï¼‰</h2><blockquote>\n<p>åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((el) =&gt; &#123;</span><br><span class=\"line\">      newArr.includes(el) ? newArr : newArr.push(el);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol</code>ä¸å»é‡</li>\n</ol>\n<h2 id=\"ä»£ç ä¸ƒï¼ˆincludes-reduceï¼‰\"><a href=\"#ä»£ç ä¸ƒï¼ˆincludes-reduceï¼‰\" class=\"headerlink\" title=\"ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰\"></a>ä»£ç ä¸ƒï¼ˆincludes+reduceï¼‰</h2><blockquote>\n<p>åˆ©ç”¨ includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨includes()æ–¹æ³•æ£€æŸ¥æ–°æ•°ç»„æ˜¯å¦åŒ…å«åŸæ•°ç»„çš„æ¯ä¸€é¡¹</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return array.reduce((pre, cur) =&gt; &#123;</span><br><span class=\"line\">      !pre.includes(cur) &amp;&amp; pre.push(cur);</span><br><span class=\"line\">      return pre;</span><br><span class=\"line\">    &#125;, []);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, String &#123;&#x27;1&#x27;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li>å»é‡<code>NaN</code></li>\n<li>å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>/a/</code>ã€<code>&#123;&#125;</code>ä¸å»é‡</li>\n<li>æ•°ç»„<code>[]</code>ä¸å»é‡</li>\n<li><code>Symbol</code>ä¸å»é‡</li>\n</ol>\n<h2 id=\"ä»£ç å…«ï¼ˆå¯¹è±¡-keyï¼‰\"><a href=\"#ä»£ç å…«ï¼ˆå¯¹è±¡-keyï¼‰\" class=\"headerlink\" title=\"ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰\"></a>ä»£ç å…«ï¼ˆå¯¹è±¡ keyï¼‰</h2><blockquote>\n<p>åˆ©ç”¨äº†å¯¹è±¡çš„ key ä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// åˆ©ç”¨äº†å¯¹è±¡çš„keyä¸å¯ä»¥é‡å¤çš„ç‰¹æ€§æ¥è¿›è¡Œå»é‡</span><br><span class=\"line\">function unique(array) &#123;</span><br><span class=\"line\">    if (!Array.isArray(array)) &#123;</span><br><span class=\"line\">      console.log(&quot;type error!&quot;);</span><br><span class=\"line\">      return;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const obj = &#123;&#125;;</span><br><span class=\"line\">    const newArr = [];</span><br><span class=\"line\">    array.forEach((val) =&gt; &#123;</span><br><span class=\"line\">      if (!obj[typeof val + JSON.stringify(val)]) &#123;</span><br><span class=\"line\">        // å°†å¯¹è±¡åºåˆ—åŒ–ä¹‹åä½œä¸ºkeyæ¥ä½¿ç”¨</span><br><span class=\"line\">        obj[typeof val + JSON.stringify(val)] = 1;</span><br><span class=\"line\">        newArr.push(val);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    return newArr;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[1, &#x27;1&#x27;, 0, &#x27;0&#x27;, true, false, &#x27;true&#x27;, &#x27;false&#x27;, &#x27;a&#x27;, &#x27;A&#x27;, undefined, &#x27;undefined&#x27;, null, &#x27;null&#x27;, NaN, String &#123;&#x27;1&#x27;&#125;, Symbol(1), &#123;&#125;, []]</span><br></pre></td></tr></table></figure>\n\n<p><strong>è¾“å‡ºç»“æœè¯´æ˜ï¼š</strong></p>\n<ol>\n<li>å»é‡<code>+0</code>ã€<code>-0</code>ã€<code>0</code></li>\n<li><strong>å»é‡<code>NaN</code></strong></li>\n<li><strong>å»é‡å¯¹è±¡<code>new String(&quot;1&quot;)</code>ã€<code>&#123;&#125;</code>;ä¸¤ä¸ª<code>/a/</code>å…¨éƒ¨è¢«åˆ é™¤äº†</strong></li>\n<li><strong>å»é‡æ•°ç»„<code>[]</code></strong></li>\n<li><strong>å»é‡<code>Symbol</code></strong></li>\n</ol>\n<p><strong>å°†ä¸è¯¥å»é‡çš„<code>Symbol</code>å»é‡äº†;å°†ä¸¤ä¸ª<code>/a/</code>å…¨éƒ¨åˆ é™¤äº†</strong></p>\n<h2 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h2><table>\n<thead>\n<tr>\n<th>æ–¹æ³•</th>\n<th>ç»“æœ</th>\n<th>è¯´æ˜</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>for å¾ªç¯æš´åŠ›è§£æ³•</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>ES6 è§£æ³•</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>indexOf + forEach</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>indexOf + filter</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.ä¸¤ä¸ª NaN éƒ½ä¼šè¢«åˆ é™¤ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>sort æ’åºï¼Œä¸æ”¯æŒ Symbol</strong></td>\n<td><code>[[], [], /a/, /a/, 0, &quot;0&quot;, 0, 1, &quot;1&quot;, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, &quot;A&quot;, NaN, NaN, &#123;&#125;, &#123;&#125;, &quot;a&quot;, false, &quot;false&quot;, null, &quot;null&quot;, true, &quot;true&quot;, &quot;undefined&quot;, undefined]</code></td>\n<td>1.+0ã€-0ã€0ã€â€0â€ä½ç½®ä¸åŒä¼šå¯¼è‡´å»é‡ä¸äº† 2.NaN ä¸å»é‡ï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.sort()æ–¹æ³•ä¸æ”¯æŒå¤„ç†å«æœ‰ Symbol çš„æ•°ç»„ï¼›</td>\n</tr>\n<tr>\n<td><strong>includes</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>includes+reduce</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, String &#123;&#39;1&#39;&#125;, Symbol(1), Symbol(1), &#123;&#125;, &#123;&#125;, /a/, /a/, [], []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å¯¹è±¡ new String(â€œ1â€)ã€&#x2F;a&#x2F;ã€{}ä¸å»é‡ï¼›4.æ•°ç»„[]ä¸å»é‡ï¼›5.Symbol(1)ä¸å»é‡ï¼›</td>\n</tr>\n<tr>\n<td><strong>å¯¹è±¡ key</strong></td>\n<td><code>[1, &#39;1&#39;, 0, &#39;0&#39;, true, false, &#39;true&#39;, &#39;false&#39;, &#39;a&#39;, &#39;A&#39;, undefined, &#39;undefined&#39;, null, &#39;null&#39;, NaN, String &#123;&#39;1&#39;&#125;, Symbol(1), &#123;&#125;, []]</code></td>\n<td>1.å»é‡+0ã€-0ã€0ï¼› 2.å»é‡ NaNï¼›3.å»é‡å¯¹è±¡ new String(â€œ1â€)ã€{};ä¸¤ä¸ª&#x2F;a&#x2F;å…¨éƒ¨è¢«åˆ é™¤äº†ï¼›4.å»é‡æ•°ç»„[]ï¼›5.å»é‡ Symbol</td>\n</tr>\n</tbody></table>\n<p>ä¸Šé¢åªæ˜¯ç®€å•ç»“æœçš„å»é‡æ€»ç»“ï¼Œå…·ä½“çš„å»é‡é€‰æ‹©è¿˜éœ€è¦æ ¹æ®æˆ‘ä»¬ä¸šåŠ¡åœºæ™¯æ¥é€‰æ‹©å»é‡æ–¹æ³•ã€‚</p>\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/unique\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://juejin.cn/post/6844903608467587085\">è§£é”å¤šç§ JavaScript æ•°ç»„å»é‡å§¿åŠ¿</a></li>\n<li><a href=\"https://juejin.cn/post/6844903790257111054\">æ•°ç»„å»é‡çš„å…­ç§æ–¹æ³•</a></li>\n<li><a href=\"https://juejin.cn/post/6844903602197102605\">7 ç§æ–¹æ³•å®ç°æ•°ç»„å»é‡</a></li>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/27\">JavaScript ä¸“é¢˜ä¹‹æ•°ç»„å»é‡\n</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/5\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹æ•°ç»„å»é‡ï¼ˆç»“æœå¯¹æ¯”ï¼‰</a></p>\n"},{"title":"ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ","date":"2022-07-08T16:07:09.822Z","_content":"\n## å‰è¨€\n\njs çš„å…¸å‹çš„åœºæ™¯\n\n- ç›‘å¬é¡µé¢çš„ scroll äº‹ä»¶\n- æ‹–æ‹½äº‹ä»¶\n- ç›‘å¬é¼ æ ‡çš„ mousemove äº‹ä»¶  \n  ...\n\nè¿™äº›äº‹ä»¶ä¼šé¢‘ç¹è§¦å‘ä¼šå½±å“æ€§èƒ½ï¼Œå¦‚æœä½¿ç”¨èŠ‚æµï¼Œé™ä½é¢‘æ¬¡ï¼Œä¿ç•™äº†ç”¨æˆ·ä½“éªŒï¼Œåˆæå‡äº†æ‰§è¡Œé€Ÿåº¦ï¼ŒèŠ‚çœèµ„æºã€‚\n\n## åŸç†\n\n> **èŠ‚æµçš„åŸç†**ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\né€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\nç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\n## å®ç°æ–¹å¼\n\nç›®å‰æ¯”è¾ƒä¸»æµçš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ—¶é—´æˆ³ã€å®šæ—¶å™¨ã€‚\n\n### æ—¶é—´æˆ³å®ç°\n\nä½¿ç”¨æ—¶é—´æˆ³å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ–æ‰§è¡Œäº‹ä»¶çš„æ—¶é—´ previous ä¸º 0ï¼Œç„¶åå°†å½“å‰çš„æ—¶é—´æˆ³å‡å»ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆnow - previousï¼‰ï¼Œå¦‚æœå¤§äº waitï¼Œåˆ™ç›´æ¥æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”å°†æ­¤æ—¶çš„æ‰§è¡Œæ—¶é—´ now èµ‹ç»™ previousï¼ˆprevious = nowï¼‰ã€‚\n\nç”±äºé¦–æ¬¡ previous = 0ï¼Œåˆ™æ­¤æ—¶å‡½æ•°ç¬¬ä¸€æ¬¡è§¦å‘å°±ä¼šç«‹å³æ‰§è¡Œã€‚\n\nåç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œå‡½æ•°ã€‚\n\n```\n// ç”±äºä¸€å¼€å§‹now - 0 > waitï¼Œåˆ™è¿™ä¸ªå†™æ³•ï¼Œæ—¶é—´ä¼šç«‹å³æ‰§è¡Œï¼Œæ²¡è¿‡ä¸€ç§’ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œäº‹ä»¶\nfunction throttle(func, wait = 500) {\n    let context, now;\n    let previous = 0; // è®¾ç½®è¿‡å»çš„æ‰§è¡Œæ—¶é—´åˆå§‹å€¼ä¸º0\n    return function (...args) {\n        context = this;\n        now = +(Date.now() || new Date().getTime());\n        if (now - previous > wait) {\n            func.apply(context, args);\n            previous = now;\n        }\n    };\n}\n```\n\n### å®šæ—¶å™¨å®ç°\n\nä½¿ç”¨å®šæ—¶å™¨å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ– timeoutï¼Œç„¶åå®šä¹‰!timeout ä¸º true çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§è¡Œ setTimeoutï¼Œï¼Œç­‰å¾… wait æ—¶é—´åæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæ¸…ç©º timeoutï¼Œä»¥æ­¤ç±»æ¨ï¼Œé‡æ–°è¿›å…¥ä¹Ÿä¼šæŒ‰ä¸Šè¿°æ‰§è¡Œã€‚\n\nç”±äºè¿›å…¥å‡½æ•°ï¼Œå°±æ‰§è¡Œ setTimeoutï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œã€‚\n\nåç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œè€Œåè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚\n\n```\n// ç”±äºä¸€è¿›å…¥å°±åˆ›å»ºäº†å®šæ—¶å™¨ï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œ\nfunction throttle(func, wait = 500) {\n    let context, timeout;\n\n    return function (...args) {\n        context = this;\n\n        if (!timeout) {\n            timeout = setTimeout(function () {\n                timeout = null;\n                func.apply(context, args);\n            }, wait);\n        }\n    };\n}\n```\n\n### åˆå¹¶ç‰ˆæœ¬\n\nå¦‚æœï¼Œæˆ‘ä»¬éœ€è¦æ—¢åˆšå¼€å§‹å°±ç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åï¼Œè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚\n\nä¸‹é¢ï¼Œæˆ‘ä»¬å°†å®šæ—¶å™¨å’Œæ—¶é—´æˆ³åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªå…¨æ–°çš„èŠ‚æµç‰ˆæœ¬ã€‚\n\n```\nfunction throttle(func, wait = 500) {\n    let context, timeout, result;\n    let previous = 0;\n    const throttled = function (...args) {\n        context = this;\n        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            func.apply(context, args);\n        } else if (!timeout) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                func.apply(context, args);\n            }, remaining);\n        }\n    };\n    return throttled;\n}\n```\n\n### åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\n\nç”±äºåˆå¹¶åçš„ç‰ˆæœ¬å¹¶æ²¡ç”¨è¿”å›å€¼çš„ä¼˜åŒ–+å–æ¶ˆåŠŸèƒ½ã€‚\n\nä¸‹é¢å¯¹ä»£ç è¿›è¡Œè¿”å›å€¼+å–æ¶ˆåŠŸèƒ½ä¼˜åŒ–ï¼š\n\n```\nfunction throttle(func, wait = 500) {\n    let context, timeout, result;\n    let previous = 0;\n\n    const showResult = function (e1, e2) {\n        result = func.apply(e1, e2);\n        return result;\n    };\n\n    const throttled = function (...args) {\n        context = this;\n        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            return showResult(context, args);\n        } else if (!timeout) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                return showResult(context, args);\n            }, remaining);\n        }\n        retrun result\n    };\n\n    throttled.cancel = function () {\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        previous = 0;\n        context = timeout = result = undefined;\n    };\n    return throttled;\n}\n```\n\n### åŠŸèƒ½æ€§ä¼˜åŒ–\n\næœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›æ— å¤´æœ‰å°¾ï¼Œæˆ–è€…æœ‰å¤´æ— å°¾ã€‚\n\n```\nfunction throttle(func, wait = 500, options = {}) {\n    let context, timeout, result;\n    let previous = 0;\n\n   // å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ\n    if (!(options.leading === false && options.trailing === false)) {\n        leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†\n        trailing = \"trailing\" in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨\n    }\n\n    // è¿”å›åŸå‡½æ•°çš„return\n    const showResult = function (e1, e2) {\n        result = func.apply(e1, e2);\n        return result;\n    };\n\n    // è·å–å½“å‰æ—¶é—´\n    const getNow = function () {\n        return +(Date.now() || new Date().getTime());\n    };\n\n    const throttled = function (...args) {\n        context = this;\n        const now = getNow(); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        if (!previous && leading === false) previous = now;\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            return showResult(context, args);\n        } else if (!timeout && trailing !== false) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                return showResult(context, args);\n            }, remaining);\n        }\n        return result;\n    };\n\n    throttled.cancel = function () {\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        previous = 0;\n        context = timeout = result = undefined;\n    };\n    return throttled;\n}\n```\n\nè¿™é‡Œï¼Œå¦‚æœ options ä¸ä¼ å‚æ•°ï¼Œå‡½æ•°é»˜è®¤è®¾ç½®\n\n```\nlet leading = false\nlet trailing = true\n```\n\nä¹Ÿå°±æ˜¯æ— å¤´æœ‰å°¾ã€‚\n\nå¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ä¼šç›´æ¥é‡‡ç”¨é»˜è®¤è®¾ç½®ï¼Œæ— å¤´æœ‰å°¾ã€‚\n\n```\n// å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ\nif (!(options.leading === false && options.trailing === false)) {\n    leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†\n    trailing = \"trailing\" in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨\n}\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/throttle)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ](https://github.com/mqyqingfeng/Blog/issues/26)\n- [underscore.js](https://underscorejs.net/docs/underscore.html)\n- [æ·±å…¥æµ…å‡ºèŠ‚æµå‡½æ•° throttle](https://github.com/yygmind/blog/issues/38)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹èŠ‚æµ](https://github.com/yihan12/Blog/issues/2)\n","source":"_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ.md","raw":"---\ntitle: ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ\ndate:\ntags: [JavaScript]\ncategories: [å‰ç«¯, JavaScript, JavaScriptæ·±å…¥ç†è§£, èŠ‚æµ]\n---\n\n## å‰è¨€\n\njs çš„å…¸å‹çš„åœºæ™¯\n\n- ç›‘å¬é¡µé¢çš„ scroll äº‹ä»¶\n- æ‹–æ‹½äº‹ä»¶\n- ç›‘å¬é¼ æ ‡çš„ mousemove äº‹ä»¶  \n  ...\n\nè¿™äº›äº‹ä»¶ä¼šé¢‘ç¹è§¦å‘ä¼šå½±å“æ€§èƒ½ï¼Œå¦‚æœä½¿ç”¨èŠ‚æµï¼Œé™ä½é¢‘æ¬¡ï¼Œä¿ç•™äº†ç”¨æˆ·ä½“éªŒï¼Œåˆæå‡äº†æ‰§è¡Œé€Ÿåº¦ï¼ŒèŠ‚çœèµ„æºã€‚\n\n## åŸç†\n\n> **èŠ‚æµçš„åŸç†**ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\né€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\nç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\n## å®ç°æ–¹å¼\n\nç›®å‰æ¯”è¾ƒä¸»æµçš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ—¶é—´æˆ³ã€å®šæ—¶å™¨ã€‚\n\n### æ—¶é—´æˆ³å®ç°\n\nä½¿ç”¨æ—¶é—´æˆ³å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ–æ‰§è¡Œäº‹ä»¶çš„æ—¶é—´ previous ä¸º 0ï¼Œç„¶åå°†å½“å‰çš„æ—¶é—´æˆ³å‡å»ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆnow - previousï¼‰ï¼Œå¦‚æœå¤§äº waitï¼Œåˆ™ç›´æ¥æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”å°†æ­¤æ—¶çš„æ‰§è¡Œæ—¶é—´ now èµ‹ç»™ previousï¼ˆprevious = nowï¼‰ã€‚\n\nç”±äºé¦–æ¬¡ previous = 0ï¼Œåˆ™æ­¤æ—¶å‡½æ•°ç¬¬ä¸€æ¬¡è§¦å‘å°±ä¼šç«‹å³æ‰§è¡Œã€‚\n\nåç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œå‡½æ•°ã€‚\n\n```\n// ç”±äºä¸€å¼€å§‹now - 0 > waitï¼Œåˆ™è¿™ä¸ªå†™æ³•ï¼Œæ—¶é—´ä¼šç«‹å³æ‰§è¡Œï¼Œæ²¡è¿‡ä¸€ç§’ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œäº‹ä»¶\nfunction throttle(func, wait = 500) {\n    let context, now;\n    let previous = 0; // è®¾ç½®è¿‡å»çš„æ‰§è¡Œæ—¶é—´åˆå§‹å€¼ä¸º0\n    return function (...args) {\n        context = this;\n        now = +(Date.now() || new Date().getTime());\n        if (now - previous > wait) {\n            func.apply(context, args);\n            previous = now;\n        }\n    };\n}\n```\n\n### å®šæ—¶å™¨å®ç°\n\nä½¿ç”¨å®šæ—¶å™¨å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ– timeoutï¼Œç„¶åå®šä¹‰!timeout ä¸º true çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§è¡Œ setTimeoutï¼Œï¼Œç­‰å¾… wait æ—¶é—´åæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæ¸…ç©º timeoutï¼Œä»¥æ­¤ç±»æ¨ï¼Œé‡æ–°è¿›å…¥ä¹Ÿä¼šæŒ‰ä¸Šè¿°æ‰§è¡Œã€‚\n\nç”±äºè¿›å…¥å‡½æ•°ï¼Œå°±æ‰§è¡Œ setTimeoutï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œã€‚\n\nåç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œè€Œåè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚\n\n```\n// ç”±äºä¸€è¿›å…¥å°±åˆ›å»ºäº†å®šæ—¶å™¨ï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œ\nfunction throttle(func, wait = 500) {\n    let context, timeout;\n\n    return function (...args) {\n        context = this;\n\n        if (!timeout) {\n            timeout = setTimeout(function () {\n                timeout = null;\n                func.apply(context, args);\n            }, wait);\n        }\n    };\n}\n```\n\n### åˆå¹¶ç‰ˆæœ¬\n\nå¦‚æœï¼Œæˆ‘ä»¬éœ€è¦æ—¢åˆšå¼€å§‹å°±ç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åï¼Œè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚\n\nä¸‹é¢ï¼Œæˆ‘ä»¬å°†å®šæ—¶å™¨å’Œæ—¶é—´æˆ³åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªå…¨æ–°çš„èŠ‚æµç‰ˆæœ¬ã€‚\n\n```\nfunction throttle(func, wait = 500) {\n    let context, timeout, result;\n    let previous = 0;\n    const throttled = function (...args) {\n        context = this;\n        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            func.apply(context, args);\n        } else if (!timeout) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                func.apply(context, args);\n            }, remaining);\n        }\n    };\n    return throttled;\n}\n```\n\n### åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\n\nç”±äºåˆå¹¶åçš„ç‰ˆæœ¬å¹¶æ²¡ç”¨è¿”å›å€¼çš„ä¼˜åŒ–+å–æ¶ˆåŠŸèƒ½ã€‚\n\nä¸‹é¢å¯¹ä»£ç è¿›è¡Œè¿”å›å€¼+å–æ¶ˆåŠŸèƒ½ä¼˜åŒ–ï¼š\n\n```\nfunction throttle(func, wait = 500) {\n    let context, timeout, result;\n    let previous = 0;\n\n    const showResult = function (e1, e2) {\n        result = func.apply(e1, e2);\n        return result;\n    };\n\n    const throttled = function (...args) {\n        context = this;\n        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            return showResult(context, args);\n        } else if (!timeout) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                return showResult(context, args);\n            }, remaining);\n        }\n        retrun result\n    };\n\n    throttled.cancel = function () {\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        previous = 0;\n        context = timeout = result = undefined;\n    };\n    return throttled;\n}\n```\n\n### åŠŸèƒ½æ€§ä¼˜åŒ–\n\næœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›æ— å¤´æœ‰å°¾ï¼Œæˆ–è€…æœ‰å¤´æ— å°¾ã€‚\n\n```\nfunction throttle(func, wait = 500, options = {}) {\n    let context, timeout, result;\n    let previous = 0;\n\n   // å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ\n    if (!(options.leading === false && options.trailing === false)) {\n        leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†\n        trailing = \"trailing\" in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨\n    }\n\n    // è¿”å›åŸå‡½æ•°çš„return\n    const showResult = function (e1, e2) {\n        result = func.apply(e1, e2);\n        return result;\n    };\n\n    // è·å–å½“å‰æ—¶é—´\n    const getNow = function () {\n        return +(Date.now() || new Date().getTime());\n    };\n\n    const throttled = function (...args) {\n        context = this;\n        const now = getNow(); // å½“å‰æ—¶é—´\n        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\n        if (!previous && leading === false) previous = now;\n        const remaining = wait - (now - previous);\n\n        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ\n        if (remaining <= 0 || remaining > wait) {\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n            previous = now;\n            return showResult(context, args);\n        } else if (!timeout && trailing !== false) {\n            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining<=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡\n            timeout = setTimeout(function () {\n                timeout = null;\n                previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n                return showResult(context, args);\n            }, remaining);\n        }\n        return result;\n    };\n\n    throttled.cancel = function () {\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        previous = 0;\n        context = timeout = result = undefined;\n    };\n    return throttled;\n}\n```\n\nè¿™é‡Œï¼Œå¦‚æœ options ä¸ä¼ å‚æ•°ï¼Œå‡½æ•°é»˜è®¤è®¾ç½®\n\n```\nlet leading = false\nlet trailing = true\n```\n\nä¹Ÿå°±æ˜¯æ— å¤´æœ‰å°¾ã€‚\n\nå¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ä¼šç›´æ¥é‡‡ç”¨é»˜è®¤è®¾ç½®ï¼Œæ— å¤´æœ‰å°¾ã€‚\n\n```\n// å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ\nif (!(options.leading === false && options.trailing === false)) {\n    leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†\n    trailing = \"trailing\" in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨\n}\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/throttle)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ](https://github.com/mqyqingfeng/Blog/issues/26)\n- [underscore.js](https://underscorejs.net/docs/underscore.html)\n- [æ·±å…¥æµ…å‡ºèŠ‚æµå‡½æ•° throttle](https://github.com/yygmind/blog/issues/38)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹èŠ‚æµ](https://github.com/yihan12/Blog/issues/2)\n","slug":"JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹èŠ‚æµ","published":1,"updated":"2023-08-14T04:11:58.700Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywn0016q42v2o223tac","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>js çš„å…¸å‹çš„åœºæ™¯</p>\n<ul>\n<li>ç›‘å¬é¡µé¢çš„ scroll äº‹ä»¶</li>\n<li>æ‹–æ‹½äº‹ä»¶</li>\n<li>ç›‘å¬é¼ æ ‡çš„ mousemove äº‹ä»¶<br>â€¦</li>\n</ul>\n<p>è¿™äº›äº‹ä»¶ä¼šé¢‘ç¹è§¦å‘ä¼šå½±å“æ€§èƒ½ï¼Œå¦‚æœä½¿ç”¨èŠ‚æµï¼Œé™ä½é¢‘æ¬¡ï¼Œä¿ç•™äº†ç”¨æˆ·ä½“éªŒï¼Œåˆæå‡äº†æ‰§è¡Œé€Ÿåº¦ï¼ŒèŠ‚çœèµ„æºã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><blockquote>\n<p><strong>èŠ‚æµçš„åŸç†</strong>ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>ç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<h2 id=\"å®ç°æ–¹å¼\"><a href=\"#å®ç°æ–¹å¼\" class=\"headerlink\" title=\"å®ç°æ–¹å¼\"></a>å®ç°æ–¹å¼</h2><p>ç›®å‰æ¯”è¾ƒä¸»æµçš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ—¶é—´æˆ³ã€å®šæ—¶å™¨ã€‚</p>\n<h3 id=\"æ—¶é—´æˆ³å®ç°\"><a href=\"#æ—¶é—´æˆ³å®ç°\" class=\"headerlink\" title=\"æ—¶é—´æˆ³å®ç°\"></a>æ—¶é—´æˆ³å®ç°</h3><p>ä½¿ç”¨æ—¶é—´æˆ³å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ–æ‰§è¡Œäº‹ä»¶çš„æ—¶é—´ previous ä¸º 0ï¼Œç„¶åå°†å½“å‰çš„æ—¶é—´æˆ³å‡å»ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆnow - previousï¼‰ï¼Œå¦‚æœå¤§äº waitï¼Œåˆ™ç›´æ¥æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”å°†æ­¤æ—¶çš„æ‰§è¡Œæ—¶é—´ now èµ‹ç»™ previousï¼ˆprevious &#x3D; nowï¼‰ã€‚</p>\n<p>ç”±äºé¦–æ¬¡ previous &#x3D; 0ï¼Œåˆ™æ­¤æ—¶å‡½æ•°ç¬¬ä¸€æ¬¡è§¦å‘å°±ä¼šç«‹å³æ‰§è¡Œã€‚</p>\n<p>åç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œå‡½æ•°ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ç”±äºä¸€å¼€å§‹now - 0 &gt; waitï¼Œåˆ™è¿™ä¸ªå†™æ³•ï¼Œæ—¶é—´ä¼šç«‹å³æ‰§è¡Œï¼Œæ²¡è¿‡ä¸€ç§’ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œäº‹ä»¶</span><br><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, now;</span><br><span class=\"line\">    let previous = 0; // è®¾ç½®è¿‡å»çš„æ‰§è¡Œæ—¶é—´åˆå§‹å€¼ä¸º0</span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        now = +(Date.now() || new Date().getTime());</span><br><span class=\"line\">        if (now - previous &gt; wait) &#123;</span><br><span class=\"line\">            func.apply(context, args);</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®šæ—¶å™¨å®ç°\"><a href=\"#å®šæ—¶å™¨å®ç°\" class=\"headerlink\" title=\"å®šæ—¶å™¨å®ç°\"></a>å®šæ—¶å™¨å®ç°</h3><p>ä½¿ç”¨å®šæ—¶å™¨å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ– timeoutï¼Œç„¶åå®šä¹‰!timeout ä¸º true çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§è¡Œ setTimeoutï¼Œï¼Œç­‰å¾… wait æ—¶é—´åæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæ¸…ç©º timeoutï¼Œä»¥æ­¤ç±»æ¨ï¼Œé‡æ–°è¿›å…¥ä¹Ÿä¼šæŒ‰ä¸Šè¿°æ‰§è¡Œã€‚</p>\n<p>ç”±äºè¿›å…¥å‡½æ•°ï¼Œå°±æ‰§è¡Œ setTimeoutï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œã€‚</p>\n<p>åç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œè€Œåè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ç”±äºä¸€è¿›å…¥å°±åˆ›å»ºäº†å®šæ—¶å™¨ï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œ</span><br><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!timeout) &#123;</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆå¹¶ç‰ˆæœ¬\"><a href=\"#åˆå¹¶ç‰ˆæœ¬\" class=\"headerlink\" title=\"åˆå¹¶ç‰ˆæœ¬\"></a>åˆå¹¶ç‰ˆæœ¬</h3><p>å¦‚æœï¼Œæˆ‘ä»¬éœ€è¦æ—¢åˆšå¼€å§‹å°±ç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åï¼Œè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p>\n<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†å®šæ—¶å™¨å’Œæ—¶é—´æˆ³åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªå…¨æ–°çš„èŠ‚æµç‰ˆæœ¬ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            func.apply(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\"><a href=\"#åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\"></a>åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–</h3><p>ç”±äºåˆå¹¶åçš„ç‰ˆæœ¬å¹¶æ²¡ç”¨è¿”å›å€¼çš„ä¼˜åŒ–+å–æ¶ˆåŠŸèƒ½ã€‚</p>\n<p>ä¸‹é¢å¯¹ä»£ç è¿›è¡Œè¿”å›å€¼+å–æ¶ˆåŠŸèƒ½ä¼˜åŒ–ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    const showResult = function (e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            return showResult(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                return showResult(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        retrun result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    throttled.cancel = function () &#123;</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        previous = 0;</span><br><span class=\"line\">        context = timeout = result = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åŠŸèƒ½æ€§ä¼˜åŒ–\"><a href=\"#åŠŸèƒ½æ€§ä¼˜åŒ–\" class=\"headerlink\" title=\"åŠŸèƒ½æ€§ä¼˜åŒ–\"></a>åŠŸèƒ½æ€§ä¼˜åŒ–</h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›æ— å¤´æœ‰å°¾ï¼Œæˆ–è€…æœ‰å¤´æ— å°¾ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500, options = &#123;&#125;) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">   // å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ</span><br><span class=\"line\">    if (!(options.leading === false &amp;&amp; options.trailing === false)) &#123;</span><br><span class=\"line\">        leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†</span><br><span class=\"line\">        trailing = &quot;trailing&quot; in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿”å›åŸå‡½æ•°çš„return</span><br><span class=\"line\">    const showResult = function (e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">    const getNow = function () &#123;</span><br><span class=\"line\">        return +(Date.now() || new Date().getTime());</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = getNow(); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        if (!previous &amp;&amp; leading === false) previous = now;</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            return showResult(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout &amp;&amp; trailing !== false) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                return showResult(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    throttled.cancel = function () &#123;</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        previous = 0;</span><br><span class=\"line\">        context = timeout = result = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œï¼Œå¦‚æœ options ä¸ä¼ å‚æ•°ï¼Œå‡½æ•°é»˜è®¤è®¾ç½®</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let leading = false</span><br><span class=\"line\">let trailing = true</span><br></pre></td></tr></table></figure>\n\n<p>ä¹Ÿå°±æ˜¯æ— å¤´æœ‰å°¾ã€‚</p>\n<p>å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ä¼šç›´æ¥é‡‡ç”¨é»˜è®¤è®¾ç½®ï¼Œæ— å¤´æœ‰å°¾ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ</span><br><span class=\"line\">if (!(options.leading === false &amp;&amp; options.trailing === false)) &#123;</span><br><span class=\"line\">    leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†</span><br><span class=\"line\">    trailing = &quot;trailing&quot; in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/throttle\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/26\">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ</a></li>\n<li><a href=\"https://underscorejs.net/docs/underscore.html\">underscore.js</a></li>\n<li><a href=\"https://github.com/yygmind/blog/issues/38\">æ·±å…¥æµ…å‡ºèŠ‚æµå‡½æ•° throttle</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/2\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹èŠ‚æµ</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>js çš„å…¸å‹çš„åœºæ™¯</p>\n<ul>\n<li>ç›‘å¬é¡µé¢çš„ scroll äº‹ä»¶</li>\n<li>æ‹–æ‹½äº‹ä»¶</li>\n<li>ç›‘å¬é¼ æ ‡çš„ mousemove äº‹ä»¶<br>â€¦</li>\n</ul>\n<p>è¿™äº›äº‹ä»¶ä¼šé¢‘ç¹è§¦å‘ä¼šå½±å“æ€§èƒ½ï¼Œå¦‚æœä½¿ç”¨èŠ‚æµï¼Œé™ä½é¢‘æ¬¡ï¼Œä¿ç•™äº†ç”¨æˆ·ä½“éªŒï¼Œåˆæå‡äº†æ‰§è¡Œé€Ÿåº¦ï¼ŒèŠ‚çœèµ„æºã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><blockquote>\n<p><strong>èŠ‚æµçš„åŸç†</strong>ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>ç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<h2 id=\"å®ç°æ–¹å¼\"><a href=\"#å®ç°æ–¹å¼\" class=\"headerlink\" title=\"å®ç°æ–¹å¼\"></a>å®ç°æ–¹å¼</h2><p>ç›®å‰æ¯”è¾ƒä¸»æµçš„å®ç°æ–¹å¼æœ‰ä¸¤ç§ï¼šæ—¶é—´æˆ³ã€å®šæ—¶å™¨ã€‚</p>\n<h3 id=\"æ—¶é—´æˆ³å®ç°\"><a href=\"#æ—¶é—´æˆ³å®ç°\" class=\"headerlink\" title=\"æ—¶é—´æˆ³å®ç°\"></a>æ—¶é—´æˆ³å®ç°</h3><p>ä½¿ç”¨æ—¶é—´æˆ³å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ–æ‰§è¡Œäº‹ä»¶çš„æ—¶é—´ previous ä¸º 0ï¼Œç„¶åå°†å½“å‰çš„æ—¶é—´æˆ³å‡å»ä¸Šæ¬¡æ‰§è¡Œæ—¶é—´ï¼ˆnow - previousï¼‰ï¼Œå¦‚æœå¤§äº waitï¼Œåˆ™ç›´æ¥æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¸”å°†æ­¤æ—¶çš„æ‰§è¡Œæ—¶é—´ now èµ‹ç»™ previousï¼ˆprevious &#x3D; nowï¼‰ã€‚</p>\n<p>ç”±äºé¦–æ¬¡ previous &#x3D; 0ï¼Œåˆ™æ­¤æ—¶å‡½æ•°ç¬¬ä¸€æ¬¡è§¦å‘å°±ä¼šç«‹å³æ‰§è¡Œã€‚</p>\n<p>åç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œå‡½æ•°ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ç”±äºä¸€å¼€å§‹now - 0 &gt; waitï¼Œåˆ™è¿™ä¸ªå†™æ³•ï¼Œæ—¶é—´ä¼šç«‹å³æ‰§è¡Œï¼Œæ²¡è¿‡ä¸€ç§’ä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œåœæ­¢è§¦å‘ï¼Œåˆ™ä¸ä¼šå†æ‰§è¡Œäº‹ä»¶</span><br><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, now;</span><br><span class=\"line\">    let previous = 0; // è®¾ç½®è¿‡å»çš„æ‰§è¡Œæ—¶é—´åˆå§‹å€¼ä¸º0</span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        now = +(Date.now() || new Date().getTime());</span><br><span class=\"line\">        if (now - previous &gt; wait) &#123;</span><br><span class=\"line\">            func.apply(context, args);</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"å®šæ—¶å™¨å®ç°\"><a href=\"#å®šæ—¶å™¨å®ç°\" class=\"headerlink\" title=\"å®šæ—¶å™¨å®ç°\"></a>å®šæ—¶å™¨å®ç°</h3><p>ä½¿ç”¨å®šæ—¶å™¨å®ç°ï¼šé¦–å…ˆåˆå§‹åŒ– timeoutï¼Œç„¶åå®šä¹‰!timeout ä¸º true çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æ‰§è¡Œ setTimeoutï¼Œï¼Œç­‰å¾… wait æ—¶é—´åæ‰§è¡Œå‡½æ•°ï¼Œç„¶åæ¸…ç©º timeoutï¼Œä»¥æ­¤ç±»æ¨ï¼Œé‡æ–°è¿›å…¥ä¹Ÿä¼šæŒ‰ä¸Šè¿°æ‰§è¡Œã€‚</p>\n<p>ç”±äºè¿›å…¥å‡½æ•°ï¼Œå°±æ‰§è¡Œ setTimeoutï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œã€‚</p>\n<p>åç»­åˆ™æ¯éš” wait æ—¶é—´æ‰§è¡Œä¸€æ¬¡ï¼Œå¦‚æœåœæ­¢è§¦å‘ï¼Œè€Œåè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ç”±äºä¸€è¿›å…¥å°±åˆ›å»ºäº†å®šæ—¶å™¨ï¼Œæ‰€ä»¥ä¸ä¼šç«‹å³è§¦å‘å‡½æ•°æ‰§è¡Œ</span><br><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\"></span><br><span class=\"line\">        if (!timeout) &#123;</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆå¹¶ç‰ˆæœ¬\"><a href=\"#åˆå¹¶ç‰ˆæœ¬\" class=\"headerlink\" title=\"åˆå¹¶ç‰ˆæœ¬\"></a>åˆå¹¶ç‰ˆæœ¬</h3><p>å¦‚æœï¼Œæˆ‘ä»¬éœ€è¦æ—¢åˆšå¼€å§‹å°±ç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åï¼Œè¿˜ä¼šè§¦å‘æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p>\n<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å°†å®šæ—¶å™¨å’Œæ—¶é—´æˆ³åˆå¹¶ï¼Œç»„æˆä¸€ä¸ªå…¨æ–°çš„èŠ‚æµç‰ˆæœ¬ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            func.apply(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\"><a href=\"#åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\" class=\"headerlink\" title=\"åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–\"></a>åˆå¹¶ç‰ˆæœ¬ä¼˜åŒ–</h3><p>ç”±äºåˆå¹¶åçš„ç‰ˆæœ¬å¹¶æ²¡ç”¨è¿”å›å€¼çš„ä¼˜åŒ–+å–æ¶ˆåŠŸèƒ½ã€‚</p>\n<p>ä¸‹é¢å¯¹ä»£ç è¿›è¡Œè¿”å›å€¼+å–æ¶ˆåŠŸèƒ½ä¼˜åŒ–ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    const showResult = function (e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = +(Date.now() || new Date().getTime()); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            return showResult(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = +(Date.now() || new Date().getTime()); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                return showResult(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        retrun result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    throttled.cancel = function () &#123;</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        previous = 0;</span><br><span class=\"line\">        context = timeout = result = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"åŠŸèƒ½æ€§ä¼˜åŒ–\"><a href=\"#åŠŸèƒ½æ€§ä¼˜åŒ–\" class=\"headerlink\" title=\"åŠŸèƒ½æ€§ä¼˜åŒ–\"></a>åŠŸèƒ½æ€§ä¼˜åŒ–</h3><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›æ— å¤´æœ‰å°¾ï¼Œæˆ–è€…æœ‰å¤´æ— å°¾ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function throttle(func, wait = 500, options = &#123;&#125;) &#123;</span><br><span class=\"line\">    let context, timeout, result;</span><br><span class=\"line\">    let previous = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">   // å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ</span><br><span class=\"line\">    if (!(options.leading === false &amp;&amp; options.trailing === false)) &#123;</span><br><span class=\"line\">        leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†</span><br><span class=\"line\">        trailing = &quot;trailing&quot; in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿”å›åŸå‡½æ•°çš„return</span><br><span class=\"line\">    const showResult = function (e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">    const getNow = function () &#123;</span><br><span class=\"line\">        return +(Date.now() || new Date().getTime());</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    const throttled = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        const now = getNow(); // å½“å‰æ—¶é—´</span><br><span class=\"line\">        // ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">        if (!previous &amp;&amp; leading === false) previous = now;</span><br><span class=\"line\">        const remaining = wait - (now - previous);</span><br><span class=\"line\"></span><br><span class=\"line\">        // å¦‚æœæ²¡æœ‰å‰©ä½™æ—¶é—´æˆ–è€…æ”¹äº†ç³»ç»Ÿæ—¶é—´,è¿™æ—¶å€™ä¸éœ€è¦ç­‰å¾…ï¼Œç›´æ¥ç«‹å³æ‰§è¡Œï¼Œè¿™æ ·å°±ä¼šç¬¬ä¸€æ¬¡å°±æ‰§è¡Œ</span><br><span class=\"line\">        if (remaining &lt;= 0 || remaining &gt; wait) &#123;</span><br><span class=\"line\">            if (timeout) &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            previous = now;</span><br><span class=\"line\">            return showResult(context, args);</span><br><span class=\"line\">        &#125; else if (!timeout &amp;&amp; trailing !== false) &#123;</span><br><span class=\"line\">            // å‰©ä½™çš„æƒ…å†µå°±æ˜¯remaining&lt;=waitçš„æƒ…å†µï¼Œè¿™é‡Œä½¿ç”¨setTimeoutå°±å¯ä»¥æœ€åä¹Ÿä¼šæ‰§è¡Œä¸€æ¬¡</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null;</span><br><span class=\"line\">                previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">                return showResult(context, args);</span><br><span class=\"line\">            &#125;, remaining);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    throttled.cancel = function () &#123;</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        previous = 0;</span><br><span class=\"line\">        context = timeout = result = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return throttled;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œï¼Œå¦‚æœ options ä¸ä¼ å‚æ•°ï¼Œå‡½æ•°é»˜è®¤è®¾ç½®</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let leading = false</span><br><span class=\"line\">let trailing = true</span><br></pre></td></tr></table></figure>\n\n<p>ä¹Ÿå°±æ˜¯æ— å¤´æœ‰å°¾ã€‚</p>\n<p>å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ä¼šç›´æ¥é‡‡ç”¨é»˜è®¤è®¾ç½®ï¼Œæ— å¤´æœ‰å°¾ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¦‚æœåŒæ—¶è®¾ç½®æ— å¤´æ— å°¾ï¼Œåˆ™ç›´æ¥ä½¿ç”¨é»˜è®¤è®¾ç½®,å…¶ä»–æƒ…å†µï¼Œåˆ™èµ°ä¸‹è¿°æ“ä½œ</span><br><span class=\"line\">if (!(options.leading === false &amp;&amp; options.trailing === false)) &#123;</span><br><span class=\"line\">    leading = !!options.leading; // é»˜è®¤å»é™¤ç«‹å³æ‰§è¡Œéƒ¨åˆ†</span><br><span class=\"line\">    trailing = &quot;trailing&quot; in options ? !!options.trailing : true; // é»˜è®¤ä¿ç•™å°¾éƒ¨</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/throttle\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/26\">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦èŠ‚æµ</a></li>\n<li><a href=\"https://underscorejs.net/docs/underscore.html\">underscore.js</a></li>\n<li><a href=\"https://github.com/yygmind/blog/issues/38\">æ·±å…¥æµ…å‡ºèŠ‚æµå‡½æ•° throttle</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/2\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹èŠ‚æµ</a></p>\n"},{"title":"ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–","date":"2022-07-08T12:04:06.597Z","_content":"\n## å‰è¨€\n\nåœ¨å‰ç«¯å¼€å‘ä¸­ä¼šé‡åˆ°ä¸€äº›é¢‘ç¹çš„äº‹ä»¶è§¦å‘ï¼Œæ¯”å¦‚ï¼š\n\n1. window çš„ resizeã€scroll\n2. mousedownã€mousemoveã€mousewheel(é¼ æ ‡æ»šè½®)\n3. keyup(å¼¹èµ·é”®ç›˜)ã€keydown(æŒ‰ä¸‹é”®ç›˜)ã€keypress(æŒ‰ä¸‹å­—ç¬¦é”®ç›˜)  \n   â€¦â€¦\n\næƒ³è±¡ä¸€ä¸‹çª—å£çš„ resize äº‹ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªå…ƒç´ çš„ onmouseover äº‹ä»¶ - ä»–ä»¬è§¦å‘æ—¶ï¼Œæ‰§è¡Œçš„éå¸¸è¿…é€Ÿï¼Œå¹¶ä¸”è§¦å‘å¾ˆå¤šæ¬¡ã€‚å¦‚æœä½ çš„å›è°ƒè¿‡é‡ï¼Œä½ å¯èƒ½ä½¿æµè§ˆå™¨æ­»æ‰ã€‚\n\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é˜²æŠ–ã€‚\n\n## åŸç†\n\n> **é˜²æŠ–çš„åŸç†**ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚\n\né€šä¿—ä¸€ç‚¹ï¼šå®šä¹‰ wait=2000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 2 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 2 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ2 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 2 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚\n\n## ç¤ºä¾‹ä»£ç \n\n### ä»£ç ä¸€(æ ¹æ®åŸç†)\n\nå®šä¹‰å‡½æ•° debounce  \næ ¹æ®è¡¨è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“éœ€è¦ä¼ å…¥å‚æ•°ï¼šfuncã€wait  \nå®ç°ä»£ç ï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout; // å®šä¹‰å®šæ—¶å™¨ï¼Œwaitç§’åéœ€è¦æ¸…é™¤å®šæ—¶å™¨\n    return function () {\n      // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯å½“å‰timeoutï¼Œå†ä»¥æ–°çš„äº‹ä»¶é‡æ–°è®¾ç½®å®šæ—¶å™¨\n      if (timeout) clearTimeout(timeout);\n\n      timeout = setTimeout(function () {\n        func();\n        clearTimeout(timeout)\n      }, wait);\n    };\n}\n```\n\n### ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)\n\næˆ‘ä»¬ä¹‹å‰çš„åŸå‡½æ•°æŒ‡å‘å“ªï¼Œå¦‚æœä½¿ç”¨æˆ‘ä»¬çš„ debounce å‡½æ•°åŒ…è£¹åï¼Œä¹Ÿè¦å°† this æŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ã€‚\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context;\n    return function () {\n          context = this;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\n### ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)\n\nJavaScript åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä¼šæä¾›äº‹ä»¶å¯¹è±¡ eventï¼›  \nå› æ­¤ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°ä¿æŒåŸå‡½æ•°çš„ event å¯¹è±¡ç›¸åŒ\n\nå¼ä¸€ï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context, args;\n    return function () {\n          context = this;\n          args = arguments;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context, args);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\nå¼äºŒï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context;\n    return function (...args) {\n          context = this;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context, args);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\n### ä»£ç å››(å‡½æ•°è¿”å›å€¼)\n\næ­¤æ—¶éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡ŒåŸå‡½æ•°æ—¶å¯èƒ½æœ‰è¿”å›å€¼ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç† debounce å‡½æ•°ï¼Œåœ¨æœ€åä¹Ÿè¦æœ‰ç›¸åŒè¿”å›å€¼ã€‚\n\nè¿™é‡Œåšå‡ºçš„å¤„ç†ï¼Œæ˜¯å°†`func.apply(context, args)`å•ç‹¬æ‹¿å‡ºæ¥ï¼Œè¾“å‡ºåŸå‡½æ•°çš„`result`ã€‚\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context, result;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    return function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n\n        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n        timeout = setTimeout(function () {\n            clearTimeout(timeout);\n            return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n        }, wait);\n        return result;\n    };\n}\n```\n\n### ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)\n\nå› ä¸ºåŸç†ä¸­ï¼Œæ¯æ¬¡è§¦å‘å®Œåè¿˜éœ€è¦ç­‰å¾… wait ç§’æ‰§è¡Œã€‚  \nä½†æ˜¯æŸäº›åœºæ™¯ï¼Œæ¯”å¦‚æŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä¼šä½¿æ•´ä¸ªæ—¶é—´å˜é•¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®šä¹‰ immediateï¼Œç‚¹å‡»æŒ‰é’®ï¼Œç«‹å³æ‰§è¡Œè°ƒç”¨æ¥å£ï¼Œè¿˜è¦è¾¾åˆ° wait ç§’å†…é˜²æŠ–çš„æ•ˆæœã€‚\n\n```\nfunction debounce(func, wait = 500, immediate = false) {\n    let timeout, context, result, callNow;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    return function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n        if (immediate) {\n            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç \n            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false\n            timeout = setTimeout(function () {\n                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;\n            }, wait);\n            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°\n        } else {\n        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n            timeout = setTimeout(function () {\n                clearTimeout(timeout);\n                return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n            }, wait);\n        }\n        return result\n    };\n}\n```\n\n### ä»£ç å…­(å–æ¶ˆ)\n\nå¢åŠ å–æ¶ˆé˜²æŠ–çš„æ–¹æ³•ï¼šåªéœ€è¦å®šä¹‰ cancel æ–¹æ³•ï¼Œå»é™¤å®šæ—¶å™¨ï¼Œå°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸º undefinedã€‚\n\n```\nfunction debounce(func, wait = 500, immediate = false) {\n    let timeout, context, result, callNow;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    const debounced = function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n        if (immediate) {\n            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç \n            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false\n            timeout = setTimeout(function () {\n                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;\n            }, wait);\n            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°\n        } else {\n            // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n                timeout = setTimeout(function () {\n                    clearTimeout(timeout);\n                    return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n                }, wait);\n        }\n        return result\n    };\n\n    debounced.cancel = function () {\n        // å»é™¤å®šæ—¶å™¨ï¼Œ\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        // å°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸ºundefined\n        timeout = context = result = callNow = undefined;\n    };\n    return debounced;\n}\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/debounce)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ–](https://github.com/mqyqingfeng/Blog/issues/22)\n- [underscore.js](https://underscorejs.net/docs/underscore.html)\n- [æ·±å…¥æµ…å‡ºé˜²æŠ–å‡½æ•° debounce](https://github.com/yygmind/blog/issues/39)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹é˜²æŠ–](https://github.com/yihan12/Blog/issues/1)\n","source":"_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–.md","raw":"---\ntitle: ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–\ndate:\ntags: [JavaScript]\ncategories: [å‰ç«¯, JavaScript, JavaScriptæ·±å…¥ç†è§£, é˜²æŠ–]\n---\n\n## å‰è¨€\n\nåœ¨å‰ç«¯å¼€å‘ä¸­ä¼šé‡åˆ°ä¸€äº›é¢‘ç¹çš„äº‹ä»¶è§¦å‘ï¼Œæ¯”å¦‚ï¼š\n\n1. window çš„ resizeã€scroll\n2. mousedownã€mousemoveã€mousewheel(é¼ æ ‡æ»šè½®)\n3. keyup(å¼¹èµ·é”®ç›˜)ã€keydown(æŒ‰ä¸‹é”®ç›˜)ã€keypress(æŒ‰ä¸‹å­—ç¬¦é”®ç›˜)  \n   â€¦â€¦\n\næƒ³è±¡ä¸€ä¸‹çª—å£çš„ resize äº‹ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªå…ƒç´ çš„ onmouseover äº‹ä»¶ - ä»–ä»¬è§¦å‘æ—¶ï¼Œæ‰§è¡Œçš„éå¸¸è¿…é€Ÿï¼Œå¹¶ä¸”è§¦å‘å¾ˆå¤šæ¬¡ã€‚å¦‚æœä½ çš„å›è°ƒè¿‡é‡ï¼Œä½ å¯èƒ½ä½¿æµè§ˆå™¨æ­»æ‰ã€‚\n\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é˜²æŠ–ã€‚\n\n## åŸç†\n\n> **é˜²æŠ–çš„åŸç†**ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚\n\né€šä¿—ä¸€ç‚¹ï¼šå®šä¹‰ wait=2000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 2 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 2 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ2 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 2 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚\n\n## ç¤ºä¾‹ä»£ç \n\n### ä»£ç ä¸€(æ ¹æ®åŸç†)\n\nå®šä¹‰å‡½æ•° debounce  \næ ¹æ®è¡¨è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“éœ€è¦ä¼ å…¥å‚æ•°ï¼šfuncã€wait  \nå®ç°ä»£ç ï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout; // å®šä¹‰å®šæ—¶å™¨ï¼Œwaitç§’åéœ€è¦æ¸…é™¤å®šæ—¶å™¨\n    return function () {\n      // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯å½“å‰timeoutï¼Œå†ä»¥æ–°çš„äº‹ä»¶é‡æ–°è®¾ç½®å®šæ—¶å™¨\n      if (timeout) clearTimeout(timeout);\n\n      timeout = setTimeout(function () {\n        func();\n        clearTimeout(timeout)\n      }, wait);\n    };\n}\n```\n\n### ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)\n\næˆ‘ä»¬ä¹‹å‰çš„åŸå‡½æ•°æŒ‡å‘å“ªï¼Œå¦‚æœä½¿ç”¨æˆ‘ä»¬çš„ debounce å‡½æ•°åŒ…è£¹åï¼Œä¹Ÿè¦å°† this æŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ã€‚\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context;\n    return function () {\n          context = this;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\n### ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)\n\nJavaScript åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä¼šæä¾›äº‹ä»¶å¯¹è±¡ eventï¼›  \nå› æ­¤ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°ä¿æŒåŸå‡½æ•°çš„ event å¯¹è±¡ç›¸åŒ\n\nå¼ä¸€ï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context, args;\n    return function () {\n          context = this;\n          args = arguments;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context, args);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\nå¼äºŒï¼š\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context;\n    return function (...args) {\n          context = this;\n          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n          if (timeout) clearTimeout(timeout);\n\n          timeout = setTimeout(function () {\n                func.apply(context, args);\n                clearTimeout(timeout);\n          }, wait);\n    };\n}\n```\n\n### ä»£ç å››(å‡½æ•°è¿”å›å€¼)\n\næ­¤æ—¶éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡ŒåŸå‡½æ•°æ—¶å¯èƒ½æœ‰è¿”å›å€¼ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç† debounce å‡½æ•°ï¼Œåœ¨æœ€åä¹Ÿè¦æœ‰ç›¸åŒè¿”å›å€¼ã€‚\n\nè¿™é‡Œåšå‡ºçš„å¤„ç†ï¼Œæ˜¯å°†`func.apply(context, args)`å•ç‹¬æ‹¿å‡ºæ¥ï¼Œè¾“å‡ºåŸå‡½æ•°çš„`result`ã€‚\n\n```\nfunction debounce(func, wait = 500) {\n    let timeout, context, result;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    return function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n\n        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n        timeout = setTimeout(function () {\n            clearTimeout(timeout);\n            return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n        }, wait);\n        return result;\n    };\n}\n```\n\n### ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)\n\nå› ä¸ºåŸç†ä¸­ï¼Œæ¯æ¬¡è§¦å‘å®Œåè¿˜éœ€è¦ç­‰å¾… wait ç§’æ‰§è¡Œã€‚  \nä½†æ˜¯æŸäº›åœºæ™¯ï¼Œæ¯”å¦‚æŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä¼šä½¿æ•´ä¸ªæ—¶é—´å˜é•¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®šä¹‰ immediateï¼Œç‚¹å‡»æŒ‰é’®ï¼Œç«‹å³æ‰§è¡Œè°ƒç”¨æ¥å£ï¼Œè¿˜è¦è¾¾åˆ° wait ç§’å†…é˜²æŠ–çš„æ•ˆæœã€‚\n\n```\nfunction debounce(func, wait = 500, immediate = false) {\n    let timeout, context, result, callNow;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    return function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n        if (immediate) {\n            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç \n            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false\n            timeout = setTimeout(function () {\n                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;\n            }, wait);\n            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°\n        } else {\n        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n            timeout = setTimeout(function () {\n                clearTimeout(timeout);\n                return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n            }, wait);\n        }\n        return result\n    };\n}\n```\n\n### ä»£ç å…­(å–æ¶ˆ)\n\nå¢åŠ å–æ¶ˆé˜²æŠ–çš„æ–¹æ³•ï¼šåªéœ€è¦å®šä¹‰ cancel æ–¹æ³•ï¼Œå»é™¤å®šæ—¶å™¨ï¼Œå°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸º undefinedã€‚\n\n```\nfunction debounce(func, wait = 500, immediate = false) {\n    let timeout, context, result, callNow;\n\n    function showResult(e1, e2) {\n        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult\n        return result;\n    }\n\n    const debounced = function (...args) {\n        context = this;\n        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ\n        if (timeout) clearTimeout(timeout);\n        if (immediate) {\n            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç \n            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false\n            timeout = setTimeout(function () {\n                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;\n            }, wait);\n            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°\n        } else {\n            // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç \n                timeout = setTimeout(function () {\n                    clearTimeout(timeout);\n                    return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°\n                }, wait);\n        }\n        return result\n    };\n\n    debounced.cancel = function () {\n        // å»é™¤å®šæ—¶å™¨ï¼Œ\n        if (timeout !== undefined) {\n            clearTimeout(timeout);\n        }\n        // å°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸ºundefined\n        timeout = context = result = callNow = undefined;\n    };\n    return debounced;\n}\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/debounce)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ–](https://github.com/mqyqingfeng/Blog/issues/22)\n- [underscore.js](https://underscorejs.net/docs/underscore.html)\n- [æ·±å…¥æµ…å‡ºé˜²æŠ–å‡½æ•° debounce](https://github.com/yygmind/blog/issues/39)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹é˜²æŠ–](https://github.com/yihan12/Blog/issues/1)\n","slug":"JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹é˜²æŠ–","published":1,"updated":"2023-08-14T04:12:31.242Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2ywo0018q42vcib33ero","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>åœ¨å‰ç«¯å¼€å‘ä¸­ä¼šé‡åˆ°ä¸€äº›é¢‘ç¹çš„äº‹ä»¶è§¦å‘ï¼Œæ¯”å¦‚ï¼š</p>\n<ol>\n<li>window çš„ resizeã€scroll</li>\n<li>mousedownã€mousemoveã€mousewheel(é¼ æ ‡æ»šè½®)</li>\n<li>keyup(å¼¹èµ·é”®ç›˜)ã€keydown(æŒ‰ä¸‹é”®ç›˜)ã€keypress(æŒ‰ä¸‹å­—ç¬¦é”®ç›˜)<br>â€¦â€¦</li>\n</ol>\n<p>æƒ³è±¡ä¸€ä¸‹çª—å£çš„ resize äº‹ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªå…ƒç´ çš„ onmouseover äº‹ä»¶ - ä»–ä»¬è§¦å‘æ—¶ï¼Œæ‰§è¡Œçš„éå¸¸è¿…é€Ÿï¼Œå¹¶ä¸”è§¦å‘å¾ˆå¤šæ¬¡ã€‚å¦‚æœä½ çš„å›è°ƒè¿‡é‡ï¼Œä½ å¯èƒ½ä½¿æµè§ˆå™¨æ­»æ‰ã€‚</p>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é˜²æŠ–ã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><blockquote>\n<p><strong>é˜²æŠ–çš„åŸç†</strong>ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚</p>\n</blockquote>\n<p>é€šä¿—ä¸€ç‚¹ï¼šå®šä¹‰ wait&#x3D;2000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 2 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 2 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ2 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 2 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚</p>\n<h2 id=\"ç¤ºä¾‹ä»£ç \"><a href=\"#ç¤ºä¾‹ä»£ç \" class=\"headerlink\" title=\"ç¤ºä¾‹ä»£ç \"></a>ç¤ºä¾‹ä»£ç </h2><h3 id=\"ä»£ç ä¸€-æ ¹æ®åŸç†\"><a href=\"#ä»£ç ä¸€-æ ¹æ®åŸç†\" class=\"headerlink\" title=\"ä»£ç ä¸€(æ ¹æ®åŸç†)\"></a>ä»£ç ä¸€(æ ¹æ®åŸç†)</h3><p>å®šä¹‰å‡½æ•° debounce<br>æ ¹æ®è¡¨è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“éœ€è¦ä¼ å…¥å‚æ•°ï¼šfuncã€wait<br>å®ç°ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout; // å®šä¹‰å®šæ—¶å™¨ï¼Œwaitç§’åéœ€è¦æ¸…é™¤å®šæ—¶å™¨</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">      // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯å½“å‰timeoutï¼Œå†ä»¥æ–°çš„äº‹ä»¶é‡æ–°è®¾ç½®å®šæ—¶å™¨</span><br><span class=\"line\">      if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">      timeout = setTimeout(function () &#123;</span><br><span class=\"line\">        func();</span><br><span class=\"line\">        clearTimeout(timeout)</span><br><span class=\"line\">      &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç äºŒ-è§£å†³å‡½æ•°-this-æŒ‡å‘\"><a href=\"#ä»£ç äºŒ-è§£å†³å‡½æ•°-this-æŒ‡å‘\" class=\"headerlink\" title=\"ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)\"></a>ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)</h3><p>æˆ‘ä»¬ä¹‹å‰çš„åŸå‡½æ•°æŒ‡å‘å“ªï¼Œå¦‚æœä½¿ç”¨æˆ‘ä»¬çš„ debounce å‡½æ•°åŒ…è£¹åï¼Œä¹Ÿè¦å°† this æŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context;</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç ä¸‰-è§£å†³å‡½æ•°-event-å¯¹è±¡\"><a href=\"#ä»£ç ä¸‰-è§£å†³å‡½æ•°-event-å¯¹è±¡\" class=\"headerlink\" title=\"ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)\"></a>ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)</h3><p>JavaScript åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä¼šæä¾›äº‹ä»¶å¯¹è±¡ eventï¼›<br>å› æ­¤ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°ä¿æŒåŸå‡½æ•°çš„ event å¯¹è±¡ç›¸åŒ</p>\n<p>å¼ä¸€ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context, args;</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          args = arguments;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¼äºŒï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context;</span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç å››-å‡½æ•°è¿”å›å€¼\"><a href=\"#ä»£ç å››-å‡½æ•°è¿”å›å€¼\" class=\"headerlink\" title=\"ä»£ç å››(å‡½æ•°è¿”å›å€¼)\"></a>ä»£ç å››(å‡½æ•°è¿”å›å€¼)</h3><p>æ­¤æ—¶éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡ŒåŸå‡½æ•°æ—¶å¯èƒ½æœ‰è¿”å›å€¼ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç† debounce å‡½æ•°ï¼Œåœ¨æœ€åä¹Ÿè¦æœ‰ç›¸åŒè¿”å›å€¼ã€‚</p>\n<p>è¿™é‡Œåšå‡ºçš„å¤„ç†ï¼Œæ˜¯å°†<code>func.apply(context, args)</code>å•ç‹¬æ‹¿å‡ºæ¥ï¼Œè¾“å‡ºåŸå‡½æ•°çš„<code>result</code>ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context, result;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">        timeout = setTimeout(function () &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">            return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">        &#125;, wait);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç äº”-ç«‹åˆ»æ‰§è¡Œ\"><a href=\"#ä»£ç äº”-ç«‹åˆ»æ‰§è¡Œ\" class=\"headerlink\" title=\"ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)\"></a>ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)</h3><p>å› ä¸ºåŸç†ä¸­ï¼Œæ¯æ¬¡è§¦å‘å®Œåè¿˜éœ€è¦ç­‰å¾… wait ç§’æ‰§è¡Œã€‚<br>ä½†æ˜¯æŸäº›åœºæ™¯ï¼Œæ¯”å¦‚æŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä¼šä½¿æ•´ä¸ªæ—¶é—´å˜é•¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®šä¹‰ immediateï¼Œç‚¹å‡»æŒ‰é’®ï¼Œç«‹å³æ‰§è¡Œè°ƒç”¨æ¥å£ï¼Œè¿˜è¦è¾¾åˆ° wait ç§’å†…é˜²æŠ–çš„æ•ˆæœã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500, immediate = false) &#123;</span><br><span class=\"line\">    let timeout, context, result, callNow;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\">        if (immediate) &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç </span><br><span class=\"line\">            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç å…­-å–æ¶ˆ\"><a href=\"#ä»£ç å…­-å–æ¶ˆ\" class=\"headerlink\" title=\"ä»£ç å…­(å–æ¶ˆ)\"></a>ä»£ç å…­(å–æ¶ˆ)</h3><p>å¢åŠ å–æ¶ˆé˜²æŠ–çš„æ–¹æ³•ï¼šåªéœ€è¦å®šä¹‰ cancel æ–¹æ³•ï¼Œå»é™¤å®šæ—¶å™¨ï¼Œå°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸º undefinedã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500, immediate = false) &#123;</span><br><span class=\"line\">    let timeout, context, result, callNow;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\">        if (immediate) &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç </span><br><span class=\"line\">            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">                timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                    clearTimeout(timeout);</span><br><span class=\"line\">                    return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">                &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = function () &#123;</span><br><span class=\"line\">        // å»é™¤å®šæ—¶å™¨ï¼Œ</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // å°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸ºundefined</span><br><span class=\"line\">        timeout = context = result = callNow = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/debounce\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/22\">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ–</a></li>\n<li><a href=\"https://underscorejs.net/docs/underscore.html\">underscore.js</a></li>\n<li><a href=\"https://github.com/yygmind/blog/issues/39\">æ·±å…¥æµ…å‡ºé˜²æŠ–å‡½æ•° debounce</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/1\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹é˜²æŠ–</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>åœ¨å‰ç«¯å¼€å‘ä¸­ä¼šé‡åˆ°ä¸€äº›é¢‘ç¹çš„äº‹ä»¶è§¦å‘ï¼Œæ¯”å¦‚ï¼š</p>\n<ol>\n<li>window çš„ resizeã€scroll</li>\n<li>mousedownã€mousemoveã€mousewheel(é¼ æ ‡æ»šè½®)</li>\n<li>keyup(å¼¹èµ·é”®ç›˜)ã€keydown(æŒ‰ä¸‹é”®ç›˜)ã€keypress(æŒ‰ä¸‹å­—ç¬¦é”®ç›˜)<br>â€¦â€¦</li>\n</ol>\n<p>æƒ³è±¡ä¸€ä¸‹çª—å£çš„ resize äº‹ä»¶æˆ–è€…æ˜¯ä¸€ä¸ªå…ƒç´ çš„ onmouseover äº‹ä»¶ - ä»–ä»¬è§¦å‘æ—¶ï¼Œæ‰§è¡Œçš„éå¸¸è¿…é€Ÿï¼Œå¹¶ä¸”è§¦å‘å¾ˆå¤šæ¬¡ã€‚å¦‚æœä½ çš„å›è°ƒè¿‡é‡ï¼Œä½ å¯èƒ½ä½¿æµè§ˆå™¨æ­»æ‰ã€‚</p>\n<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é˜²æŠ–ã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><blockquote>\n<p><strong>é˜²æŠ–çš„åŸç†</strong>ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚</p>\n</blockquote>\n<p>é€šä¿—ä¸€ç‚¹ï¼šå®šä¹‰ wait&#x3D;2000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 2 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 2 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ2 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 2 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚</p>\n<h2 id=\"ç¤ºä¾‹ä»£ç \"><a href=\"#ç¤ºä¾‹ä»£ç \" class=\"headerlink\" title=\"ç¤ºä¾‹ä»£ç \"></a>ç¤ºä¾‹ä»£ç </h2><h3 id=\"ä»£ç ä¸€-æ ¹æ®åŸç†\"><a href=\"#ä»£ç ä¸€-æ ¹æ®åŸç†\" class=\"headerlink\" title=\"ä»£ç ä¸€(æ ¹æ®åŸç†)\"></a>ä»£ç ä¸€(æ ¹æ®åŸç†)</h3><p>å®šä¹‰å‡½æ•° debounce<br>æ ¹æ®è¡¨è¿°ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“éœ€è¦ä¼ å…¥å‚æ•°ï¼šfuncã€wait<br>å®ç°ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout; // å®šä¹‰å®šæ—¶å™¨ï¼Œwaitç§’åéœ€è¦æ¸…é™¤å®šæ—¶å™¨</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">      // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯å½“å‰timeoutï¼Œå†ä»¥æ–°çš„äº‹ä»¶é‡æ–°è®¾ç½®å®šæ—¶å™¨</span><br><span class=\"line\">      if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">      timeout = setTimeout(function () &#123;</span><br><span class=\"line\">        func();</span><br><span class=\"line\">        clearTimeout(timeout)</span><br><span class=\"line\">      &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç äºŒ-è§£å†³å‡½æ•°-this-æŒ‡å‘\"><a href=\"#ä»£ç äºŒ-è§£å†³å‡½æ•°-this-æŒ‡å‘\" class=\"headerlink\" title=\"ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)\"></a>ä»£ç äºŒ(è§£å†³å‡½æ•° this æŒ‡å‘)</h3><p>æˆ‘ä»¬ä¹‹å‰çš„åŸå‡½æ•°æŒ‡å‘å“ªï¼Œå¦‚æœä½¿ç”¨æˆ‘ä»¬çš„ debounce å‡½æ•°åŒ…è£¹åï¼Œä¹Ÿè¦å°† this æŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context;</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç ä¸‰-è§£å†³å‡½æ•°-event-å¯¹è±¡\"><a href=\"#ä»£ç ä¸‰-è§£å†³å‡½æ•°-event-å¯¹è±¡\" class=\"headerlink\" title=\"ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)\"></a>ä»£ç ä¸‰(è§£å†³å‡½æ•° event å¯¹è±¡)</h3><p>JavaScript åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä¼šæä¾›äº‹ä»¶å¯¹è±¡ eventï¼›<br>å› æ­¤ï¼Œä¹Ÿè¦è€ƒè™‘åˆ°ä¿æŒåŸå‡½æ•°çš„ event å¯¹è±¡ç›¸åŒ</p>\n<p>å¼ä¸€ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context, args;</span><br><span class=\"line\">    return function () &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          args = arguments;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¼äºŒï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context;</span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">          context = this;</span><br><span class=\"line\">          // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">          if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">          timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                func.apply(context, args);</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">          &#125;, wait);</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç å››-å‡½æ•°è¿”å›å€¼\"><a href=\"#ä»£ç å››-å‡½æ•°è¿”å›å€¼\" class=\"headerlink\" title=\"ä»£ç å››(å‡½æ•°è¿”å›å€¼)\"></a>ä»£ç å››(å‡½æ•°è¿”å›å€¼)</h3><p>æ­¤æ—¶éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡ŒåŸå‡½æ•°æ—¶å¯èƒ½æœ‰è¿”å›å€¼ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç† debounce å‡½æ•°ï¼Œåœ¨æœ€åä¹Ÿè¦æœ‰ç›¸åŒè¿”å›å€¼ã€‚</p>\n<p>è¿™é‡Œåšå‡ºçš„å¤„ç†ï¼Œæ˜¯å°†<code>func.apply(context, args)</code>å•ç‹¬æ‹¿å‡ºæ¥ï¼Œè¾“å‡ºåŸå‡½æ•°çš„<code>result</code>ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500) &#123;</span><br><span class=\"line\">    let timeout, context, result;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\"></span><br><span class=\"line\">        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">        timeout = setTimeout(function () &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">            return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">        &#125;, wait);</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç äº”-ç«‹åˆ»æ‰§è¡Œ\"><a href=\"#ä»£ç äº”-ç«‹åˆ»æ‰§è¡Œ\" class=\"headerlink\" title=\"ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)\"></a>ä»£ç äº”(ç«‹åˆ»æ‰§è¡Œ)</h3><p>å› ä¸ºåŸç†ä¸­ï¼Œæ¯æ¬¡è§¦å‘å®Œåè¿˜éœ€è¦ç­‰å¾… wait ç§’æ‰§è¡Œã€‚<br>ä½†æ˜¯æŸäº›åœºæ™¯ï¼Œæ¯”å¦‚æŒ‰é’®ç‚¹å‡»åè°ƒç”¨æ¥å£ï¼Œä¼šä½¿æ•´ä¸ªæ—¶é—´å˜é•¿ï¼Œè¿™æ—¶å€™å°±éœ€è¦å®šä¹‰ immediateï¼Œç‚¹å‡»æŒ‰é’®ï¼Œç«‹å³æ‰§è¡Œè°ƒç”¨æ¥å£ï¼Œè¿˜è¦è¾¾åˆ° wait ç§’å†…é˜²æŠ–çš„æ•ˆæœã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500, immediate = false) &#123;</span><br><span class=\"line\">    let timeout, context, result, callNow;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    return function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\">        if (immediate) &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç </span><br><span class=\"line\">            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">        // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                clearTimeout(timeout);</span><br><span class=\"line\">                return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"ä»£ç å…­-å–æ¶ˆ\"><a href=\"#ä»£ç å…­-å–æ¶ˆ\" class=\"headerlink\" title=\"ä»£ç å…­(å–æ¶ˆ)\"></a>ä»£ç å…­(å–æ¶ˆ)</h3><p>å¢åŠ å–æ¶ˆé˜²æŠ–çš„æ–¹æ³•ï¼šåªéœ€è¦å®šä¹‰ cancel æ–¹æ³•ï¼Œå»é™¤å®šæ—¶å™¨ï¼Œå°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸º undefinedã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait = 500, immediate = false) &#123;</span><br><span class=\"line\">    let timeout, context, result, callNow;</span><br><span class=\"line\"></span><br><span class=\"line\">    function showResult(e1, e2) &#123;</span><br><span class=\"line\">        result = func.apply(e1, e2); // ç»‘å®še1,e2çš„åŒæ—¶ï¼Œè¾“å‡ºresult</span><br><span class=\"line\">        return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">        context = this;</span><br><span class=\"line\">        // å¦‚æœå†æ¬¡è§¦å‘å‡½æ•°æ—¶ï¼Œå·²æœ‰timeoutï¼Œåˆ™æ¸…ç©ºé”€æ¯timeoutï¼Œåœ¨å¾€ä¸‹æ‰§è¡Œ</span><br><span class=\"line\">        if (timeout) clearTimeout(timeout);</span><br><span class=\"line\">        if (immediate) &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ç«‹å³æ‰§è¡Œçš„åˆ¤æ–­ä»£ç </span><br><span class=\"line\">            callNow = !timeout; // timeoutæœ€å¼€å§‹å®šä¹‰ä¸ºundefinedï¼Œå¦‚æœæœªè®¾ç½®å®šæ—¶å™¨ï¼Œåˆ™!timeoutè¿”å›true;å¦åˆ™è¿”å›false</span><br><span class=\"line\">            timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                timeout = null; // è¿™é‡Œæ—¶å®šæ—¶å™¨èµ°å®Œï¼Œè®©timeoutä¸ºnullï¼Œåˆ™ä¸Šä¸€æ­¥!timeoutä¾ç„¶è¿”å›true;</span><br><span class=\"line\">            &#125;, wait);</span><br><span class=\"line\">            if (callNow) return showResult(context, args); //åˆšè¿›å…¥timeout=undefinedä»¥åŠï¼Œwaitæ—¶é—´èµ°å®Œtimeout = nullï¼Œä¸¤ç§æƒ…å†µéƒ½ä¼šç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            // è¿™é‡Œæ˜¯ä¸ç«‹å³æ‰§è¡Œçš„åŸä»£ç </span><br><span class=\"line\">                timeout = setTimeout(function () &#123;</span><br><span class=\"line\">                    clearTimeout(timeout);</span><br><span class=\"line\">                    return showResult(context, args); // å°†thisï¼Œargumentsä»£å…¥å‡½æ•°</span><br><span class=\"line\">                &#125;, wait);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        return result</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = function () &#123;</span><br><span class=\"line\">        // å»é™¤å®šæ—¶å™¨ï¼Œ</span><br><span class=\"line\">        if (timeout !== undefined) &#123;</span><br><span class=\"line\">            clearTimeout(timeout);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // å°†åˆå§‹å˜é‡å…¨éƒ¨è®¾ç½®ä¸ºundefined</span><br><span class=\"line\">        timeout = context = result = callNow = undefined;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/debounce\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://github.com/mqyqingfeng/Blog/issues/22\">JavaScript ä¸“é¢˜ä¹‹è·Ÿç€ underscore å­¦é˜²æŠ–</a></li>\n<li><a href=\"https://underscorejs.net/docs/underscore.html\">underscore.js</a></li>\n<li><a href=\"https://github.com/yygmind/blog/issues/39\">æ·±å…¥æµ…å‡ºé˜²æŠ–å‡½æ•° debounce</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/1\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹é˜²æŠ–</a></p>\n"},{"title":"ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶","date":"2022-07-09T17:12:41.328Z","_content":"\n## å‰è¨€\n\nå‰é¢å·²ç»å¯¹é˜²æŠ–å’ŒèŠ‚æµæœ‰äº†ä»‹ç»ï¼Œè¿™ç¯‡ä¸»è¦çœ‹ lodash æ˜¯å¦‚ä½•å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶æˆä¸€ä¸ªå‡½æ•°çš„ã€‚\n\nåˆè¡·æ˜¯æ·±å…¥ lodashï¼Œå­¦ä¹ å®ƒå†…éƒ¨çš„å¥½ä»£ç å¹¶åº”ç”¨ï¼ŒåŒæ—¶ä¹ŸåŠ æ·±èŠ‚æµé˜²æŠ–çš„ç†è§£ã€‚è¿™é‡Œä¼šå…ˆä»é˜²æŠ–å¼€å§‹ä¸€æ­¥æ­¥å¾€åï¼Œç”±ç®€å…¥ç¹ï¼Œç›´åˆ°æœ€åå®ç°æ•´ä¸ªå‡½æ•°ã€‚\n\nè¿™é‡Œçº¯ç²¹è‡ªå·±çš„ç†è§£ï¼Œä»¥åŠçœ‹äº†å¾ˆå¤šç¯‡ä¼˜è´¨æ–‡ç« ï¼Œå¸Œæœ›èƒ½åŠ æ·±å¯¹èŠ‚æµé˜²æŠ–çš„ç†è§£ï¼Œå¦‚æœæœ‰ä¸åŒæ„è§æˆ–è€…çœ‹æ³•ï¼Œæ¬¢è¿å¤§å®¶è¯„è®ºã€‚\n\n## åŸç†\n\nå‰é¢è™½ç„¶å·²ç»ä»‹ç»è¿‡é˜²æŠ–å’ŒèŠ‚æµåŸç†ï¼Œè¿™é‡Œä¸ºäº†åŠ æ·±å°è±¡ï¼Œå†æ¬è¿‡æ¥ã€‚\n\n> **é˜²æŠ–çš„åŸç†**ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚\n\né€šä¿—ç‚¹è¯´ï¼šå®šä¹‰ wait=3000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 3 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 3 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ3 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 3 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚\n\n> **èŠ‚æµçš„åŸç†**ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\né€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\nç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\n## ä»£ç åˆ†æ\n\n### ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\n\né¦–å…ˆçœ‹æºç æœ€å‰æ–¹çš„å¼•å…¥ã€‚\n\n```\nimport isObject from './isObject.js'\nimport root from './.internal/root.js'\n```\n\nisObject æ–¹æ³•ï¼Œç›´æ¥æ‹¿å‡ºæ¥ï¼Œ\n\n```\nfunction isObject(value) {\n    const type = typeof value;\n    return value != null && (type === \"object\" || type === \"function\");\n}\n```\n\nroot çš„å¼•å…¥ä¸»è¦æ˜¯ windowã€‚ä¸ºäº†å¼•å‡º`window.requestAnimationFrame`ã€‚\n\n### äºŒã€requestAnimationFrame ä»£ç \n\n`window.requestAnimationFrame()`å‘Šè¯‰æµè§ˆå™¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»å¹¶è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ï¼Œå·®ä¸å¤š 16ms æ‰§è¡Œä¸€æ¬¡ã€‚\n\nlodash è¿™é‡Œä½¿ç”¨`requestAnimationFrame`ï¼Œä¸»è¦æ˜¯ç”¨æˆ·ä½¿ç”¨ debounce å‡½æ•°æœªè®¾ç½® wait çš„æƒ…å†µä¸‹ä½¿ç”¨`requestAnimationFrame`ã€‚\n\n```\nconst useRAF = (!wait && wait !== 0 && typeof window.requestAnimationFrame === 'function')\nfunction startTimer(pendingFunc, wait) {\n    if (useRAF) {\n        window.cancelAnimationFrame(timerId)\n        return window.requestAnimationFrame(pendingFunc)\n    }\n    return setTimeout(pendingFunc, wait)\n}\n\nfunction cancelTimer(id) {\n    if (useRAF) {\n        return window.cancelAnimationFrame(id)\n    }\n    clearTimeout(id)\n}\n```\n\nç”±ä»£ç `const useRAF = (!wait && wait !== 0 && typeof window.requestAnimationFrame === 'function')`ä¸éš¾çœ‹å‡º,å‡½æ•°**æœªä¼ å…¥ wait**å¹¶ä¸”**window.cancelAnimationFrame å‡½æ•°å­˜åœ¨**è¿™ä¸¤ç§æƒ…å†µä¸‹æ“ä½œ`window.requestAnimationFrame`\n\n### ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\n\n- **é¦–å…ˆ**ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹[lodash debounce API](https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options)  \n  è¿™éƒ¨åˆ†å‚æ•°å†…å®¹å°±ç›´æ¥æ‘˜æŠ„åœ¨ä¸‹æ–¹ï¼š\n  _ func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  _ [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  _ [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  _ [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  _ [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚\n  _ [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\n- **ç„¶å**ï¼Œæˆ‘ä»¬ä¸€èˆ¬é˜²æŠ–å‡½æ•°ï¼Œéœ€è¦çš„å‚æ•°æ˜¯ï¼š`func`ã€`wait`ã€`immediate`è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¯¹åº” lodashï¼Œæˆ‘ä»¬éœ€è¦æ‹¿å‡ºè¿™å››ä¸ªéƒ¨åˆ†ï¼š\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n- **æ¥ç€**ï¼ŒæŒ‰ç…§è¿™ä¸ªå½¢å¼ï¼Œå…ˆå†™å‡ºæœ€ç®€é˜²æŠ–æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸¤éƒ¨åˆ†å‚æ•°çš„ä»£ç \n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n\n```\n// ä»£ç 1\nfunction debounce(func, wait) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result; // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n\n    wait = +wait || 0; // ç­‰å¾…æ—¶é—´\n\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    // 1.æœªä¼ waitæ—¶ä½¿ç”¨requestAnimationFrame\n    // 2.ç›´æ¥ä½¿ç”¨å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      timerId = startTimer(invokeFunc, wait);\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n      timerId = undefined;\n    }\n\n    // æ‰§è¡Œå‡½æ•°,å¹¶å°†åŸå‡½æ•°çš„è¿”å›å€¼resultè¾“å‡º\n    function invokeFunc() {\n      const args = lastArgs;\n      const thisArg = lastThis;\n\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n\n      lastArgs = args;\n      lastThis = this;\n\n      if (timerId) {\n        cancelTimer(timerId);\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n        çœ‹ä¸Šè¿°ä»£ç ï¼š\n        1. å¤šäº†æœªä¼ waitæƒ…å†µï¼Œä½¿ç”¨`window.requestAnimationFrame`ã€‚\n        2. å°†å®šæ—¶å™¨ï¼Œç»‘å®šthisï¼Œargumentsã€resultå’Œå–æ¶ˆå®šæ—¶å™¨ç­‰åˆ†å‡½æ•°æ‹¿äº†å‡ºæ¥ã€‚\n\n- **å†è€…**ï¼Œå°† options çš„ leading åŠ ä¸Šã€‚ä¹Ÿå°±æ˜¯ immediate ç«‹å³æ‰§è¡Œï¼Œç»„æˆå®Œæ•´çš„é˜²æŠ–å‡½æ•°ã€‚å¼•å…¥å‚æ•°æ˜¯ä¸‹é¢è¿™éƒ¨åˆ†\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n\n```\n// ä»£ç äºŒ\n\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n    }\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = lastCallTime = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, wait);\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // åªæœ‰å½“æˆ‘ä»¬æœ‰ `lastArgs` æ—¶æ‰è°ƒç”¨ï¼Œè¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    function shouldInvoke(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n\n```\n\n        ä¸Šè¿°ä»£ç ï¼š\n            1. å¢åŠ trailingEdgeã€trailingEdgeä»¥åŠinvokeFuncå‡½æ•°\n            2. optionsç›®å‰åªæ”¯æŒä¼ å…¥leadingå‚æ•°ï¼Œä¹Ÿå°±æ˜¯immediateã€‚\n\n- **å†å¾€å**ï¼Œæˆ‘ä»¬å°† options ä¸­çš„ trailing åŠ ä¸Šï¼Œä¹Ÿå°±æ˜¯è¿™å››éƒ¨åˆ†\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  - [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\n```\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n      trailing = \"trailing\" in options ? !!options.trailing : trailing;\n    }\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = lastCallTime = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, remainingWait(time));\n    }\n\n    function remainingWait(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      const timeWaiting = wait - timeSinceLastCall;\n\n      return timeWaiting;\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // è¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    function shouldInvoke(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n        ä¸Šè¿°ä»£ç ï¼š\n            1.leadingå’Œtrailingä¸èƒ½åŒæ—¶ä¸ºfalseã€‚\n\nå…¶å®å¯ä»¥åœ¨ä»£ç ä¸­åŠ ä¸Šåˆ¤æ–­åŒæ—¶ä¸º`false`æ—¶ï¼Œé»˜è®¤`wait=0`ï¼Œç›´æ¥æ‰§è¡Œ`window.requestAnimationFrame`éƒ¨åˆ†,è€Œä¸æ˜¯å®šæ—¶å™¨ã€‚\n\n- **æœ€åç»“åˆ maxWait**,ä¹Ÿå°±æ˜¯å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶çš„å…³é”®ã€‚\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  - [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚\n  - [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\né¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ lodash throttle éƒ¨åˆ†æºç :\n\n```\nimport debounce from './debounce.js'\nimport isObject from './isObject.js\nfunction throttle(func, wait, options) {\n  let leading = true\n  let trailing = true\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function')\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading\n    trailing = 'trailing' in options ? !!options.trailing : trailing\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    'maxWait': wait\n  })\n}\n\nexport default throttle\n```\n\n**å…¶å®å°±æ˜¯å°† wait ä¼ å…¥äº† debounce å‡½æ•°çš„`option.maxWait`ä¸­ã€‚æ‰€ä»¥æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¹‹å‰çš„ä»£ç åŠ ä¸Š maxWait å‚æ•°éƒ¨åˆ†ã€‚**\n\n```\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime,\n      maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue\n\n    /**\n     * èŠ‚æµéƒ¨åˆ†å‚æ•°\n     **/\n    let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n    let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n      trailing = \"trailing\" in options ? !!options.trailing : trailing;\n\n      /**\n       * èŠ‚æµéƒ¨åˆ†å‚æ•°\n       **/\n      maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n      maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n      // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n    }\n\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastInvokeTime = 0;\n      leading = false;\n      maxing = false;\n      trailing = true;\n      lastArgs = lastThis = timerId = result = lastCallTime = maxWait = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, remainingWait(time));\n    }\n\n    // è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´\n    function remainingWait(time) {\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n      const timeSinceLastCall = time - lastCallTime;\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n      const timeSinceLastInvoke = time - lastInvokeTime;\n      // å‰©ä½™ç­‰å¾…æ—¶é—´\n      const timeWaiting = wait - timeSinceLastCall;\n\n      // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´\n      // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼\n      // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´\n      return maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // è¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n\n      lastInvokeTime = time;\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    // maxing && timeSinceLastInvoke >= maxWait è¶…è¿‡æœ€å¤§ç­‰å¾…æ—¶é—´\n    function shouldInvoke(time) {\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n      const timeSinceLastCall = time - lastCallTime;\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n      const timeSinceLastInvoke = time - lastInvokeTime;\n\n      // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€è®¾ç½®ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´\n      lastInvokeTime = time;\n      // 2ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 3ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n        // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func\n        // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚\n        // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ\n        if (maxing) {\n          // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\n          timerId = startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n    ä¸Šè¿°ä»£ç ï¼š\n        å°½ç®¡ä»£ç æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯å®é™…ä¸Šåªæ˜¯å¢åŠ äº†maxWaitã€‚\n\nä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹ maxWait æ–°å¢çš„é‚£éƒ¨åˆ†ä»£ç ã€‚\n\n## åˆ†æ maxWait æ–°å¢éƒ¨åˆ†\n\n```\n// 1.å®šä¹‰å˜é‡\nlet maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\nlet lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\nlet maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n\n\n// 2.ä»optionsä¸­å–å‡ºmaxWait\nif (isObject(options)) {\n  maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n  // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n}\n\n// 3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´\nfunction remainingWait(time) {\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n  const timeSinceLastCall = time - lastCallTime;\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n  const timeSinceLastInvoke = time - lastInvokeTime;\n  // å‰©ä½™ç­‰å¾…æ—¶é—´\n  const timeWaiting = wait - timeSinceLastCall;\n\n  // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´\n  // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼\n  // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´\n  return maxing\n    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n    : timeWaiting;\n}\n\n// 4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\nfunction shouldInvoke(time) {\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n  const timeSinceLastCall = time - lastCallTime;\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n  const timeSinceLastInvoke = time - lastInvokeTime;\n\n  // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true\n  return (\n    lastCallTime === undefined ||\n    timeSinceLastCall >= wait ||\n    timeSinceLastCall < 0 ||\n    (maxing && timeSinceLastInvoke >= maxWait)\n  );\n}\n\n// 5.æœ‰maxingæ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°\nif (isInvoking) {\n    // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (timerId === undefined) {\n      return leadingEdge(lastCallTime);\n    }\n    // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func\n    // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚\n    // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ\n    if (maxing) {\n      // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\n      timerId = startTimer(timerExpired, wait);\n      return invokeFunc(lastCallTime);\n    }\n}\n\n```\n\n**1.æ–°å¢å˜é‡**å°±ä¸å¤šè¯´äº†ã€‚\n\n**2.ä» options ä¸­å–å‡º`maxWait`**:\n\n```\n// 2.ä»optionsä¸­å–å‡ºmaxWait\nif (isObject(options)) {\n  maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n  // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n}\n```\n\n- 1.è¿™é‡Œä¸»è¦æ˜¯å°†`maxing`,åˆ¤æ–­æ˜¯å¦ä¼ äº†`maxWait`å‚æ•°ã€‚\n- 2.å¦‚æœæœªä¼ åˆ™`maxWait`è¿˜æ˜¯ä¸ºåˆå§‹å®šä¹‰çš„`undefined`ã€‚\n- 3.å¦‚æœä¼ å…¥äº†`maxWait`ï¼Œåˆ™é‡æ–°èµ‹å€¼`Math.max(+options.maxWait || 0, wait)`ã€‚è¿™é‡Œä¸»è¦å°±æ˜¯å–`maxWait`å’Œ`wait`ä¸­çš„å¤§å€¼ã€‚\n\n**3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´**\n\n```\nreturn maxing\n    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n    : timeWaiting;\n```\n\né¦–å…ˆåˆ¤æ–­æ˜¯å¦èŠ‚æµï¼ˆmaxingï¼‰ï¼š\n\n1. æ˜¯=>å–ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼ã€‚\n2. å¦=>å–å‰©ä½™ç­‰å¾…æ—¶é—´\n\n```\nmaxWait - (time - lastInvokeTime)\n```\n\nè¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­\n\n```\n// ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\nconst remaining = wait - (now - previous);\n```\n\n**4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ**  \nlodash ä»£ç ï¼š\n\n```\nmaxing && (time - lastInvokeTime) >= maxWait\n```\n\nå°±å¾€ä¸‹æ‰§è¡Œã€‚\n\nè¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­\n\n```\nif (remaining <= 0 || remaining > wait)\n```\n\nå°±å¾€ä¸‹æ‰§è¡Œã€‚\n\n**5.æœ‰ maxing æ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°**  \nlodash ä»£ç ï¼šå¦‚æœæ˜¯èŠ‚æµå‡½æ•°å°±æ‰§è¡Œ\n\n```\n// å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\ntimerId = startTimer(timerExpired, wait);\nreturn invokeFunc(lastCallTime);\n```\n\nèŠ‚æµå‡½æ•°ä¸­ï¼š\n\n```\ntimeout = setTimeout(function () {\n    timeout = null;\n    previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n    showResult(context, args);\n}, remaining);\n```\n\næ€»ä¹‹ï¼Œlodash`maxWait`éƒ¨åˆ†ï¼Œå°½ç®¡å‚æ•°åå¤šï¼Œä½†å®é™…ä¸Šå°±æ˜¯**èŠ‚æµå‡½æ•°ä¸­ï¼Œåˆ¤æ–­å‰©ä½™æ—¶é—´`remaining`ã€‚ä¸éœ€è¦ç­‰å¾…ï¼Œå°±ç›´æ¥ç«‹å³æ‰§è¡Œï¼Œå¦åˆ™å°±åˆ°å‰©ä½™æ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ï¼Œä¾æ¬¡ç±»æ¨ã€‚**\n\n## å¯¹å¤– 3 ä¸ªæ–¹æ³•\n\n```\ndebounced.cancel = cancel // å–æ¶ˆå‡½æ•°å»¶è¿Ÿæ‰§è¡Œ\ndebounced.flush = flush // ç«‹å³æ‰§è¡Œ func\ndebounced.pending = pending // æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨è®¡æ—¶ä¸­\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/debounce_lodash)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [æ·±å…¥ç¯‡é˜¿é‡Œ P6 å¿…ä¼š Lodash é˜²æŠ–èŠ‚æµå‡½æ•°å®ç°åŸç†](https://www.muyiy.cn/blog/7/7.4.html)\n- [lodash_debounce.js](https://github.com/lodash/lodash/blob/master/debounce.js)\n- [lodash_throttle.js](https://github.com/lodash/lodash/blob/master/throttle.js)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹ lodash é˜²æŠ–èŠ‚æµåˆå¹¶\n](https://github.com/yihan12/Blog/issues/3)\n","source":"_posts/JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶.md","raw":"---\ntitle: ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶\ndate:\ntags: [JavaScript, lodash]\ncategories: [å‰ç«¯, JavaScript, lodashæºç åˆ†æ, é˜²æŠ–èŠ‚æµ]\n---\n\n## å‰è¨€\n\nå‰é¢å·²ç»å¯¹é˜²æŠ–å’ŒèŠ‚æµæœ‰äº†ä»‹ç»ï¼Œè¿™ç¯‡ä¸»è¦çœ‹ lodash æ˜¯å¦‚ä½•å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶æˆä¸€ä¸ªå‡½æ•°çš„ã€‚\n\nåˆè¡·æ˜¯æ·±å…¥ lodashï¼Œå­¦ä¹ å®ƒå†…éƒ¨çš„å¥½ä»£ç å¹¶åº”ç”¨ï¼ŒåŒæ—¶ä¹ŸåŠ æ·±èŠ‚æµé˜²æŠ–çš„ç†è§£ã€‚è¿™é‡Œä¼šå…ˆä»é˜²æŠ–å¼€å§‹ä¸€æ­¥æ­¥å¾€åï¼Œç”±ç®€å…¥ç¹ï¼Œç›´åˆ°æœ€åå®ç°æ•´ä¸ªå‡½æ•°ã€‚\n\nè¿™é‡Œçº¯ç²¹è‡ªå·±çš„ç†è§£ï¼Œä»¥åŠçœ‹äº†å¾ˆå¤šç¯‡ä¼˜è´¨æ–‡ç« ï¼Œå¸Œæœ›èƒ½åŠ æ·±å¯¹èŠ‚æµé˜²æŠ–çš„ç†è§£ï¼Œå¦‚æœæœ‰ä¸åŒæ„è§æˆ–è€…çœ‹æ³•ï¼Œæ¬¢è¿å¤§å®¶è¯„è®ºã€‚\n\n## åŸç†\n\nå‰é¢è™½ç„¶å·²ç»ä»‹ç»è¿‡é˜²æŠ–å’ŒèŠ‚æµåŸç†ï¼Œè¿™é‡Œä¸ºäº†åŠ æ·±å°è±¡ï¼Œå†æ¬è¿‡æ¥ã€‚\n\n> **é˜²æŠ–çš„åŸç†**ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚\n\né€šä¿—ç‚¹è¯´ï¼šå®šä¹‰ wait=3000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 3 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 3 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ3 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 3 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚\n\n> **èŠ‚æµçš„åŸç†**ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\né€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚\n\nç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚\n\n## ä»£ç åˆ†æ\n\n### ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\n\né¦–å…ˆçœ‹æºç æœ€å‰æ–¹çš„å¼•å…¥ã€‚\n\n```\nimport isObject from './isObject.js'\nimport root from './.internal/root.js'\n```\n\nisObject æ–¹æ³•ï¼Œç›´æ¥æ‹¿å‡ºæ¥ï¼Œ\n\n```\nfunction isObject(value) {\n    const type = typeof value;\n    return value != null && (type === \"object\" || type === \"function\");\n}\n```\n\nroot çš„å¼•å…¥ä¸»è¦æ˜¯ windowã€‚ä¸ºäº†å¼•å‡º`window.requestAnimationFrame`ã€‚\n\n### äºŒã€requestAnimationFrame ä»£ç \n\n`window.requestAnimationFrame()`å‘Šè¯‰æµè§ˆå™¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»å¹¶è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ï¼Œå·®ä¸å¤š 16ms æ‰§è¡Œä¸€æ¬¡ã€‚\n\nlodash è¿™é‡Œä½¿ç”¨`requestAnimationFrame`ï¼Œä¸»è¦æ˜¯ç”¨æˆ·ä½¿ç”¨ debounce å‡½æ•°æœªè®¾ç½® wait çš„æƒ…å†µä¸‹ä½¿ç”¨`requestAnimationFrame`ã€‚\n\n```\nconst useRAF = (!wait && wait !== 0 && typeof window.requestAnimationFrame === 'function')\nfunction startTimer(pendingFunc, wait) {\n    if (useRAF) {\n        window.cancelAnimationFrame(timerId)\n        return window.requestAnimationFrame(pendingFunc)\n    }\n    return setTimeout(pendingFunc, wait)\n}\n\nfunction cancelTimer(id) {\n    if (useRAF) {\n        return window.cancelAnimationFrame(id)\n    }\n    clearTimeout(id)\n}\n```\n\nç”±ä»£ç `const useRAF = (!wait && wait !== 0 && typeof window.requestAnimationFrame === 'function')`ä¸éš¾çœ‹å‡º,å‡½æ•°**æœªä¼ å…¥ wait**å¹¶ä¸”**window.cancelAnimationFrame å‡½æ•°å­˜åœ¨**è¿™ä¸¤ç§æƒ…å†µä¸‹æ“ä½œ`window.requestAnimationFrame`\n\n### ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\n\n- **é¦–å…ˆ**ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹[lodash debounce API](https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options)  \n  è¿™éƒ¨åˆ†å‚æ•°å†…å®¹å°±ç›´æ¥æ‘˜æŠ„åœ¨ä¸‹æ–¹ï¼š\n  _ func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  _ [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  _ [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  _ [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  _ [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚\n  _ [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\n- **ç„¶å**ï¼Œæˆ‘ä»¬ä¸€èˆ¬é˜²æŠ–å‡½æ•°ï¼Œéœ€è¦çš„å‚æ•°æ˜¯ï¼š`func`ã€`wait`ã€`immediate`è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¯¹åº” lodashï¼Œæˆ‘ä»¬éœ€è¦æ‹¿å‡ºè¿™å››ä¸ªéƒ¨åˆ†ï¼š\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n- **æ¥ç€**ï¼ŒæŒ‰ç…§è¿™ä¸ªå½¢å¼ï¼Œå…ˆå†™å‡ºæœ€ç®€é˜²æŠ–æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸¤éƒ¨åˆ†å‚æ•°çš„ä»£ç \n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n\n```\n// ä»£ç 1\nfunction debounce(func, wait) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result; // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n\n    wait = +wait || 0; // ç­‰å¾…æ—¶é—´\n\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    // 1.æœªä¼ waitæ—¶ä½¿ç”¨requestAnimationFrame\n    // 2.ç›´æ¥ä½¿ç”¨å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      timerId = startTimer(invokeFunc, wait);\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n      timerId = undefined;\n    }\n\n    // æ‰§è¡Œå‡½æ•°,å¹¶å°†åŸå‡½æ•°çš„è¿”å›å€¼resultè¾“å‡º\n    function invokeFunc() {\n      const args = lastArgs;\n      const thisArg = lastThis;\n\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n\n      lastArgs = args;\n      lastThis = this;\n\n      if (timerId) {\n        cancelTimer(timerId);\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n        çœ‹ä¸Šè¿°ä»£ç ï¼š\n        1. å¤šäº†æœªä¼ waitæƒ…å†µï¼Œä½¿ç”¨`window.requestAnimationFrame`ã€‚\n        2. å°†å®šæ—¶å™¨ï¼Œç»‘å®šthisï¼Œargumentsã€resultå’Œå–æ¶ˆå®šæ—¶å™¨ç­‰åˆ†å‡½æ•°æ‹¿äº†å‡ºæ¥ã€‚\n\n- **å†è€…**ï¼Œå°† options çš„ leading åŠ ä¸Šã€‚ä¹Ÿå°±æ˜¯ immediate ç«‹å³æ‰§è¡Œï¼Œç»„æˆå®Œæ•´çš„é˜²æŠ–å‡½æ•°ã€‚å¼•å…¥å‚æ•°æ˜¯ä¸‹é¢è¿™éƒ¨åˆ†\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n\n```\n// ä»£ç äºŒ\n\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n    }\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = lastCallTime = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, wait);\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // åªæœ‰å½“æˆ‘ä»¬æœ‰ `lastArgs` æ—¶æ‰è°ƒç”¨ï¼Œè¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    function shouldInvoke(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n\n```\n\n        ä¸Šè¿°ä»£ç ï¼š\n            1. å¢åŠ trailingEdgeã€trailingEdgeä»¥åŠinvokeFuncå‡½æ•°\n            2. optionsç›®å‰åªæ”¯æŒä¼ å…¥leadingå‚æ•°ï¼Œä¹Ÿå°±æ˜¯immediateã€‚\n\n- **å†å¾€å**ï¼Œæˆ‘ä»¬å°† options ä¸­çš„ trailing åŠ ä¸Šï¼Œä¹Ÿå°±æ˜¯è¿™å››éƒ¨åˆ†\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  - [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\n```\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n      trailing = \"trailing\" in options ? !!options.trailing : trailing;\n    }\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF =\n      !wait &&\n      wait !== 0 &&\n      typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastArgs = lastThis = timerId = result = lastCallTime = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, remainingWait(time));\n    }\n\n    function remainingWait(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      const timeWaiting = wait - timeSinceLastCall;\n\n      return timeWaiting;\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // è¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    function shouldInvoke(time) {\n      const timeSinceLastCall = time - lastCallTime;\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n        ä¸Šè¿°ä»£ç ï¼š\n            1.leadingå’Œtrailingä¸èƒ½åŒæ—¶ä¸ºfalseã€‚\n\nå…¶å®å¯ä»¥åœ¨ä»£ç ä¸­åŠ ä¸Šåˆ¤æ–­åŒæ—¶ä¸º`false`æ—¶ï¼Œé»˜è®¤`wait=0`ï¼Œç›´æ¥æ‰§è¡Œ`window.requestAnimationFrame`éƒ¨åˆ†,è€Œä¸æ˜¯å®šæ—¶å™¨ã€‚\n\n- **æœ€åç»“åˆ maxWait**,ä¹Ÿå°±æ˜¯å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶çš„å…³é”®ã€‚\n  - func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚\n  - [wait=0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚\n  - [options=] (Object): é€‰é¡¹å¯¹è±¡ã€‚\n  - [options.leading=false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚\n  - [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚\n  - [options.trailing=true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚\n\né¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ lodash throttle éƒ¨åˆ†æºç :\n\n```\nimport debounce from './debounce.js'\nimport isObject from './isObject.js\nfunction throttle(func, wait, options) {\n  let leading = true\n  let trailing = true\n\n  if (typeof func !== 'function') {\n    throw new TypeError('Expected a function')\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading\n    trailing = 'trailing' in options ? !!options.trailing : trailing\n  }\n  return debounce(func, wait, {\n    leading,\n    trailing,\n    'maxWait': wait\n  })\n}\n\nexport default throttle\n```\n\n**å…¶å®å°±æ˜¯å°† wait ä¼ å…¥äº† debounce å‡½æ•°çš„`option.maxWait`ä¸­ã€‚æ‰€ä»¥æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¹‹å‰çš„ä»£ç åŠ ä¸Š maxWait å‚æ•°éƒ¨åˆ†ã€‚**\n\n```\nfunction debounce(func, wait, options) {\n    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„\n      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this\n      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments\n      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result\n      lastCallTime,\n      maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\n\n    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false\n    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue\n\n    /**\n     * èŠ‚æµéƒ¨åˆ†å‚æ•°\n     **/\n    let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n    let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n\n    wait = +wait || 0;\n\n    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (isObject(options)) {\n      leading = !!options.leading;\n      trailing = \"trailing\" in options ? !!options.trailing : trailing;\n\n      /**\n       * èŠ‚æµéƒ¨åˆ†å‚æ•°\n       **/\n      maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n      maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n      // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n    }\n\n    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()\n    const useRAF = !wait && wait !== 0 && typeof window.requestAnimationFrame === \"function\";\n\n    // å–æ¶ˆdebounce\n    function cancel() {\n      if (timerId !== undefined) {\n        cancelTimer(timerId);\n      }\n      lastInvokeTime = 0;\n      leading = false;\n      maxing = false;\n      trailing = true;\n      lastArgs = lastThis = timerId = result = lastCallTime = maxWait = undefined;\n    }\n\n    // å¼€å¯å®šæ—¶å™¨\n    function startTimer(pendingFunc, wait) {\n      if (useRAF) {\n        window.cancelAnimationFrame(timerId);\n        return window.requestAnimationFrame(pendingFunc);\n      }\n      return setTimeout(pendingFunc, wait);\n    }\n\n    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ\n    function timerExpired(wait) {\n      const time = Date.now();\n      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ\n      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘\n      timerId = startTimer(timerExpired, remainingWait(time));\n    }\n\n    // è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´\n    function remainingWait(time) {\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n      const timeSinceLastCall = time - lastCallTime;\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n      const timeSinceLastInvoke = time - lastInvokeTime;\n      // å‰©ä½™ç­‰å¾…æ—¶é—´\n      const timeWaiting = wait - timeSinceLastCall;\n\n      // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´\n      // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼\n      // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´\n      return maxing\n        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n    }\n\n    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // è¿™æ„å‘³ç€`func'å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    // å–æ¶ˆå®šæ—¶å™¨\n    function cancelTimer(id) {\n      if (useRAF) {\n        return window.cancelAnimationFrame(id);\n      }\n      clearTimeout(id);\n    }\n\n    function invokeFunc(time) {\n      const args = lastArgs;\n      const thisArg = lastThis;\n      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n\n      lastInvokeTime = time;\n      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents\n      return result;\n    }\n    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶\n    // timeSinceLastCall >= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n    // timeSinceLastCall < 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´\n    // maxing && timeSinceLastInvoke >= maxWait è¶…è¿‡æœ€å¤§ç­‰å¾…æ—¶é—´\n    function shouldInvoke(time) {\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n      const timeSinceLastCall = time - lastCallTime;\n      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n      const timeSinceLastInvoke = time - lastInvokeTime;\n\n      // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true\n      return (\n        lastCallTime === undefined ||\n        timeSinceLastCall >= wait ||\n        timeSinceLastCall < 0 ||\n        (maxing && timeSinceLastInvoke >= maxWait)\n      );\n    }\n\n    // ç«‹å³æ‰§è¡Œå‡½æ•°\n    function leadingEdge(time) {\n      // 1ã€è®¾ç½®ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´\n      lastInvokeTime = time;\n      // 2ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ\n      timerId = startTimer(timerExpired, wait);\n      // 3ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func\n      // leading æ¥æºè‡ª !!options.leading\n      return leading ? invokeFunc(time) : result;\n    }\n\n    const debounced = function (...args) {\n      const time = Date.now(); // è·å–å½“å‰æ—¶é—´\n      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°\n\n      lastArgs = args;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n        // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func\n        // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚\n        // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ\n        if (maxing) {\n          // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\n          timerId = startTimer(timerExpired, wait);\n          return invokeFunc(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = startTimer(timerExpired, wait);\n      }\n      return result;\n    };\n\n    debounced.cancel = cancel;\n    return debounced;\n}\n```\n\n    ä¸Šè¿°ä»£ç ï¼š\n        å°½ç®¡ä»£ç æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯å®é™…ä¸Šåªæ˜¯å¢åŠ äº†maxWaitã€‚\n\nä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹ maxWait æ–°å¢çš„é‚£éƒ¨åˆ†ä»£ç ã€‚\n\n## åˆ†æ maxWait æ–°å¢éƒ¨åˆ†\n\n```\n// 1.å®šä¹‰å˜é‡\nlet maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´\nlet lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\nlet maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³\n\n\n// 2.ä»optionsä¸­å–å‡ºmaxWait\nif (isObject(options)) {\n  maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n  // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n}\n\n// 3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´\nfunction remainingWait(time) {\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n  const timeSinceLastCall = time - lastCallTime;\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n  const timeSinceLastInvoke = time - lastInvokeTime;\n  // å‰©ä½™ç­‰å¾…æ—¶é—´\n  const timeWaiting = wait - timeSinceLastCall;\n\n  // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´\n  // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼\n  // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´\n  return maxing\n    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n    : timeWaiting;\n}\n\n// 4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\nfunction shouldInvoke(time) {\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®\n  const timeSinceLastCall = time - lastCallTime;\n  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®\n  const timeSinceLastInvoke = time - lastInvokeTime;\n\n  // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true\n  return (\n    lastCallTime === undefined ||\n    timeSinceLastCall >= wait ||\n    timeSinceLastCall < 0 ||\n    (maxing && timeSinceLastInvoke >= maxWait)\n  );\n}\n\n// 5.æœ‰maxingæ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°\nif (isInvoking) {\n    // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ\n    if (timerId === undefined) {\n      return leadingEdge(lastCallTime);\n    }\n    // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func\n    // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚\n    // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ\n    if (maxing) {\n      // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\n      timerId = startTimer(timerExpired, wait);\n      return invokeFunc(lastCallTime);\n    }\n}\n\n```\n\n**1.æ–°å¢å˜é‡**å°±ä¸å¤šè¯´äº†ã€‚\n\n**2.ä» options ä¸­å–å‡º`maxWait`**:\n\n```\n// 2.ä»optionsä¸­å–å‡ºmaxWait\nif (isObject(options)) {\n  maxing = \"maxWait\" in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™\n  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„\n  // å¦‚æœ maxWait < waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†\n}\n```\n\n- 1.è¿™é‡Œä¸»è¦æ˜¯å°†`maxing`,åˆ¤æ–­æ˜¯å¦ä¼ äº†`maxWait`å‚æ•°ã€‚\n- 2.å¦‚æœæœªä¼ åˆ™`maxWait`è¿˜æ˜¯ä¸ºåˆå§‹å®šä¹‰çš„`undefined`ã€‚\n- 3.å¦‚æœä¼ å…¥äº†`maxWait`ï¼Œåˆ™é‡æ–°èµ‹å€¼`Math.max(+options.maxWait || 0, wait)`ã€‚è¿™é‡Œä¸»è¦å°±æ˜¯å–`maxWait`å’Œ`wait`ä¸­çš„å¤§å€¼ã€‚\n\n**3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´**\n\n```\nreturn maxing\n    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)\n    : timeWaiting;\n```\n\né¦–å…ˆåˆ¤æ–­æ˜¯å¦èŠ‚æµï¼ˆmaxingï¼‰ï¼š\n\n1. æ˜¯=>å–ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼ã€‚\n2. å¦=>å–å‰©ä½™ç­‰å¾…æ—¶é—´\n\n```\nmaxWait - (time - lastInvokeTime)\n```\n\nè¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­\n\n```\n// ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´\nconst remaining = wait - (now - previous);\n```\n\n**4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ**  \nlodash ä»£ç ï¼š\n\n```\nmaxing && (time - lastInvokeTime) >= maxWait\n```\n\nå°±å¾€ä¸‹æ‰§è¡Œã€‚\n\nè¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­\n\n```\nif (remaining <= 0 || remaining > wait)\n```\n\nå°±å¾€ä¸‹æ‰§è¡Œã€‚\n\n**5.æœ‰ maxing æ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°**  \nlodash ä»£ç ï¼šå¦‚æœæ˜¯èŠ‚æµå‡½æ•°å°±æ‰§è¡Œ\n\n```\n// å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨\ntimerId = startTimer(timerExpired, wait);\nreturn invokeFunc(lastCallTime);\n```\n\nèŠ‚æµå‡½æ•°ä¸­ï¼š\n\n```\ntimeout = setTimeout(function () {\n    timeout = null;\n    previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´\n    showResult(context, args);\n}, remaining);\n```\n\næ€»ä¹‹ï¼Œlodash`maxWait`éƒ¨åˆ†ï¼Œå°½ç®¡å‚æ•°åå¤šï¼Œä½†å®é™…ä¸Šå°±æ˜¯**èŠ‚æµå‡½æ•°ä¸­ï¼Œåˆ¤æ–­å‰©ä½™æ—¶é—´`remaining`ã€‚ä¸éœ€è¦ç­‰å¾…ï¼Œå°±ç›´æ¥ç«‹å³æ‰§è¡Œï¼Œå¦åˆ™å°±åˆ°å‰©ä½™æ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ï¼Œä¾æ¬¡ç±»æ¨ã€‚**\n\n## å¯¹å¤– 3 ä¸ªæ–¹æ³•\n\n```\ndebounced.cancel = cancel // å–æ¶ˆå‡½æ•°å»¶è¿Ÿæ‰§è¡Œ\ndebounced.flush = flush // ç«‹å³æ‰§è¡Œ func\ndebounced.pending = pending // æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨è®¡æ—¶ä¸­\n```\n\n## æ¼”ç¤ºåœ°å€\n\nå¯ä»¥å»[Github ä»“åº“](https://github.com/yihan12/Blog/tree/main/demos/debounce_lodash)æŸ¥çœ‹æ¼”ç¤ºä»£ç \n\n## è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\n\nä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚\n\nåç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚\n\nâ¤ï¸ **æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼**\n\nâ¤ï¸ **å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼**\n\nâ¤ï¸ **å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼**\n\n## å‚è€ƒ\n\n- [æ·±å…¥ç¯‡é˜¿é‡Œ P6 å¿…ä¼š Lodash é˜²æŠ–èŠ‚æµå‡½æ•°å®ç°åŸç†](https://www.muyiy.cn/blog/7/7.4.html)\n- [lodash_debounce.js](https://github.com/lodash/lodash/blob/master/debounce.js)\n- [lodash_throttle.js](https://github.com/lodash/lodash/blob/master/throttle.js)\n\n## åŸæ–‡åœ°å€\n\n[ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹ lodash é˜²æŠ–èŠ‚æµåˆå¹¶\n](https://github.com/yihan12/Blog/issues/3)\n","slug":"JavaScript/JavaScriptå­¦ä¹ ç¬”è®°/ã€è·Ÿç€å¤§ä½¬å­¦JavaScriptã€‘ä¹‹lodashé˜²æŠ–èŠ‚æµåˆå¹¶","published":1,"updated":"2023-08-14T04:10:32.378Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cllad2yx2004hq42v656l6vnc","content":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰é¢å·²ç»å¯¹é˜²æŠ–å’ŒèŠ‚æµæœ‰äº†ä»‹ç»ï¼Œè¿™ç¯‡ä¸»è¦çœ‹ lodash æ˜¯å¦‚ä½•å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶æˆä¸€ä¸ªå‡½æ•°çš„ã€‚</p>\n<p>åˆè¡·æ˜¯æ·±å…¥ lodashï¼Œå­¦ä¹ å®ƒå†…éƒ¨çš„å¥½ä»£ç å¹¶åº”ç”¨ï¼ŒåŒæ—¶ä¹ŸåŠ æ·±èŠ‚æµé˜²æŠ–çš„ç†è§£ã€‚è¿™é‡Œä¼šå…ˆä»é˜²æŠ–å¼€å§‹ä¸€æ­¥æ­¥å¾€åï¼Œç”±ç®€å…¥ç¹ï¼Œç›´åˆ°æœ€åå®ç°æ•´ä¸ªå‡½æ•°ã€‚</p>\n<p>è¿™é‡Œçº¯ç²¹è‡ªå·±çš„ç†è§£ï¼Œä»¥åŠçœ‹äº†å¾ˆå¤šç¯‡ä¼˜è´¨æ–‡ç« ï¼Œå¸Œæœ›èƒ½åŠ æ·±å¯¹èŠ‚æµé˜²æŠ–çš„ç†è§£ï¼Œå¦‚æœæœ‰ä¸åŒæ„è§æˆ–è€…çœ‹æ³•ï¼Œæ¬¢è¿å¤§å®¶è¯„è®ºã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><p>å‰é¢è™½ç„¶å·²ç»ä»‹ç»è¿‡é˜²æŠ–å’ŒèŠ‚æµåŸç†ï¼Œè¿™é‡Œä¸ºäº†åŠ æ·±å°è±¡ï¼Œå†æ¬è¿‡æ¥ã€‚</p>\n<blockquote>\n<p><strong>é˜²æŠ–çš„åŸç†</strong>ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼šå®šä¹‰ wait&#x3D;3000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 3 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 3 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ3 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 3 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚</p>\n<blockquote>\n<p><strong>èŠ‚æµçš„åŸç†</strong>ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>ç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<h2 id=\"ä»£ç åˆ†æ\"><a href=\"#ä»£ç åˆ†æ\" class=\"headerlink\" title=\"ä»£ç åˆ†æ\"></a>ä»£ç åˆ†æ</h2><h3 id=\"ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\"><a href=\"#ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\" class=\"headerlink\" title=\"ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\"></a>ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†</h3><p>é¦–å…ˆçœ‹æºç æœ€å‰æ–¹çš„å¼•å…¥ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import isObject from &#x27;./isObject.js&#x27;</span><br><span class=\"line\">import root from &#x27;./.internal/root.js&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>isObject æ–¹æ³•ï¼Œç›´æ¥æ‹¿å‡ºæ¥ï¼Œ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function isObject(value) &#123;</span><br><span class=\"line\">    const type = typeof value;</span><br><span class=\"line\">    return value != null &amp;&amp; (type === &quot;object&quot; || type === &quot;function&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>root çš„å¼•å…¥ä¸»è¦æ˜¯ windowã€‚ä¸ºäº†å¼•å‡º<code>window.requestAnimationFrame</code>ã€‚</p>\n<h3 id=\"äºŒã€requestAnimationFrame-ä»£ç \"><a href=\"#äºŒã€requestAnimationFrame-ä»£ç \" class=\"headerlink\" title=\"äºŒã€requestAnimationFrame ä»£ç \"></a>äºŒã€requestAnimationFrame ä»£ç </h3><p><code>window.requestAnimationFrame()</code>å‘Šè¯‰æµè§ˆå™¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»å¹¶è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ï¼Œå·®ä¸å¤š 16ms æ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<p>lodash è¿™é‡Œä½¿ç”¨<code>requestAnimationFrame</code>ï¼Œä¸»è¦æ˜¯ç”¨æˆ·ä½¿ç”¨ debounce å‡½æ•°æœªè®¾ç½® wait çš„æƒ…å†µä¸‹ä½¿ç”¨<code>requestAnimationFrame</code>ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const useRAF = (!wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &#x27;function&#x27;)</span><br><span class=\"line\">function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">    if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId)</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return setTimeout(pendingFunc, wait)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function cancelTimer(id) &#123;</span><br><span class=\"line\">    if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    clearTimeout(id)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç”±ä»£ç <code>const useRAF = (!wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &#39;function&#39;)</code>ä¸éš¾çœ‹å‡º,å‡½æ•°<strong>æœªä¼ å…¥ wait</strong>å¹¶ä¸”<strong>window.cancelAnimationFrame å‡½æ•°å­˜åœ¨</strong>è¿™ä¸¤ç§æƒ…å†µä¸‹æ“ä½œ<code>window.requestAnimationFrame</code></p>\n<h3 id=\"ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\"><a href=\"#ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\" class=\"headerlink\" title=\"ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\"></a>ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°</h3><ul>\n<li><p><strong>é¦–å…ˆ</strong>ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹<a href=\"https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options\">lodash debounce API</a><br>è¿™éƒ¨åˆ†å‚æ•°å†…å®¹å°±ç›´æ¥æ‘˜æŠ„åœ¨ä¸‹æ–¹ï¼š<br>_ func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚<br>_ [wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚<br>_ [options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚<br>_ [options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚<br>_ [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚<br>_ [options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</p>\n</li>\n<li><p><strong>ç„¶å</strong>ï¼Œæˆ‘ä»¬ä¸€èˆ¬é˜²æŠ–å‡½æ•°ï¼Œéœ€è¦çš„å‚æ•°æ˜¯ï¼š<code>func</code>ã€<code>wait</code>ã€<code>immediate</code>è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¯¹åº” lodashï¼Œæˆ‘ä»¬éœ€è¦æ‹¿å‡ºè¿™å››ä¸ªéƒ¨åˆ†ï¼š</p>\n<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n</ul>\n</li>\n<li><p><strong>æ¥ç€</strong>ï¼ŒæŒ‰ç…§è¿™ä¸ªå½¢å¼ï¼Œå…ˆå†™å‡ºæœ€ç®€é˜²æŠ–æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸¤éƒ¨åˆ†å‚æ•°çš„ä»£ç </p>\n<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä»£ç 1</span><br><span class=\"line\">function debounce(func, wait) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result; // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0; // ç­‰å¾…æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    // 1.æœªä¼ waitæ—¶ä½¿ç”¨requestAnimationFrame</span><br><span class=\"line\">    // 2.ç›´æ¥ä½¿ç”¨å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      timerId = startTimer(invokeFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ‰§è¡Œå‡½æ•°,å¹¶å°†åŸå‡½æ•°çš„è¿”å›å€¼resultè¾“å‡º</span><br><span class=\"line\">    function invokeFunc() &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (timerId) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>    çœ‹ä¸Šè¿°ä»£ç ï¼š\n    1. å¤šäº†æœªä¼ waitæƒ…å†µï¼Œä½¿ç”¨`window.requestAnimationFrame`ã€‚\n    2. å°†å®šæ—¶å™¨ï¼Œç»‘å®šthisï¼Œargumentsã€resultå’Œå–æ¶ˆå®šæ—¶å™¨ç­‰åˆ†å‡½æ•°æ‹¿äº†å‡ºæ¥ã€‚\n</code></pre>\n<ul>\n<li><strong>å†è€…</strong>ï¼Œå°† options çš„ leading åŠ ä¸Šã€‚ä¹Ÿå°±æ˜¯ immediate ç«‹å³æ‰§è¡Œï¼Œç»„æˆå®Œæ•´çš„é˜²æŠ–å‡½æ•°ã€‚å¼•å…¥å‚æ•°æ˜¯ä¸‹é¢è¿™éƒ¨åˆ†<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä»£ç äºŒ</span><br><span class=\"line\"></span><br><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // åªæœ‰å½“æˆ‘ä»¬æœ‰ `lastArgs` æ—¶æ‰è°ƒç”¨ï¼Œè¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<pre><code>    ä¸Šè¿°ä»£ç ï¼š\n        1. å¢åŠ trailingEdgeã€trailingEdgeä»¥åŠinvokeFuncå‡½æ•°\n        2. optionsç›®å‰åªæ”¯æŒä¼ å…¥leadingå‚æ•°ï¼Œä¹Ÿå°±æ˜¯immediateã€‚\n</code></pre>\n<ul>\n<li><strong>å†å¾€å</strong>ï¼Œæˆ‘ä»¬å°† options ä¸­çš„ trailing åŠ ä¸Šï¼Œä¹Ÿå°±æ˜¯è¿™å››éƒ¨åˆ†<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n<li>[options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\">    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">      trailing = &quot;trailing&quot; in options ? !!options.trailing : trailing;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, remainingWait(time));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function remainingWait(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">      return timeWaiting;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // è¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (trailing &amp;&amp; lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>    ä¸Šè¿°ä»£ç ï¼š\n        1.leadingå’Œtrailingä¸èƒ½åŒæ—¶ä¸ºfalseã€‚\n</code></pre>\n<p>å…¶å®å¯ä»¥åœ¨ä»£ç ä¸­åŠ ä¸Šåˆ¤æ–­åŒæ—¶ä¸º<code>false</code>æ—¶ï¼Œé»˜è®¤<code>wait=0</code>ï¼Œç›´æ¥æ‰§è¡Œ<code>window.requestAnimationFrame</code>éƒ¨åˆ†,è€Œä¸æ˜¯å®šæ—¶å™¨ã€‚</p>\n<ul>\n<li><strong>æœ€åç»“åˆ maxWait</strong>,ä¹Ÿå°±æ˜¯å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶çš„å…³é”®ã€‚<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n<li>[options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚</li>\n<li>[options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ lodash throttle éƒ¨åˆ†æºç :</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import debounce from &#x27;./debounce.js&#x27;</span><br><span class=\"line\">import isObject from &#x27;./isObject.js</span><br><span class=\"line\">function throttle(func, wait, options) &#123;</span><br><span class=\"line\">  let leading = true</span><br><span class=\"line\">  let trailing = true</span><br><span class=\"line\"></span><br><span class=\"line\">  if (typeof func !== &#x27;function&#x27;) &#123;</span><br><span class=\"line\">    throw new TypeError(&#x27;Expected a function&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  if (isObject(options)) &#123;</span><br><span class=\"line\">    leading = &#x27;leading&#x27; in options ? !!options.leading : leading</span><br><span class=\"line\">    trailing = &#x27;trailing&#x27; in options ? !!options.trailing : trailing</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return debounce(func, wait, &#123;</span><br><span class=\"line\">    leading,</span><br><span class=\"line\">    trailing,</span><br><span class=\"line\">    &#x27;maxWait&#x27;: wait</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default throttle</span><br></pre></td></tr></table></figure>\n\n<p><strong>å…¶å®å°±æ˜¯å°† wait ä¼ å…¥äº† debounce å‡½æ•°çš„<code>option.maxWait</code>ä¸­ã€‚æ‰€ä»¥æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¹‹å‰çš„ä»£ç åŠ ä¸Š maxWait å‚æ•°éƒ¨åˆ†ã€‚</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime,</span><br><span class=\"line\">      maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\">    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * èŠ‚æµéƒ¨åˆ†å‚æ•°</span><br><span class=\"line\">     **/</span><br><span class=\"line\">    let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\">    let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">      trailing = &quot;trailing&quot; in options ? !!options.trailing : trailing;</span><br><span class=\"line\"></span><br><span class=\"line\">      /**</span><br><span class=\"line\">       * èŠ‚æµéƒ¨åˆ†å‚æ•°</span><br><span class=\"line\">       **/</span><br><span class=\"line\">      maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">      maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">      // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF = !wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastInvokeTime = 0;</span><br><span class=\"line\">      leading = false;</span><br><span class=\"line\">      maxing = false;</span><br><span class=\"line\">      trailing = true;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = maxWait = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, remainingWait(time));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</span><br><span class=\"line\">    function remainingWait(time) &#123;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\">      // å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">      // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼</span><br><span class=\"line\">      // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      return maxing</span><br><span class=\"line\">        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">        : timeWaiting;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // è¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (trailing &amp;&amp; lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\"></span><br><span class=\"line\">      lastInvokeTime = time;</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    // maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait è¶…è¿‡æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\"></span><br><span class=\"line\">      // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0 ||</span><br><span class=\"line\">        (maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait)</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€è®¾ç½®ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´</span><br><span class=\"line\">      lastInvokeTime = time;</span><br><span class=\"line\">      // 2ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 3ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">        // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚</span><br><span class=\"line\">        // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class=\"line\">        if (maxing) &#123;</span><br><span class=\"line\">          // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">          timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">          return invokeFunc(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>ä¸Šè¿°ä»£ç ï¼š\n    å°½ç®¡ä»£ç æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯å®é™…ä¸Šåªæ˜¯å¢åŠ äº†maxWaitã€‚\n</code></pre>\n<p>ä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹ maxWait æ–°å¢çš„é‚£éƒ¨åˆ†ä»£ç ã€‚</p>\n<h2 id=\"åˆ†æ-maxWait-æ–°å¢éƒ¨åˆ†\"><a href=\"#åˆ†æ-maxWait-æ–°å¢éƒ¨åˆ†\" class=\"headerlink\" title=\"åˆ†æ maxWait æ–°å¢éƒ¨åˆ†\"></a>åˆ†æ maxWait æ–°å¢éƒ¨åˆ†</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 1.å®šä¹‰å˜é‡</span><br><span class=\"line\">let maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\">let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\">let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">// 2.ä»optionsä¸­å–å‡ºmaxWait</span><br><span class=\"line\">if (isObject(options)) &#123;</span><br><span class=\"line\">  maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">  // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</span><br><span class=\"line\">function remainingWait(time) &#123;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\">  // å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">  // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼</span><br><span class=\"line\">  // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  return maxing</span><br><span class=\"line\">    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">    : timeWaiting;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">function shouldInvoke(time) &#123;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\"></span><br><span class=\"line\">  // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    lastCallTime === undefined ||</span><br><span class=\"line\">    timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">    timeSinceLastCall &lt; 0 ||</span><br><span class=\"line\">    (maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 5.æœ‰maxingæ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°</span><br><span class=\"line\">if (isInvoking) &#123;</span><br><span class=\"line\">    // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (timerId === undefined) &#123;</span><br><span class=\"line\">      return leadingEdge(lastCallTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">    // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚</span><br><span class=\"line\">    // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class=\"line\">    if (maxing) &#123;</span><br><span class=\"line\">      // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      return invokeFunc(lastCallTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>1.æ–°å¢å˜é‡</strong>å°±ä¸å¤šè¯´äº†ã€‚</p>\n<p><strong>2.ä» options ä¸­å–å‡º<code>maxWait</code></strong>:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 2.ä»optionsä¸­å–å‡ºmaxWait</span><br><span class=\"line\">if (isObject(options)) &#123;</span><br><span class=\"line\">  maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">  // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>1.è¿™é‡Œä¸»è¦æ˜¯å°†<code>maxing</code>,åˆ¤æ–­æ˜¯å¦ä¼ äº†<code>maxWait</code>å‚æ•°ã€‚</li>\n<li>2.å¦‚æœæœªä¼ åˆ™<code>maxWait</code>è¿˜æ˜¯ä¸ºåˆå§‹å®šä¹‰çš„<code>undefined</code>ã€‚</li>\n<li>3.å¦‚æœä¼ å…¥äº†<code>maxWait</code>ï¼Œåˆ™é‡æ–°èµ‹å€¼<code>Math.max(+options.maxWait || 0, wait)</code>ã€‚è¿™é‡Œä¸»è¦å°±æ˜¯å–<code>maxWait</code>å’Œ<code>wait</code>ä¸­çš„å¤§å€¼ã€‚</li>\n</ul>\n<p><strong>3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">return maxing</span><br><span class=\"line\">    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">    : timeWaiting;</span><br></pre></td></tr></table></figure>\n\n<p>é¦–å…ˆåˆ¤æ–­æ˜¯å¦èŠ‚æµï¼ˆmaxingï¼‰ï¼š</p>\n<ol>\n<li>æ˜¯&#x3D;&gt;å–ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼ã€‚</li>\n<li>å¦&#x3D;&gt;å–å‰©ä½™ç­‰å¾…æ—¶é—´</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxWait - (time - lastInvokeTime)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">const remaining = wait - (now - previous);</span><br></pre></td></tr></table></figure>\n\n<p><strong>4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</strong><br>lodash ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxing &amp;&amp; (time - lastInvokeTime) &gt;= maxWait</span><br></pre></td></tr></table></figure>\n\n<p>å°±å¾€ä¸‹æ‰§è¡Œã€‚</p>\n<p>è¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (remaining &lt;= 0 || remaining &gt; wait)</span><br></pre></td></tr></table></figure>\n\n<p>å°±å¾€ä¸‹æ‰§è¡Œã€‚</p>\n<p><strong>5.æœ‰ maxing æ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°</strong><br>lodash ä»£ç ï¼šå¦‚æœæ˜¯èŠ‚æµå‡½æ•°å°±æ‰§è¡Œ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">return invokeFunc(lastCallTime);</span><br></pre></td></tr></table></figure>\n\n<p>èŠ‚æµå‡½æ•°ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">timeout = setTimeout(function () &#123;</span><br><span class=\"line\">    timeout = null;</span><br><span class=\"line\">    previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">    showResult(context, args);</span><br><span class=\"line\">&#125;, remaining);</span><br></pre></td></tr></table></figure>\n\n<p>æ€»ä¹‹ï¼Œlodash<code>maxWait</code>éƒ¨åˆ†ï¼Œå°½ç®¡å‚æ•°åå¤šï¼Œä½†å®é™…ä¸Šå°±æ˜¯<strong>èŠ‚æµå‡½æ•°ä¸­ï¼Œåˆ¤æ–­å‰©ä½™æ—¶é—´<code>remaining</code>ã€‚ä¸éœ€è¦ç­‰å¾…ï¼Œå°±ç›´æ¥ç«‹å³æ‰§è¡Œï¼Œå¦åˆ™å°±åˆ°å‰©ä½™æ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ï¼Œä¾æ¬¡ç±»æ¨ã€‚</strong></p>\n<h2 id=\"å¯¹å¤–-3-ä¸ªæ–¹æ³•\"><a href=\"#å¯¹å¤–-3-ä¸ªæ–¹æ³•\" class=\"headerlink\" title=\"å¯¹å¤– 3 ä¸ªæ–¹æ³•\"></a>å¯¹å¤– 3 ä¸ªæ–¹æ³•</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">debounced.cancel = cancel // å–æ¶ˆå‡½æ•°å»¶è¿Ÿæ‰§è¡Œ</span><br><span class=\"line\">debounced.flush = flush // ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">debounced.pending = pending // æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨è®¡æ—¶ä¸­</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/debounce_lodash\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://www.muyiy.cn/blog/7/7.4.html\">æ·±å…¥ç¯‡é˜¿é‡Œ P6 å¿…ä¼š Lodash é˜²æŠ–èŠ‚æµå‡½æ•°å®ç°åŸç†</a></li>\n<li><a href=\"https://github.com/lodash/lodash/blob/master/debounce.js\">lodash_debounce.js</a></li>\n<li><a href=\"https://github.com/lodash/lodash/blob/master/throttle.js\">lodash_throttle.js</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/3\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹ lodash é˜²æŠ–èŠ‚æµåˆå¹¶\n</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"å‰è¨€\"><a href=\"#å‰è¨€\" class=\"headerlink\" title=\"å‰è¨€\"></a>å‰è¨€</h2><p>å‰é¢å·²ç»å¯¹é˜²æŠ–å’ŒèŠ‚æµæœ‰äº†ä»‹ç»ï¼Œè¿™ç¯‡ä¸»è¦çœ‹ lodash æ˜¯å¦‚ä½•å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶æˆä¸€ä¸ªå‡½æ•°çš„ã€‚</p>\n<p>åˆè¡·æ˜¯æ·±å…¥ lodashï¼Œå­¦ä¹ å®ƒå†…éƒ¨çš„å¥½ä»£ç å¹¶åº”ç”¨ï¼ŒåŒæ—¶ä¹ŸåŠ æ·±èŠ‚æµé˜²æŠ–çš„ç†è§£ã€‚è¿™é‡Œä¼šå…ˆä»é˜²æŠ–å¼€å§‹ä¸€æ­¥æ­¥å¾€åï¼Œç”±ç®€å…¥ç¹ï¼Œç›´åˆ°æœ€åå®ç°æ•´ä¸ªå‡½æ•°ã€‚</p>\n<p>è¿™é‡Œçº¯ç²¹è‡ªå·±çš„ç†è§£ï¼Œä»¥åŠçœ‹äº†å¾ˆå¤šç¯‡ä¼˜è´¨æ–‡ç« ï¼Œå¸Œæœ›èƒ½åŠ æ·±å¯¹èŠ‚æµé˜²æŠ–çš„ç†è§£ï¼Œå¦‚æœæœ‰ä¸åŒæ„è§æˆ–è€…çœ‹æ³•ï¼Œæ¬¢è¿å¤§å®¶è¯„è®ºã€‚</p>\n<h2 id=\"åŸç†\"><a href=\"#åŸç†\" class=\"headerlink\" title=\"åŸç†\"></a>åŸç†</h2><p>å‰é¢è™½ç„¶å·²ç»ä»‹ç»è¿‡é˜²æŠ–å’ŒèŠ‚æµåŸç†ï¼Œè¿™é‡Œä¸ºäº†åŠ æ·±å°è±¡ï¼Œå†æ¬è¿‡æ¥ã€‚</p>\n<blockquote>\n<p><strong>é˜²æŠ–çš„åŸç†</strong>ï¼šåœ¨ wait æ—¶é—´å†…ï¼ŒæŒç»­è§¦å‘æŸä¸ªäº‹ä»¶ã€‚ç¬¬ä¸€ç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’å†…åˆè§¦å‘äº†è¯¥äº‹ä»¶ï¼Œå°±åº”è¯¥ä»¥æ–°çš„äº‹ä»¶ wait ç­‰å¾…æ—¶é—´ä¸ºå‡†ï¼Œwait ç§’åå†æ‰§è¡Œæ­¤äº‹ä»¶ï¼›ç¬¬äºŒç§æƒ…å†µï¼šå¦‚æœæŸä¸ªäº‹ä»¶è§¦å‘ wait ç§’åï¼Œæœªå†è§¦å‘è¯¥äº‹ä»¶ï¼Œåˆ™åœ¨ wait ç§’åç›´æ¥æ‰§è¡Œè¯¥äº‹ä»¶ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼šå®šä¹‰ wait&#x3D;3000ï¼ŒæŒç»­ç‚¹å‡»æŒ‰é’®ï¼Œå‰åç‚¹å‡»é—´éš”éƒ½åœ¨ 3 ç§’å†…ï¼Œåˆ™åœ¨æœ€åä¸€æ¬¡ç‚¹å‡»æŒ‰é’®åï¼Œç­‰å¾… 3 ç§’å†æ‰§è¡Œ func æ–¹æ³•ã€‚å¦‚æœç‚¹å‡»å®ŒæŒ‰é’®ï¼Œ3 ç§’åæœªå†æ¬¡ç‚¹å‡»æŒ‰é’®ï¼Œåˆ™ 3 ç§’åç›´æ¥æ‰§è¡Œ func æ–¹æ³•ã€‚</p>\n<blockquote>\n<p><strong>èŠ‚æµçš„åŸç†</strong>ï¼šæŒç»­è§¦å‘æŸäº‹ä»¶ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n</blockquote>\n<p>é€šä¿—ç‚¹è¯´ï¼Œ3 ç§’å†…å¤šæ¬¡è°ƒç”¨å‡½æ•°ï¼Œä½†æ˜¯åœ¨ 3 ç§’é—´éš”å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå 3 ç§’ æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä¹Ÿä¸ä¼šå»¶é•¿æ—¶é—´é—´éš”ã€‚3 ç§’é—´éš”ç»“æŸååˆ™å¼€å§‹æ‰§è¡Œæ–°çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œç„¶ååœ¨è¿™æ–°çš„ 3 ç§’å†…ä¾æ—§æ— è§†åé¢æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨è¯·æ±‚ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>\n<p>ç®€å•æ¥è¯´ï¼šæ¯éš”å•ä½æ—¶é—´ï¼ˆ 3 ç§’ï¼‰ï¼Œåªæ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<h2 id=\"ä»£ç åˆ†æ\"><a href=\"#ä»£ç åˆ†æ\" class=\"headerlink\" title=\"ä»£ç åˆ†æ\"></a>ä»£ç åˆ†æ</h2><h3 id=\"ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\"><a href=\"#ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\" class=\"headerlink\" title=\"ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†\"></a>ä¸€ã€å¼•å…¥ä»£ç éƒ¨åˆ†</h3><p>é¦–å…ˆçœ‹æºç æœ€å‰æ–¹çš„å¼•å…¥ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import isObject from &#x27;./isObject.js&#x27;</span><br><span class=\"line\">import root from &#x27;./.internal/root.js&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>isObject æ–¹æ³•ï¼Œç›´æ¥æ‹¿å‡ºæ¥ï¼Œ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function isObject(value) &#123;</span><br><span class=\"line\">    const type = typeof value;</span><br><span class=\"line\">    return value != null &amp;&amp; (type === &quot;object&quot; || type === &quot;function&quot;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>root çš„å¼•å…¥ä¸»è¦æ˜¯ windowã€‚ä¸ºäº†å¼•å‡º<code>window.requestAnimationFrame</code>ã€‚</p>\n<h3 id=\"äºŒã€requestAnimationFrame-ä»£ç \"><a href=\"#äºŒã€requestAnimationFrame-ä»£ç \" class=\"headerlink\" title=\"äºŒã€requestAnimationFrame ä»£ç \"></a>äºŒã€requestAnimationFrame ä»£ç </h3><p><code>window.requestAnimationFrame()</code>å‘Šè¯‰æµè§ˆå™¨å¸Œæœ›æ‰§è¡ŒåŠ¨ç”»å¹¶è¯·æ±‚æµè§ˆå™¨åœ¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å‡½æ•°æ¥æ›´æ–°åŠ¨ç”»ï¼Œå·®ä¸å¤š 16ms æ‰§è¡Œä¸€æ¬¡ã€‚</p>\n<p>lodash è¿™é‡Œä½¿ç”¨<code>requestAnimationFrame</code>ï¼Œä¸»è¦æ˜¯ç”¨æˆ·ä½¿ç”¨ debounce å‡½æ•°æœªè®¾ç½® wait çš„æƒ…å†µä¸‹ä½¿ç”¨<code>requestAnimationFrame</code>ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const useRAF = (!wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &#x27;function&#x27;)</span><br><span class=\"line\">function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">    if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId)</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    return setTimeout(pendingFunc, wait)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">function cancelTimer(id) &#123;</span><br><span class=\"line\">    if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    clearTimeout(id)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç”±ä»£ç <code>const useRAF = (!wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &#39;function&#39;)</code>ä¸éš¾çœ‹å‡º,å‡½æ•°<strong>æœªä¼ å…¥ wait</strong>å¹¶ä¸”<strong>window.cancelAnimationFrame å‡½æ•°å­˜åœ¨</strong>è¿™ä¸¤ç§æƒ…å†µä¸‹æ“ä½œ<code>window.requestAnimationFrame</code></p>\n<h3 id=\"ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\"><a href=\"#ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\" class=\"headerlink\" title=\"ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°\"></a>ä¸‰ã€ç”±ç®€å…¥ç¹è¾“å‡ºé˜²æŠ–å‡½æ•°</h3><ul>\n<li><p><strong>é¦–å…ˆ</strong>ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸‹<a href=\"https://www.lodashjs.com/docs/lodash.debounce#_debouncefunc-wait0-options\">lodash debounce API</a><br>è¿™éƒ¨åˆ†å‚æ•°å†…å®¹å°±ç›´æ¥æ‘˜æŠ„åœ¨ä¸‹æ–¹ï¼š<br>_ func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚<br>_ [wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚<br>_ [options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚<br>_ [options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚<br>_ [options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚<br>_ [options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</p>\n</li>\n<li><p><strong>ç„¶å</strong>ï¼Œæˆ‘ä»¬ä¸€èˆ¬é˜²æŠ–å‡½æ•°ï¼Œéœ€è¦çš„å‚æ•°æ˜¯ï¼š<code>func</code>ã€<code>wait</code>ã€<code>immediate</code>è¿™ä¸‰ä¸ªå‚æ•°ï¼Œå¯¹åº” lodashï¼Œæˆ‘ä»¬éœ€è¦æ‹¿å‡ºè¿™å››ä¸ªéƒ¨åˆ†ï¼š</p>\n<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n</ul>\n</li>\n<li><p><strong>æ¥ç€</strong>ï¼ŒæŒ‰ç…§è¿™ä¸ªå½¢å¼ï¼Œå…ˆå†™å‡ºæœ€ç®€é˜²æŠ–æ–¹æ³•ã€‚ä¹Ÿå°±æ˜¯è¿™ä¸¤éƒ¨åˆ†å‚æ•°çš„ä»£ç </p>\n<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä»£ç 1</span><br><span class=\"line\">function debounce(func, wait) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result; // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0; // ç­‰å¾…æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    // 1.æœªä¼ waitæ—¶ä½¿ç”¨requestAnimationFrame</span><br><span class=\"line\">    // 2.ç›´æ¥ä½¿ç”¨å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      timerId = startTimer(invokeFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ‰§è¡Œå‡½æ•°,å¹¶å°†åŸå‡½æ•°çš„è¿”å›å€¼resultè¾“å‡º</span><br><span class=\"line\">    function invokeFunc() &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (timerId) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>    çœ‹ä¸Šè¿°ä»£ç ï¼š\n    1. å¤šäº†æœªä¼ waitæƒ…å†µï¼Œä½¿ç”¨`window.requestAnimationFrame`ã€‚\n    2. å°†å®šæ—¶å™¨ï¼Œç»‘å®šthisï¼Œargumentsã€resultå’Œå–æ¶ˆå®šæ—¶å™¨ç­‰åˆ†å‡½æ•°æ‹¿äº†å‡ºæ¥ã€‚\n</code></pre>\n<ul>\n<li><strong>å†è€…</strong>ï¼Œå°† options çš„ leading åŠ ä¸Šã€‚ä¹Ÿå°±æ˜¯ immediate ç«‹å³æ‰§è¡Œï¼Œç»„æˆå®Œæ•´çš„é˜²æŠ–å‡½æ•°ã€‚å¼•å…¥å‚æ•°æ˜¯ä¸‹é¢è¿™éƒ¨åˆ†<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä»£ç äºŒ</span><br><span class=\"line\"></span><br><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // åªæœ‰å½“æˆ‘ä»¬æœ‰ `lastArgs` æ—¶æ‰è°ƒç”¨ï¼Œè¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<pre><code>    ä¸Šè¿°ä»£ç ï¼š\n        1. å¢åŠ trailingEdgeã€trailingEdgeä»¥åŠinvokeFuncå‡½æ•°\n        2. optionsç›®å‰åªæ”¯æŒä¼ å…¥leadingå‚æ•°ï¼Œä¹Ÿå°±æ˜¯immediateã€‚\n</code></pre>\n<ul>\n<li><strong>å†å¾€å</strong>ï¼Œæˆ‘ä»¬å°† options ä¸­çš„ trailing åŠ ä¸Šï¼Œä¹Ÿå°±æ˜¯è¿™å››éƒ¨åˆ†<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n<li>[options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\">    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">      trailing = &quot;trailing&quot; in options ? !!options.trailing : trailing;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF =</span><br><span class=\"line\">      !wait &amp;&amp;</span><br><span class=\"line\">      wait !== 0 &amp;&amp;</span><br><span class=\"line\">      typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, remainingWait(time));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function remainingWait(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">      return timeWaiting;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // è¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (trailing &amp;&amp; lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 1ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>    ä¸Šè¿°ä»£ç ï¼š\n        1.leadingå’Œtrailingä¸èƒ½åŒæ—¶ä¸ºfalseã€‚\n</code></pre>\n<p>å…¶å®å¯ä»¥åœ¨ä»£ç ä¸­åŠ ä¸Šåˆ¤æ–­åŒæ—¶ä¸º<code>false</code>æ—¶ï¼Œé»˜è®¤<code>wait=0</code>ï¼Œç›´æ¥æ‰§è¡Œ<code>window.requestAnimationFrame</code>éƒ¨åˆ†,è€Œä¸æ˜¯å®šæ—¶å™¨ã€‚</p>\n<ul>\n<li><strong>æœ€åç»“åˆ maxWait</strong>,ä¹Ÿå°±æ˜¯å°†é˜²æŠ–å’ŒèŠ‚æµåˆå¹¶çš„å…³é”®ã€‚<ul>\n<li>func (Function): è¦é˜²æŠ–åŠ¨çš„å‡½æ•°ã€‚</li>\n<li>[wait&#x3D;0] (number): éœ€è¦å»¶è¿Ÿçš„æ¯«ç§’æ•°ã€‚</li>\n<li>[options&#x3D;] (Object): é€‰é¡¹å¯¹è±¡ã€‚</li>\n<li>[options.leading&#x3D;false] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿå¼€å§‹å‰è°ƒç”¨ã€‚</li>\n<li>[options.maxWait] (number): è®¾ç½® func å…è®¸è¢«å»¶è¿Ÿçš„æœ€å¤§å€¼ã€‚</li>\n<li>[options.trailing&#x3D;true] (boolean): æŒ‡å®šåœ¨å»¶è¿Ÿç»“æŸåè°ƒç”¨ã€‚</li>\n</ul>\n</li>\n</ul>\n<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæ¥çœ‹ lodash throttle éƒ¨åˆ†æºç :</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import debounce from &#x27;./debounce.js&#x27;</span><br><span class=\"line\">import isObject from &#x27;./isObject.js</span><br><span class=\"line\">function throttle(func, wait, options) &#123;</span><br><span class=\"line\">  let leading = true</span><br><span class=\"line\">  let trailing = true</span><br><span class=\"line\"></span><br><span class=\"line\">  if (typeof func !== &#x27;function&#x27;) &#123;</span><br><span class=\"line\">    throw new TypeError(&#x27;Expected a function&#x27;)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  if (isObject(options)) &#123;</span><br><span class=\"line\">    leading = &#x27;leading&#x27; in options ? !!options.leading : leading</span><br><span class=\"line\">    trailing = &#x27;trailing&#x27; in options ? !!options.trailing : trailing</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  return debounce(func, wait, &#123;</span><br><span class=\"line\">    leading,</span><br><span class=\"line\">    trailing,</span><br><span class=\"line\">    &#x27;maxWait&#x27;: wait</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">export default throttle</span><br></pre></td></tr></table></figure>\n\n<p><strong>å…¶å®å°±æ˜¯å°† wait ä¼ å…¥äº† debounce å‡½æ•°çš„<code>option.maxWait</code>ä¸­ã€‚æ‰€ä»¥æœ€åï¼Œæˆ‘ä»¬åªéœ€è¦å°†ä¹‹å‰çš„ä»£ç åŠ ä¸Š maxWait å‚æ•°éƒ¨åˆ†ã€‚</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function debounce(func, wait, options) &#123;</span><br><span class=\"line\">    let timerId, // setTimeout ç”Ÿæˆçš„å®šæ—¶å™¨å¥æŸ„</span><br><span class=\"line\">      lastThis, // ä¿å­˜ä¸Šä¸€æ¬¡ this</span><br><span class=\"line\">      lastArgs, // ä¿å­˜ä¸Šä¸€æ¬¡æ‰§è¡Œ debounced çš„ arguments</span><br><span class=\"line\">      result, // å‡½æ•° func æ‰§è¡Œåçš„è¿”å›å€¼ï¼Œå¤šæ¬¡è§¦å‘ä½†æœªæ»¡è¶³æ‰§è¡Œ func æ¡ä»¶æ—¶ï¼Œè¿”å› result</span><br><span class=\"line\">      lastCallTime,</span><br><span class=\"line\">      maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\"></span><br><span class=\"line\">    let leading = false; // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œï¼Œé»˜è®¤false</span><br><span class=\"line\">    let trailing = true; // æ˜¯å¦å“åº”äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå³æœ€åä¸€æ¬¡è§¦å‘ï¼Œfalse æ—¶å¿½ç•¥,é»˜è®¤ä¸ºtrue</span><br><span class=\"line\"></span><br><span class=\"line\">    /**</span><br><span class=\"line\">     * èŠ‚æµéƒ¨åˆ†å‚æ•°</span><br><span class=\"line\">     **/</span><br><span class=\"line\">    let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\">    let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\"></span><br><span class=\"line\">    wait = +wait || 0;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ä»optionsä¸­è·å–æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (isObject(options)) &#123;</span><br><span class=\"line\">      leading = !!options.leading;</span><br><span class=\"line\">      trailing = &quot;trailing&quot; in options ? !!options.trailing : trailing;</span><br><span class=\"line\"></span><br><span class=\"line\">      /**</span><br><span class=\"line\">       * èŠ‚æµéƒ¨åˆ†å‚æ•°</span><br><span class=\"line\">       **/</span><br><span class=\"line\">      maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">      maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">      // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // æ²¡ä¼  wait æ—¶è°ƒç”¨ window.requestAnimationFrame()</span><br><span class=\"line\">    const useRAF = !wait &amp;&amp; wait !== 0 &amp;&amp; typeof window.requestAnimationFrame === &quot;function&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆdebounce</span><br><span class=\"line\">    function cancel() &#123;</span><br><span class=\"line\">      if (timerId !== undefined) &#123;</span><br><span class=\"line\">        cancelTimer(timerId);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastInvokeTime = 0;</span><br><span class=\"line\">      leading = false;</span><br><span class=\"line\">      maxing = false;</span><br><span class=\"line\">      trailing = true;</span><br><span class=\"line\">      lastArgs = lastThis = timerId = result = lastCallTime = maxWait = undefined;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å¼€å¯å®šæ—¶å™¨</span><br><span class=\"line\">    function startTimer(pendingFunc, wait) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        window.cancelAnimationFrame(timerId);</span><br><span class=\"line\">        return window.requestAnimationFrame(pendingFunc);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return setTimeout(pendingFunc, wait);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å®šæ—¶å™¨å›è°ƒå‡½æ•°ï¼Œè¡¨ç¤ºå®šæ—¶ç»“æŸåçš„æ“ä½œ</span><br><span class=\"line\">    function timerExpired(wait) &#123;</span><br><span class=\"line\">      const time = Date.now();</span><br><span class=\"line\">      // 1ã€æ˜¯å¦éœ€è¦æ‰§è¡Œ</span><br><span class=\"line\">      // æ‰§è¡Œäº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒï¼Œå¦åˆ™é‡å¯å®šæ—¶å™¨</span><br><span class=\"line\">      if (shouldInvoke(time)) &#123;</span><br><span class=\"line\">        return trailingEdge(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      // 2ã€å¦åˆ™ è®¡ç®—å‰©ä½™ç­‰å¾…æ—¶é—´ï¼Œé‡å¯å®šæ—¶å™¨ï¼Œä¿è¯ä¸‹ä¸€æ¬¡æ—¶å»¶çš„æœ«å°¾è§¦å‘</span><br><span class=\"line\">      timerId = startTimer(timerExpired, remainingWait(time));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</span><br><span class=\"line\">    function remainingWait(time) &#123;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\">      // å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">      // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼</span><br><span class=\"line\">      // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">      return maxing</span><br><span class=\"line\">        ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">        : timeWaiting;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // è¿™é‡Œæ—¶è§¦å‘åä»è°ƒç”¨å‡½æ•°</span><br><span class=\"line\">    function trailingEdge(time) &#123;</span><br><span class=\"line\">      timerId = undefined;</span><br><span class=\"line\"></span><br><span class=\"line\">      // è¿™æ„å‘³ç€`func&#x27;å·²ç»è¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚</span><br><span class=\"line\">      if (trailing &amp;&amp; lastArgs) &#123;</span><br><span class=\"line\">        return invokeFunc(time);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      lastArgs = lastThis = undefined;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // å–æ¶ˆå®šæ—¶å™¨</span><br><span class=\"line\">    function cancelTimer(id) &#123;</span><br><span class=\"line\">      if (useRAF) &#123;</span><br><span class=\"line\">        return window.cancelAnimationFrame(id);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      clearTimeout(id);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function invokeFunc(time) &#123;</span><br><span class=\"line\">      const args = lastArgs;</span><br><span class=\"line\">      const thisArg = lastThis;</span><br><span class=\"line\">      lastArgs = lastThis = undefined; // æ¸…ç©ºå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\"></span><br><span class=\"line\">      lastInvokeTime = time;</span><br><span class=\"line\">      result = func.apply(thisArg, args); // ç»‘å®šå½“å‰å‡½æ•°æŒ‡å‘çš„this,argumnents</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\">    // lastCallTime === undefined ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶</span><br><span class=\"line\">    // timeSinceLastCall &gt;= wait è¶…è¿‡è¶…æ—¶æ—¶é—´ waitï¼Œå¤„ç†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">    // timeSinceLastCall &lt; 0 å½“å‰æ—¶é—´ - ä¸Šæ¬¡è°ƒç”¨æ—¶é—´å°äº 0ï¼Œå³æ›´æ”¹äº†ç³»ç»Ÿæ—¶é—´</span><br><span class=\"line\">    // maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait è¶…è¿‡æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">    function shouldInvoke(time) &#123;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">      // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">      const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\"></span><br><span class=\"line\">      // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true</span><br><span class=\"line\">      return (</span><br><span class=\"line\">        lastCallTime === undefined ||</span><br><span class=\"line\">        timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">        timeSinceLastCall &lt; 0 ||</span><br><span class=\"line\">        (maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait)</span><br><span class=\"line\">      );</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    // ç«‹å³æ‰§è¡Œå‡½æ•°</span><br><span class=\"line\">    function leadingEdge(time) &#123;</span><br><span class=\"line\">      // 1ã€è®¾ç½®ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´</span><br><span class=\"line\">      lastInvokeTime = time;</span><br><span class=\"line\">      // 2ã€å¼€å¯å®šæ—¶å™¨ï¼Œä¸ºäº†äº‹ä»¶ç»“æŸåçš„é‚£æ¬¡å›è°ƒ</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      // 3ã€å¦‚æœé…ç½®äº† leading æ‰§è¡Œä¼ å…¥å‡½æ•° func</span><br><span class=\"line\">      // leading æ¥æºè‡ª !!options.leading</span><br><span class=\"line\">      return leading ? invokeFunc(time) : result;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    const debounced = function (...args) &#123;</span><br><span class=\"line\">      const time = Date.now(); // è·å–å½“å‰æ—¶é—´</span><br><span class=\"line\">      const isInvoking = shouldInvoke(time); // åˆ¤æ–­æ­¤æ—¶æ˜¯å¦ç«‹å³æ‰§è¡Œ func å‡½æ•°</span><br><span class=\"line\"></span><br><span class=\"line\">      lastArgs = args;</span><br><span class=\"line\">      lastThis = this;</span><br><span class=\"line\">      lastCallTime = time;</span><br><span class=\"line\"></span><br><span class=\"line\">      if (isInvoking) &#123;</span><br><span class=\"line\">        // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">        if (timerId === undefined) &#123;</span><br><span class=\"line\">          return leadingEdge(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">        // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚</span><br><span class=\"line\">        // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class=\"line\">        if (maxing) &#123;</span><br><span class=\"line\">          // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">          timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">          return invokeFunc(lastCallTime);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      if (timerId === undefined) &#123;</span><br><span class=\"line\">        timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      return result;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    debounced.cancel = cancel;</span><br><span class=\"line\">    return debounced;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<pre><code>ä¸Šè¿°ä»£ç ï¼š\n    å°½ç®¡ä»£ç æœ‰ç‚¹é•¿ï¼Œä½†æ˜¯å®é™…ä¸Šåªæ˜¯å¢åŠ äº†maxWaitã€‚\n</code></pre>\n<p>ä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹ maxWait æ–°å¢çš„é‚£éƒ¨åˆ†ä»£ç ã€‚</p>\n<h2 id=\"åˆ†æ-maxWait-æ–°å¢éƒ¨åˆ†\"><a href=\"#åˆ†æ-maxWait-æ–°å¢éƒ¨åˆ†\" class=\"headerlink\" title=\"åˆ†æ maxWait æ–°å¢éƒ¨åˆ†\"></a>åˆ†æ maxWait æ–°å¢éƒ¨åˆ†</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 1.å®šä¹‰å˜é‡</span><br><span class=\"line\">let maxWait; // ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´</span><br><span class=\"line\">let lastInvokeTime = 0; // ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\">let maxing = false; // æ˜¯å¦æœ‰æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œé…åˆ maxWait å¤šç”¨äºèŠ‚æµç›¸å…³</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">// 2.ä»optionsä¸­å–å‡ºmaxWait</span><br><span class=\"line\">if (isObject(options)) &#123;</span><br><span class=\"line\">  maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">  // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</span><br><span class=\"line\">function remainingWait(time) &#123;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\">  // å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  const timeWaiting = wait - timeSinceLastCall;</span><br><span class=\"line\"></span><br><span class=\"line\">  // æ˜¯å¦è®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  // æ˜¯ï¼ˆèŠ‚æµï¼‰ï¼šè¿”å›ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼</span><br><span class=\"line\">  // å¦ï¼šè¿”å›å‰©ä½™ç­‰å¾…æ—¶é—´</span><br><span class=\"line\">  return maxing</span><br><span class=\"line\">    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">    : timeWaiting;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">function shouldInvoke(time) &#123;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡è°ƒç”¨ debounce çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastCall = time - lastCallTime;</span><br><span class=\"line\">  // å½“å‰æ—¶é—´è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œ func çš„æ—¶é—´å·®</span><br><span class=\"line\">  const timeSinceLastInvoke = time - lastInvokeTime;</span><br><span class=\"line\"></span><br><span class=\"line\">  // ä¸Šè¿° 4 ç§æƒ…å†µè¿”å› true</span><br><span class=\"line\">  return (</span><br><span class=\"line\">    lastCallTime === undefined ||</span><br><span class=\"line\">    timeSinceLastCall &gt;= wait ||</span><br><span class=\"line\">    timeSinceLastCall &lt; 0 ||</span><br><span class=\"line\">    (maxing &amp;&amp; timeSinceLastInvoke &gt;= maxWait)</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">// 5.æœ‰maxingæ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°</span><br><span class=\"line\">if (isInvoking) &#123;</span><br><span class=\"line\">    // åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</span><br><span class=\"line\">    if (timerId === undefined) &#123;</span><br><span class=\"line\">      return leadingEdge(lastCallTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    // å¦‚æœè®¾ç½®äº†æœ€å¤§ç­‰å¾…æ—¶é—´ï¼Œåˆ™ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">    // 1ã€å¼€å¯å®šæ—¶å™¨ï¼Œåˆ°æ—¶é—´åè§¦å‘ trailingEdge è¿™ä¸ªå‡½æ•°ã€‚</span><br><span class=\"line\">    // 2ã€æ‰§è¡Œ funcï¼Œå¹¶è¿”å›ç»“æœ</span><br><span class=\"line\">    if (maxing) &#123;</span><br><span class=\"line\">      // å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">      timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">      return invokeFunc(lastCallTime);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><strong>1.æ–°å¢å˜é‡</strong>å°±ä¸å¤šè¯´äº†ã€‚</p>\n<p><strong>2.ä» options ä¸­å–å‡º<code>maxWait</code></strong>:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 2.ä»optionsä¸­å–å‡ºmaxWait</span><br><span class=\"line\">if (isObject(options)) &#123;</span><br><span class=\"line\">  maxing = &quot;maxWait&quot; in options; // options ä¸­æ˜¯å¦æœ‰ maxWait å±æ€§ï¼ŒèŠ‚æµå‡½æ•°é¢„ç•™</span><br><span class=\"line\">  maxWait = maxing ? Math.max(+options.maxWait || 0, wait) : maxWait; // maxWait ä¸ºè®¾ç½®çš„ maxWait å’Œ wait ä¸­æœ€å¤§çš„</span><br><span class=\"line\">  // å¦‚æœ maxWait &lt; waitï¼Œé‚£ maxWait å°±æ²¡æœ‰æ„ä¹‰äº†</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>1.è¿™é‡Œä¸»è¦æ˜¯å°†<code>maxing</code>,åˆ¤æ–­æ˜¯å¦ä¼ äº†<code>maxWait</code>å‚æ•°ã€‚</li>\n<li>2.å¦‚æœæœªä¼ åˆ™<code>maxWait</code>è¿˜æ˜¯ä¸ºåˆå§‹å®šä¹‰çš„<code>undefined</code>ã€‚</li>\n<li>3.å¦‚æœä¼ å…¥äº†<code>maxWait</code>ï¼Œåˆ™é‡æ–°èµ‹å€¼<code>Math.max(+options.maxWait || 0, wait)</code>ã€‚è¿™é‡Œä¸»è¦å°±æ˜¯å–<code>maxWait</code>å’Œ<code>wait</code>ä¸­çš„å¤§å€¼ã€‚</li>\n</ul>\n<p><strong>3.è®¡ç®—ä»éœ€ç­‰å¾…çš„æ—¶é—´</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">return maxing</span><br><span class=\"line\">    ? Math.min(timeWaiting, maxWait - timeSinceLastInvoke)</span><br><span class=\"line\">    : timeWaiting;</span><br></pre></td></tr></table></figure>\n\n<p>é¦–å…ˆåˆ¤æ–­æ˜¯å¦èŠ‚æµï¼ˆmaxingï¼‰ï¼š</p>\n<ol>\n<li>æ˜¯&#x3D;&gt;å–ã€Œå‰©ä½™ç­‰å¾…æ—¶é—´ã€å’Œã€Œè·ä¸Šæ¬¡æ‰§è¡Œ func çš„å‰©ä½™ç­‰å¾…æ—¶é—´ã€ä¸­çš„æœ€å°å€¼ã€‚</li>\n<li>å¦&#x3D;&gt;å–å‰©ä½™ç­‰å¾…æ—¶é—´</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxWait - (time - lastInvokeTime)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// ä¸‹æ¬¡è§¦å‘ func å‰©ä½™æ—¶é—´</span><br><span class=\"line\">const remaining = wait - (now - previous);</span><br></pre></td></tr></table></figure>\n\n<p><strong>4.åˆ¤æ–­æ˜¯å¦ç«‹å³æ‰§è¡Œ</strong><br>lodash ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">maxing &amp;&amp; (time - lastInvokeTime) &gt;= maxWait</span><br></pre></td></tr></table></figure>\n\n<p>å°±å¾€ä¸‹æ‰§è¡Œã€‚</p>\n<p>è¿™é‡Œæ˜¯ä¸æ˜¯å°±æ˜¯èŠ‚æµä¸­</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (remaining &lt;= 0 || remaining &gt; wait)</span><br></pre></td></tr></table></figure>\n\n<p>å°±å¾€ä¸‹æ‰§è¡Œã€‚</p>\n<p><strong>5.æœ‰ maxing æ—¶ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‡½æ•°</strong><br>lodash ä»£ç ï¼šå¦‚æœæ˜¯èŠ‚æµå‡½æ•°å°±æ‰§è¡Œ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// å¾ªç¯å®šæ—¶å™¨ä¸­å¤„ç†è°ƒç”¨</span><br><span class=\"line\">timerId = startTimer(timerExpired, wait);</span><br><span class=\"line\">return invokeFunc(lastCallTime);</span><br></pre></td></tr></table></figure>\n\n<p>èŠ‚æµå‡½æ•°ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">timeout = setTimeout(function () &#123;</span><br><span class=\"line\">    timeout = null;</span><br><span class=\"line\">    previous = options.leading === false ? 0 : getNow(); // è¿™é‡Œæ˜¯å°†previousé‡æ–°èµ‹å€¼å½“å‰æ—¶é—´</span><br><span class=\"line\">    showResult(context, args);</span><br><span class=\"line\">&#125;, remaining);</span><br></pre></td></tr></table></figure>\n\n<p>æ€»ä¹‹ï¼Œlodash<code>maxWait</code>éƒ¨åˆ†ï¼Œå°½ç®¡å‚æ•°åå¤šï¼Œä½†å®é™…ä¸Šå°±æ˜¯<strong>èŠ‚æµå‡½æ•°ä¸­ï¼Œåˆ¤æ–­å‰©ä½™æ—¶é—´<code>remaining</code>ã€‚ä¸éœ€è¦ç­‰å¾…ï¼Œå°±ç›´æ¥ç«‹å³æ‰§è¡Œï¼Œå¦åˆ™å°±åˆ°å‰©ä½™æ—¶é—´å°±æ‰§è¡Œä¸€æ¬¡ï¼Œä¾æ¬¡ç±»æ¨ã€‚</strong></p>\n<h2 id=\"å¯¹å¤–-3-ä¸ªæ–¹æ³•\"><a href=\"#å¯¹å¤–-3-ä¸ªæ–¹æ³•\" class=\"headerlink\" title=\"å¯¹å¤– 3 ä¸ªæ–¹æ³•\"></a>å¯¹å¤– 3 ä¸ªæ–¹æ³•</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">debounced.cancel = cancel // å–æ¶ˆå‡½æ•°å»¶è¿Ÿæ‰§è¡Œ</span><br><span class=\"line\">debounced.flush = flush // ç«‹å³æ‰§è¡Œ func</span><br><span class=\"line\">debounced.pending = pending // æ£€æŸ¥å½“å‰æ˜¯å¦åœ¨è®¡æ—¶ä¸­</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"æ¼”ç¤ºåœ°å€\"><a href=\"#æ¼”ç¤ºåœ°å€\" class=\"headerlink\" title=\"æ¼”ç¤ºåœ°å€\"></a>æ¼”ç¤ºåœ°å€</h2><p>å¯ä»¥å»<a href=\"https://github.com/yihan12/Blog/tree/main/demos/debounce_lodash\">Github ä»“åº“</a>æŸ¥çœ‹æ¼”ç¤ºä»£ç </p>\n<h2 id=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"><a href=\"#è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\" class=\"headerlink\" title=\"è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—\"></a>è·Ÿç€å¤§ä½¬å­¦ç³»åˆ—</h2><p>ä¸»è¦æ˜¯æ—¥å¸¸å¯¹æ¯ä¸ªè¿›é˜¶çŸ¥è¯†ç‚¹çš„æ‘¸é€ï¼Œè·Ÿç€å¤§ä½¬ä¸€èµ·å»æ·±å…¥äº†è§£ JavaScript çš„è¯­è¨€è‰ºæœ¯ã€‚</p>\n<p>åç»­ä¼šä¸€ç›´æ›´æ–°ï¼Œå¸Œæœ›å„ä½çœ‹å®˜ä¸è¦åå•¬æ‰‹ä¸­çš„èµã€‚</p>\n<p>â¤ï¸ <strong>æ„Ÿè°¢å„ä½çš„æ”¯æŒï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å¦‚æœæœ‰é”™è¯¯æˆ–è€…ä¸ä¸¥è°¨çš„åœ°æ–¹ï¼Œè¯·åŠ¡å¿…ç»™äºˆæŒ‡æ­£ï¼Œååˆ†æ„Ÿè°¢ï¼ï¼ï¼</strong></p>\n<p>â¤ï¸ <strong>å–œæ¬¢æˆ–è€…æœ‰æ‰€å¯å‘ï¼Œæ¬¢è¿ starï¼ï¼ï¼</strong></p>\n<h2 id=\"å‚è€ƒ\"><a href=\"#å‚è€ƒ\" class=\"headerlink\" title=\"å‚è€ƒ\"></a>å‚è€ƒ</h2><ul>\n<li><a href=\"https://www.muyiy.cn/blog/7/7.4.html\">æ·±å…¥ç¯‡é˜¿é‡Œ P6 å¿…ä¼š Lodash é˜²æŠ–èŠ‚æµå‡½æ•°å®ç°åŸç†</a></li>\n<li><a href=\"https://github.com/lodash/lodash/blob/master/debounce.js\">lodash_debounce.js</a></li>\n<li><a href=\"https://github.com/lodash/lodash/blob/master/throttle.js\">lodash_throttle.js</a></li>\n</ul>\n<h2 id=\"åŸæ–‡åœ°å€\"><a href=\"#åŸæ–‡åœ°å€\" class=\"headerlink\" title=\"åŸæ–‡åœ°å€\"></a>åŸæ–‡åœ°å€</h2><p><a href=\"https://github.com/yihan12/Blog/issues/3\">ã€è·Ÿç€å¤§ä½¬å­¦ JavaScriptã€‘ä¹‹ lodash é˜²æŠ–èŠ‚æµåˆå¹¶\n</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cllad2ywd0003q42v2bih0qi1","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywp001iq42v7vh29c42"},{"post_id":"cllad2ywd0003q42v2bih0qi1","category_id":"cllad2ywo0019q42v3d7m0etr","_id":"cllad2ywp001lq42v67sw0ssj"},{"post_id":"cllad2ywk000oq42vdpr3fdpe","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yws0024q42vhwhh5g46"},{"post_id":"cllad2ywk000oq42vdpr3fdpe","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywt0028q42vfadn8bz9"},{"post_id":"cllad2ywk000oq42vdpr3fdpe","category_id":"cllad2ywq001vq42vgnwwh756","_id":"cllad2ywt002aq42vgy3q3pcy"},{"post_id":"cllad2ywg0009q42vb3661j7p","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywt002eq42vd7nn7mj2"},{"post_id":"cllad2ywg0009q42vb3661j7p","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywu002gq42vglpl9v3g"},{"post_id":"cllad2ywg0009q42vb3661j7p","category_id":"cllad2ywq0020q42vcdfw3d2g","_id":"cllad2ywu002iq42vct9oa5fi"},{"post_id":"cllad2ywk000qq42v7j50berz","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywu002kq42vdpd5h5av"},{"post_id":"cllad2ywk000qq42v7j50berz","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywu002mq42v4m8f6yiv"},{"post_id":"cllad2ywk000qq42v7j50berz","category_id":"cllad2yws0025q42v5gbnanaa","_id":"cllad2ywu002nq42v1dnle5oo"},{"post_id":"cllad2ywb0001q42vfqwth6ui","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywu002oq42v3smcdgq9"},{"post_id":"cllad2ywb0001q42vfqwth6ui","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywu002qq42v56c76i0r"},{"post_id":"cllad2ywb0001q42vfqwth6ui","category_id":"cllad2ywu002hq42vesya8nqr","_id":"cllad2ywu002rq42vhmmjcsz7"},{"post_id":"cllad2ywg000aq42vb0i01rgo","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywv002vq42v6j4lc723"},{"post_id":"cllad2ywg000aq42vb0i01rgo","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywv002wq42vg0juggu6"},{"post_id":"cllad2ywg000aq42vb0i01rgo","category_id":"cllad2ywu002sq42v0igb6zdy","_id":"cllad2ywv002yq42v9w753woe"},{"post_id":"cllad2ywh000dq42vd2q4dbbb","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yww0031q42vcj9rgvlg"},{"post_id":"cllad2ywh000dq42vd2q4dbbb","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww0032q42v22qc8sds"},{"post_id":"cllad2ywh000dq42vd2q4dbbb","category_id":"cllad2ywv002xq42vc3xcc09t","_id":"cllad2yww0033q42vfxnl4lhv"},{"post_id":"cllad2ywh000eq42v4b5x3pca","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yww0035q42v5egaespv"},{"post_id":"cllad2ywh000eq42v4b5x3pca","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww0037q42v8cu167cw"},{"post_id":"cllad2ywh000eq42v4b5x3pca","category_id":"cllad2ywv0030q42vcfaq39kg","_id":"cllad2yww0038q42v5ft2hrq9"},{"post_id":"cllad2ywi000iq42v4a5faexf","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yww003aq42vbv8lafu6"},{"post_id":"cllad2ywi000iq42v4a5faexf","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2yww003bq42v17xu05gh"},{"post_id":"cllad2ywi000iq42v4a5faexf","category_id":"cllad2yww0034q42v8qvz2r6x","_id":"cllad2ywx003dq42ve6vt3pcv"},{"post_id":"cllad2ywf0007q42v4greburz","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywx003eq42v0c89bnjr"},{"post_id":"cllad2ywf0007q42v4greburz","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywx003gq42v5ljn2x12"},{"post_id":"cllad2ywf0007q42v4greburz","category_id":"cllad2yww0036q42vhhu9f7mf","_id":"cllad2ywx003hq42vhvw1h1rf"},{"post_id":"cllad2ywj000kq42vbpeeec67","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywx003iq42v3usa6u4l"},{"post_id":"cllad2ywj000kq42vbpeeec67","category_id":"cllad2ywj000lq42vdkuy0ho6","_id":"cllad2ywx003kq42v7tlj7hwg"},{"post_id":"cllad2ywj000kq42vbpeeec67","category_id":"cllad2yww0039q42v33gw9mwk","_id":"cllad2ywx003lq42vazlke8fe"},{"post_id":"cllad2ywl000uq42v6oxpcacw","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywy003nq42vg1o52i0p"},{"post_id":"cllad2ywl000uq42v6oxpcacw","category_id":"cllad2ywt002bq42v3au1e2ux","_id":"cllad2ywy003oq42v7m9gduz4"},{"post_id":"cllad2ywl000uq42v6oxpcacw","category_id":"cllad2ywx003cq42v6pdgcj8g","_id":"cllad2ywy003qq42v3a3ch3qh"},{"post_id":"cllad2ywl000wq42vc4swga6p","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2ywz003uq42v7doic2hf"},{"post_id":"cllad2ywl000wq42vc4swga6p","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx0003wq42v0m6feyyy"},{"post_id":"cllad2ywl000wq42vc4swga6p","category_id":"cllad2ywx003fq42vgzzbcaeq","_id":"cllad2yx0003xq42vg9jjga76"},{"post_id":"cllad2ywl000wq42vc4swga6p","category_id":"cllad2ywy003sq42va5gafqr1","_id":"cllad2yx0003zq42van716emf"},{"post_id":"cllad2ywm0010q42v8zkmcace","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yx00040q42v2bm5bgh7"},{"post_id":"cllad2ywm0010q42v8zkmcace","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx00042q42vgrqid22j"},{"post_id":"cllad2ywm0010q42v8zkmcace","category_id":"cllad2ywx003fq42vgzzbcaeq","_id":"cllad2yx00043q42vak2rbh7w"},{"post_id":"cllad2ywm0010q42v8zkmcace","category_id":"cllad2ywy003tq42vdgv33640","_id":"cllad2yx00044q42vhnkq0x91"},{"post_id":"cllad2ywm0012q42vf9peh25a","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yx00045q42vh44m0pvz"},{"post_id":"cllad2ywm0012q42vf9peh25a","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx10046q42v1ty05mdp"},{"post_id":"cllad2ywm0012q42vf9peh25a","category_id":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2yx10047q42v200j0mhs"},{"post_id":"cllad2ywm0012q42vf9peh25a","category_id":"cllad2ywz003vq42v9uwu1cfj","_id":"cllad2yx10048q42vbi7k3prr"},{"post_id":"cllad2ywn0016q42v2o223tac","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yx10049q42v20qkbv3c"},{"post_id":"cllad2ywn0016q42v2o223tac","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx1004aq42v9pe0eyzm"},{"post_id":"cllad2ywn0016q42v2o223tac","category_id":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2yx1004bq42v9kz94n3g"},{"post_id":"cllad2ywn0016q42v2o223tac","category_id":"cllad2yx0003yq42v491hcumc","_id":"cllad2yx1004cq42va97f8sjo"},{"post_id":"cllad2ywo0018q42vcib33ero","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yx1004dq42vap2h2994"},{"post_id":"cllad2ywo0018q42vcib33ero","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx1004eq42vh6fvcl9g"},{"post_id":"cllad2ywo0018q42vcib33ero","category_id":"cllad2ywx003mq42v05bvhbgh","_id":"cllad2yx1004fq42v5mu91yvh"},{"post_id":"cllad2ywo0018q42vcib33ero","category_id":"cllad2yx00041q42vd2901ko5","_id":"cllad2yx1004gq42vdy0c945c"},{"post_id":"cllad2yx2004hq42v656l6vnc","category_id":"cllad2ywe0004q42v3wllebmy","_id":"cllad2yx4004nq42vgcfqdy44"},{"post_id":"cllad2yx2004hq42v656l6vnc","category_id":"cllad2ywu002lq42v0x2k0a4u","_id":"cllad2yx4004oq42v0adodp4v"},{"post_id":"cllad2yx2004hq42v656l6vnc","category_id":"cllad2yx2004jq42v57sw8uvt","_id":"cllad2yx4004pq42v87fgctdc"},{"post_id":"cllad2yx2004hq42v656l6vnc","category_id":"cllad2yx3004lq42vchdgb27i","_id":"cllad2yx4004qq42vee0978r1"}],"PostTag":[{"post_id":"cllad2ywh000dq42vd2q4dbbb","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywi000hq42v582me23k"},{"post_id":"cllad2ywh000dq42vd2q4dbbb","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywj000jq42vb4cb1dxk"},{"post_id":"cllad2ywb0001q42vfqwth6ui","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywk000nq42v9h2g8vx1"},{"post_id":"cllad2ywb0001q42vfqwth6ui","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywk000pq42vazwhdugy"},{"post_id":"cllad2ywh000eq42v4b5x3pca","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywl000sq42v9r4w10zo"},{"post_id":"cllad2ywh000eq42v4b5x3pca","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywl000vq42vettaf4mg"},{"post_id":"cllad2ywi000iq42v4a5faexf","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywm000yq42vbai71x31"},{"post_id":"cllad2ywi000iq42v4a5faexf","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywm0011q42vcosr7cse"},{"post_id":"cllad2ywj000kq42vbpeeec67","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywn0014q42vd27g4r4a"},{"post_id":"cllad2ywj000kq42vbpeeec67","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywn0017q42v24c0818x"},{"post_id":"cllad2ywk000oq42vdpr3fdpe","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywo001aq42v72al9zlb"},{"post_id":"cllad2ywk000oq42vdpr3fdpe","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywo001cq42vga2yb0c9"},{"post_id":"cllad2ywd0003q42v2bih0qi1","tag_id":"cllad2ywi000gq42vhtz0cva3","_id":"cllad2ywo001eq42vbs66doht"},{"post_id":"cllad2ywd0003q42v2bih0qi1","tag_id":"cllad2ywk000mq42vbgk86teo","_id":"cllad2ywp001gq42v93xhbwn2"},{"post_id":"cllad2ywk000qq42v7j50berz","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywp001jq42v6pbj1ekb"},{"post_id":"cllad2ywk000qq42v7j50berz","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywp001mq42v2bpp69rk"},{"post_id":"cllad2ywf0007q42v4greburz","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywp001oq42v0w1177c0"},{"post_id":"cllad2ywf0007q42v4greburz","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywq001qq42vghml3aaw"},{"post_id":"cllad2ywg0009q42vb3661j7p","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywq001sq42v0hzl2f2n"},{"post_id":"cllad2ywg0009q42vb3661j7p","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywq001uq42v4n5ohjmp"},{"post_id":"cllad2ywg000aq42vb0i01rgo","tag_id":"cllad2ywe0005q42va92d96ef","_id":"cllad2ywq001wq42vhlcjcdb2"},{"post_id":"cllad2ywg000aq42vb0i01rgo","tag_id":"cllad2ywg000cq42vetf94ze4","_id":"cllad2ywq001yq42v0c5j1y34"},{"post_id":"cllad2ywl000uq42v6oxpcacw","tag_id":"cllad2ywo001fq42vb7y60rcb","_id":"cllad2ywq001zq42vfhhbfsmj"},{"post_id":"cllad2ywl000wq42vc4swga6p","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2ywr0022q42ve2vzbto5"},{"post_id":"cllad2ywl000wq42vc4swga6p","tag_id":"cllad2ywp001pq42v3esyf6zt","_id":"cllad2yws0023q42vhzay1aih"},{"post_id":"cllad2ywm0010q42v8zkmcace","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2ywt0027q42vdixwbtan"},{"post_id":"cllad2ywm0010q42v8zkmcace","tag_id":"cllad2ywp001pq42v3esyf6zt","_id":"cllad2ywt0029q42v786o3p7w"},{"post_id":"cllad2ywm0012q42vf9peh25a","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2ywt002dq42v2e2chhya"},{"post_id":"cllad2ywn0016q42v2o223tac","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2ywt002fq42v2cix19ep"},{"post_id":"cllad2ywo0018q42vcib33ero","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2ywu002jq42v7bl251fu"},{"post_id":"cllad2yx2004hq42v656l6vnc","tag_id":"cllad2ywp001kq42v1gp0hofy","_id":"cllad2yx3004kq42v4m8rfnoj"},{"post_id":"cllad2yx2004hq42v656l6vnc","tag_id":"cllad2yx2004iq42v1xtb9inf","_id":"cllad2yx3004mq42v6jmxepan"}],"Tag":[{"name":"å‰ç«¯","_id":"cllad2ywe0005q42va92d96ef"},{"name":"Echarts","_id":"cllad2ywg000cq42vetf94ze4"},{"name":"js","_id":"cllad2ywi000gq42vhtz0cva3"},{"name":"æ­£åˆ™","_id":"cllad2ywk000mq42vbgk86teo"},{"name":"æµè§ˆå™¨","_id":"cllad2ywo001fq42vb7y60rcb"},{"name":"JavaScript","_id":"cllad2ywp001kq42v1gp0hofy"},{"name":"ES6","_id":"cllad2ywp001pq42v3esyf6zt"},{"name":"lodash","_id":"cllad2yx2004iq42v1xtb9inf"}]}}